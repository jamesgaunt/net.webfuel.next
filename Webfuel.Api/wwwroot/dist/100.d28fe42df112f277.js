"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[100],{4100:(L,G,l)=>{l.r(G),l.d(G,{UserModule:()=>_e});var a=l(177),j=l(2896),u=l(4722),e=l(4438),s=l(4341),g=l(7520),h=l(8829),v=l(6540),f=l(4258),c=l(3548),_=l(2817),d=l(5701);let k=(()=>{class r extends g.u{open(){return this._open(b,void 0)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(r)))(o||r)}})()}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),b=(()=>{class r extends g.V{constructor(t,i,o,n){super(),this.formService=t,this.userApi=i,this.userGroupApi=o,this.staticDataCache=n,this.form=new s.gE({email:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),title:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),firstName:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),lastName:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),userGroupId:new s.MJ("",{validators:[s.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.userApi.create(this.form.getRawValue(),{successGrowl:"User Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(h.u),e.rXU(v.i),e.rXU(f.d),e.rXU(c.t))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["create-user-dialog"]],features:[e.Vt3],decls:30,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","email",1,"input"],["placeholder","required","formControlName","title",3,"dataSource"],["type","text","placeholder","required","formControlName","firstName",1,"input"],["type","text","placeholder","required","formControlName","lastName",1,"input"],["placeholder","required","formControlName","userGroupId",3,"dataSource"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create User "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Email"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",4)(10,"label",5),e.EFF(11,"Title"),e.k0s(),e.nrm(12,"dropdown-text-input",7),e.k0s(),e.j41(13,"div",4)(14,"label",5),e.EFF(15,"First Name"),e.k0s(),e.nrm(16,"input",8),e.k0s(),e.j41(17,"div",4)(18,"label",5),e.EFF(19,"Last Name"),e.k0s(),e.nrm(20,"input",9),e.k0s(),e.j41(21,"div",4)(22,"label",5),e.EFF(23,"User Group"),e.k0s(),e.nrm(24,"dropdown-select",10),e.k0s()()(),e.j41(25,"div",11)(26,"button",12),e.bIt("click",function(){return o.save()}),e.EFF(27,"Add"),e.k0s(),e.j41(28,"button",13),e.bIt("click",function(){return o.cancel()}),e.EFF(29,"Cancel"),e.k0s()()()),2&i&&(e.Y8G("formGroup",o.form),e.R7$(12),e.Y8G("dataSource",o.staticDataCache.title),e.R7$(12),e.Y8G("dataSource",o.userGroupApi))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,_.p,d.A],encapsulation:2})}}return r})();var F=l(4247),D=l(6089),y=l(1062),S=l(1435),A=l(3376),B=l(9779);let x=(()=>{class r{constructor(t,i,o,n,p,C){this.router=t,this.createUserDialog=i,this.confirmDeleteDialog=o,this.userApi=n,this.userGroupApi=p,this.reportService=C}add(){this.createUserDialog.open()}edit(t){this.router.navigate(["user/user-item",t.id])}delete(t){this.confirmDeleteDialog.open({title:"User"}).subscribe(()=>{this.userApi.delete({id:t.id},{successGrowl:"User Deleted"}).subscribe()})}export(){this.userApi.export({skip:0,take:0}).subscribe(t=>{this.reportService.runReport(t)})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.Ix),e.rXU(k),e.rXU(F.K),e.rXU(v.i),e.rXU(f.d),e.rXU(D.G))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-list"]],decls:21,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[3,"dataSource","search"],["name","fullName","label","Name"],["name","email"],["name","userGroupId",3,"dataSource"],[3,"add","edit","delete"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Users"),e.k0s()()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5)(10,"h1",6),e.EFF(11,"Users"),e.k0s()(),e.j41(12,"div",5)(13,"div",7)(14,"button",8),e.bIt("click",function(){return o.export()}),e.EFF(15,"Export"),e.k0s()()()(),e.j41(16,"grid",9),e.nrm(17,"grid-column",10)(18,"grid-column",11)(19,"grid-reference-column",12),e.j41(20,"grid-action-column",13),e.bIt("add",function(){return o.add()})("edit",function(p){return o.edit(p)})("delete",function(p){return o.delete(p)}),e.k0s()()()),2&i&&(e.R7$(16),e.Y8G("dataSource",o.userApi)("search",!0),e.R7$(3),e.Y8G("dataSource",o.userGroupApi))},dependencies:[u.Wk,y._,S.C,A.y,B.h],encapsulation:2})}}return r})();var V=l(4052),J=l(2864);let N=(()=>{class r extends g.u{open(t){return this._open(P,t)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(r)))(o||r)}})()}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),P=(()=>{class r extends g.V{constructor(t,i,o){super(),this.formService=t,this.growlService=i,this.userLoginApi=o,this.form=new s.gE({userId:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),newPassword:new s.MJ("",{validators:[s.k0.required],nonNullable:!0})}),this.form.patchValue({userId:this.data.id})}save(){this.formService.hasErrors(this.form)||this.userLoginApi.updatePassword(this.form.getRawValue()).subscribe(()=>{this.growlService.growlSuccess("Password changed"),this._closeDialog(!0)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(h.u),e.rXU(V.Z),e.rXU(J.r))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["update-password-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","password","placeholder","required","formControlName","newPassword",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Change Password "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"New Password"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return o.save()}),e.EFF(11,"Change Password"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return o.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&i&&e.Y8G("formGroup",o.form)},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD],encapsulation:2})}}return r})();var Y=l(1449),w=l(9463),R=l(3671);let I=(()=>{class r{constructor(t,i){this.route=t,this.router=i}ngOnInit(){this.reset(this.route.snapshot.data.user)}reset(t){this.item=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-tabs"]],decls:11,vars:6,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e.EFF(4,"User"),e.k0s()(),e.j41(5,"li",1)(6,"a",2),e.EFF(7,"Support Teams"),e.k0s()(),e.j41(8,"li",1)(9,"a",2),e.EFF(10,"Activity"),e.k0s()()()()),2&i&&(e.R7$(3),e.Mz_("routerLink","../../user-item/",o.item.id,""),e.R7$(3),e.Mz_("routerLink","../../user-support-team/",o.item.id,""),e.R7$(3),e.Mz_("routerLink","../../user-activity/",o.item.id,""))},dependencies:[u.Wk,u.wQ],encapsulation:2})}}return r})();function q(r,m){if(1&r&&(e.j41(0,"div",36),e.nrm(1,"dropdown-select",37),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("items",t.professionalBackgroundDetail)}}let O=(()=>{class r{constructor(t,i,o,n,p,C,U){this.route=t,this.router=i,this.formService=o,this.userApi=n,this.userGroupApi=p,this.staticDataCache=C,this.updatePasswordDialog=U,this.form=new s.gE({id:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),email:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),title:new s.MJ("",{nonNullable:!0}),firstName:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),lastName:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),userGroupId:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),staffRoleId:new s.MJ(null),staffRoleFreeText:new s.MJ("",{nonNullable:!0}),universityJobTitle:new s.MJ("",{nonNullable:!0}),disciplineIds:new s.MJ([],{nonNullable:!0}),disciplineFreeText:new s.MJ("",{nonNullable:!0}),siteId:new s.MJ(null),professionalBackgroundId:new s.MJ(null),professionalBackgroundFreeText:new s.MJ("",{nonNullable:!0}),professionalBackgroundDetailId:new s.MJ(null),professionalBackgroundDetailFreeText:new s.MJ("",{nonNullable:!0}),startDateForRSS:new s.MJ(null),endDateForRSS:new s.MJ(null),fullTimeEquivalentForRSS:new s.MJ(null),disabled:new s.MJ(!1,{nonNullable:!0}),hidden:new s.MJ(!1,{nonNullable:!0})}),this.professionalBackgroundDetail=[]}ngOnInit(){this.form.controls.professionalBackgroundId.valueChanges.subscribe(t=>{this.updateProfessionalBackgroundDetail(t)}),this.reset(this.route.snapshot.data.user)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.userApi.update(this.form.getRawValue(),{successGrowl:"User Updated"}).subscribe(i=>{this.reset(i),t&&this.router.navigate(["user/user-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}updatePassword(){this.updatePasswordDialog.open(this.item)}updateProfessionalBackgroundDetail(t){this.professionalBackgroundDetail=[],this.staticDataCache.professionalBackgroundDetail.query({skip:0,take:1e3}).subscribe(i=>{var o=i.items.filter(n=>n.professionalBackgroundId==t);this.professionalBackgroundDetail=o,void 0===o.find(n=>n.id==this.form.value.professionalBackgroundDetailId)&&this.form.patchValue({professionalBackgroundDetailId:null,professionalBackgroundDetailFreeText:""})})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(h.u),e.rXU(v.i),e.rXU(f.d),e.rXU(c.t),e.rXU(N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-item"]],decls:97,vars:21,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-warning",3,"click"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-6"],[1,"label"],["type","text","placeholder","required","formControlName","email",1,"input"],["placeholder","required","formControlName","title",3,"dataSource"],["type","text","placeholder","required","formControlName","firstName",1,"input"],["type","text","placeholder","required","formControlName","lastName",1,"input"],["placeholder","required","formControlName","userGroupId",3,"dataSource"],["placeholder","required","formControlName","staffRoleId",3,"dataSource","freeTextControl"],["type","text","placeholder","required","formControlName","universityJobTitle",1,"input"],["placeholder","required","formControlName","professionalBackgroundId",3,"dataSource"],["style","margin-top: 4px;",4,"ngIf"],["type","text","placeholder","Other / Comment","formControlName","professionalBackgroundFreeText",1,"input",2,"margin-top","4px"],["placeholder","required","formControlName","disciplineIds",3,"dataSource","enableSearch","enableClear","closeOnSelect","freeTextControl"],["placeholder","optional","formControlName","startDateForRSS",3,"enableClear"],["placeholder","optional","formControlName","endDateForRSS",3,"enableClear"],["type","number","step","0.01","min","0","max","1","placeholder","optional","formControlName","fullTimeEquivalentForRSS",1,"input"],["placeholder","required","formControlName","siteId",3,"dataSource"],[1,"flex","is-6"],[1,"field"],["formControlName","hidden"],["formControlName","disabled"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],[2,"margin-top","4px"],["placeholder","additional detail required","formControlName","professionalBackgroundDetailId",3,"items"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Users"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"User"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"User"),e.k0s()(),e.j41(15,"div",6)(16,"div",8)(17,"button",9),e.bIt("click",function(){return o.updatePassword()}),e.EFF(18,"Change Password"),e.k0s()()()(),e.nrm(19,"user-tabs"),e.j41(20,"form",10)(21,"div",11)(22,"div",12)(23,"label",13),e.EFF(24,"Email"),e.k0s(),e.nrm(25,"input",14),e.k0s(),e.j41(26,"div",12)(27,"label",13),e.EFF(28,"Title"),e.k0s(),e.nrm(29,"dropdown-text-input",15),e.k0s(),e.j41(30,"div",12)(31,"label",13),e.EFF(32,"First name"),e.k0s(),e.nrm(33,"input",16),e.k0s(),e.j41(34,"div",12)(35,"label",13),e.EFF(36,"Last name"),e.k0s(),e.nrm(37,"input",17),e.k0s(),e.j41(38,"div",12)(39,"label",13),e.EFF(40,"User group"),e.k0s(),e.nrm(41,"dropdown-select",18),e.k0s()(),e.j41(42,"div",11)(43,"div",12)(44,"label",13),e.EFF(45,"Staff Role at RSS"),e.k0s(),e.nrm(46,"dropdown-select",19),e.k0s(),e.j41(47,"div",12)(48,"label",13),e.EFF(49,"University job title"),e.k0s(),e.nrm(50,"input",20),e.k0s(),e.j41(51,"div",12)(52,"label",13),e.EFF(53,"Professional background"),e.k0s(),e.nrm(54,"dropdown-select",21),e.DNE(55,q,2,1,"div",22),e.nrm(56,"input",23),e.k0s(),e.j41(57,"div",12)(58,"label",13),e.EFF(59,"Adviser type / discipline"),e.k0s(),e.nrm(60,"dropdown-multi-select",24),e.k0s()(),e.j41(61,"div",11)(62,"div",12)(63,"label",13),e.EFF(64,"Start date for RSS"),e.k0s(),e.nrm(65,"date-picker",25),e.k0s(),e.j41(66,"div",12)(67,"label",13),e.EFF(68,"End date for RSS"),e.k0s(),e.nrm(69,"date-picker",26),e.k0s(),e.j41(70,"div",12)(71,"label",13),e.EFF(72,"Full time equivalent for RSS [0 - 1]"),e.k0s(),e.nrm(73,"input",27),e.k0s(),e.j41(74,"div",12)(75,"label",13),e.EFF(76,"Site"),e.k0s(),e.nrm(77,"dropdown-select",28),e.k0s()(),e.j41(78,"div",29)(79,"div",30)(80,"label",13),e.EFF(81,"Hidden (will not be selectable in drop down lists)"),e.k0s(),e.nrm(82,"toggle-input",31),e.k0s(),e.j41(83,"div",12)(84,"label",13),e.EFF(85,"Disabled (will not be able to login)"),e.k0s(),e.nrm(86,"toggle-input",32),e.k0s()(),e.j41(87,"div",33)(88,"button",34),e.bIt("click",function(){return o.save(!1)}),e.EFF(89,"Save"),e.k0s(),e.j41(90,"button",34),e.bIt("click",function(){return o.save(!0)}),e.EFF(91,"Save & Close"),e.k0s(),e.j41(92,"button",35),e.bIt("click",function(){return o.cancel()}),e.EFF(93,"Cancel"),e.k0s()()(),e.j41(94,"p"),e.EFF(95),e.nI1(96,"date"),e.k0s()()),2&i&&(e.R7$(8),e.Mz_("routerLink","/user/user-item/",o.item.id,""),e.R7$(12),e.Y8G("formGroup",o.form),e.R7$(9),e.Y8G("dataSource",o.staticDataCache.title),e.R7$(12),e.Y8G("dataSource",o.userGroupApi),e.R7$(5),e.Y8G("dataSource",o.staticDataCache.staffRole)("freeTextControl",o.form.controls.staffRoleFreeText),e.R7$(8),e.Y8G("dataSource",o.staticDataCache.professionalBackground),e.R7$(),e.Y8G("ngIf",o.professionalBackgroundDetail.length>0),e.R7$(5),e.Y8G("dataSource",o.staticDataCache.userDiscipline)("enableSearch",!0)("enableClear",!0)("closeOnSelect",!1)("freeTextControl",o.form.controls.disciplineFreeText),e.R7$(5),e.Y8G("enableClear",!0),e.R7$(4),e.Y8G("enableClear",!0),e.R7$(8),e.Y8G("dataSource",o.staticDataCache.site),e.R7$(18),e.SpI("Created ",e.i5U(96,18,o.item.createdAt,"dd MMM yy HH:mm"),""))},dependencies:[a.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.VZ,s.zX,s.j4,s.JD,u.Wk,_.p,Y.C,d.A,w.I,R.A,I,a.vh],encapsulation:2})}}return r})();var E=l(9636),H=l(334),z=l(7016),W=l(1050),K=l(8009);const X=r=>({id:r});function Q(r,m){if(1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"async"),e.k0s()),2&r){let t;const i=m.$implicit,o=e.XpG(3);e.R7$(),e.SpI(" ",null==(t=e.bMT(2,1,o.staticDataCache.supportProvided.get(e.eq3(3,X,i))))?null:t.name," ")}}function Z(r,m){if(1&r&&(e.j41(0,"div"),e.DNE(1,Q,3,5,"div",30),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.projectSupportProvidedIds)}}function ee(r,m){if(1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"async"),e.k0s()),2&r){let t;const i=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",null==(t=e.bMT(2,1,o.staticDataCache.workActivity.get(e.eq3(3,X,i.workActivityId))))?null:t.name," ")}}function te(r,m){if(1&r&&e.DNE(0,Z,2,1,"div",29)(1,ee,3,5,"div",29),2&r){const t=m.$implicit,i=e.XpG();e.Y8G("ngIf",i.isProjectActivity(t)),e.R7$(),e.Y8G("ngIf",!i.isProjectActivity(t))}}function re(r,m){1&r&&e.nrm(0,"div",31),2&r&&e.Y8G("innerHtml",m.$implicit.description,e.npT)}function ie(r,m){if(1&r&&(e.j41(0,"div")(1,"a",32),e.nrm(2,"i",33),e.EFF(3),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Mz_("href","/project/project-support/",t.projectPrefixedNumber,"",e.B4B),e.R7$(2),e.SpI("\xa0",t.projectPrefixedNumber,"")}}function se(r,m){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"a",34),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.edit(o))}),e.EFF(2,"edit"),e.k0s(),e.EFF(3," \xa0 "),e.j41(4,"a",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.EFF(5,"delete"),e.k0s()()}}function oe(r,m){if(1&r&&e.DNE(0,ie,4,3,"div",29)(1,se,6,0,"div",29),2&r){const t=m.$implicit,i=e.XpG();e.Y8G("ngIf",i.isProjectActivity(t)),e.R7$(),e.Y8G("ngIf",!i.isProjectActivity(t))}}let ne=(()=>{class r{constructor(t,i,o,n,p,C,U,Fe,Ce){this.route=t,this.router=i,this.formService=o,this.updateUserActivityDialog=n,this.confirmDeleteDialog=p,this.userApi=C,this.userActivityApi=U,this.staticDataCache=Fe,this.reportService=Ce,this.destroyRef=(0,e.WQX)(e.abz),this.filterForm=new s.gE({fromDate:new s.MJ(null),toDate:new s.MJ(null),description:new s.MJ("",{nonNullable:!0}),userId:new s.MJ(null)})}ngOnInit(){this.reset(this.route.snapshot.data.user)}reset(t){this.item=t,this.filterForm.patchValue({userId:t.id})}resetFilterForm(){this.filterForm.patchValue({fromDate:null,toDate:null,description:""})}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}edit(t){this.updateUserActivityDialog.open({userActivity:t})}delete(t){this.confirmDeleteDialog.open({title:"User Activity"}).subscribe(()=>{this.userActivityApi.delete({id:t.id},{successGrowl:"User Activity Deleted"}).subscribe()})}export(){this.userActivityApi.export(E.A.merge(this.filterForm.getRawValue(),{skip:0,take:0})).subscribe(t=>{this.reportService.runReport(t)})}isProjectActivity(t){return null!==t.projectSupportId}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(h.u),e.rXU(H.G),e.rXU(F.K),e.rXU(v.i),e.rXU(z.b),e.rXU(c.t),e.rXU(D.G))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-activity"]],decls:47,vars:7,consts:[["itemTemplate",""],[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[1,"filter-form"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-3"],["placeholder","From Date","formControlName","fromDate",3,"enableClear"],["placeholder","To Date","formControlName","toDate",3,"enableClear"],[1,"field","is-6"],["type","text","formControlName","description","placeholder","Description",1,"input"],[1,"is-12","is-right"],[1,"button","is-small",3,"click"],[3,"dataSource","filterForm"],["name","date"],["name","workTimeInHours","label","Hours","format","0.2-2"],["name","Activity"],["name","description"],["justify","right"],[1,"floating-buttons"],[1,"button",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"typeography-content",3,"innerHtml"],["target","_blank",1,"link","is-primary",3,"href"],[1,"fas","fa-external-link"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(i,o){if(1&i){const n=e.RV6();e.j41(0,"ul",1)(1,"li")(2,"a",2),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",3),e.EFF(6,"Users"),e.k0s()(),e.j41(7,"li")(8,"a",4),e.EFF(9,"User"),e.k0s()()(),e.j41(10,"div",5)(11,"div",6)(12,"div",7)(13,"h1",8),e.EFF(14,"User Activity"),e.k0s()(),e.j41(15,"div",7)(16,"div",9)(17,"button",10),e.bIt("click",function(){return e.eBV(n),e.Njj(o.export())}),e.EFF(18,"Export"),e.k0s()()()(),e.nrm(19,"user-tabs"),e.j41(20,"div",11)(21,"form",12)(22,"div",13)(23,"div",14),e.nrm(24,"date-picker",15),e.k0s(),e.j41(25,"div",14),e.nrm(26,"date-picker",16),e.k0s(),e.j41(27,"div",17),e.nrm(28,"input",18),e.k0s(),e.j41(29,"div",19)(30,"button",20),e.bIt("click",function(){return e.eBV(n),e.Njj(o.resetFilterForm())}),e.EFF(31,"show all"),e.k0s()()()()(),e.j41(32,"grid",21),e.nrm(33,"grid-date-column",22)(34,"grid-number-column",23),e.j41(35,"grid-column",24),e.DNE(36,te,2,2,"ng-template",null,0,e.C5r),e.k0s(),e.j41(38,"grid-column",25),e.DNE(39,re,1,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(41,"grid-column",26),e.DNE(42,oe,2,2,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(44,"div",27)(45,"button",28),e.bIt("click",function(){return e.eBV(n),e.Njj(o.cancel())}),e.EFF(46,"Close"),e.k0s()()()}2&i&&(e.R7$(8),e.Mz_("routerLink","/user/user-item/",o.item.id,""),e.R7$(13),e.Y8G("formGroup",o.filterForm),e.R7$(3),e.Y8G("enableClear",!0),e.R7$(2),e.Y8G("enableClear",!0),e.R7$(6),e.Y8G("dataSource",o.userActivityApi)("filterForm",o.filterForm))},dependencies:[a.Sq,a.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,u.Wk,w.I,y._,S.C,W.u,K.R,I,a.Jj],encapsulation:2})}}return r})(),M=(()=>{class r extends g.u{open(){return this._open(ae,void 0)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(r)))(o||r)}})()}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),ae=(()=>{class r extends g.V{constructor(t,i){super(),this.formService=t,this.userGroupApi=i,this.form=new s.gE({name:new s.MJ("",{validators:[s.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.userGroupApi.create(this.form.getRawValue(),{successGrowl:"User Group Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(h.u),e.rXU(f.d))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["create-user-group-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create User Group "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return o.save()}),e.EFF(11,"Add"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return o.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&i&&e.Y8G("formGroup",o.form)},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD],encapsulation:2})}}return r})(),le=(()=>{class r{constructor(t,i,o,n){this.router=t,this.createUserGroupDialog=i,this.confirmDeleteDialog=o,this.userGroupApi=n}add(){this.createUserGroupDialog.open()}edit(t){this.router.navigate(["user/user-group-item",t.id])}delete(t){this.confirmDeleteDialog.open({title:"User Group"}).subscribe(()=>{this.userGroupApi.delete({id:t.id},{successGrowl:"User Group Deleted"}).subscribe()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.Ix),e.rXU(M),e.rXU(F.K),e.rXU(f.d))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-group-list"]],decls:16,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[1,"container"],[1,"title"],[3,"dataSource","search"],["name","name"],[3,"add","edit","delete"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Users Groups"),e.k0s()()(),e.j41(10,"div",4)(11,"h1",5),e.EFF(12,"User Groups"),e.k0s(),e.j41(13,"grid",6),e.nrm(14,"grid-column",7),e.j41(15,"grid-action-column",8),e.bIt("add",function(){return o.add()})("edit",function(p){return o.edit(p)})("delete",function(p){return o.delete(p)}),e.k0s()()()),2&i&&(e.R7$(13),e.Y8G("dataSource",o.userGroupApi)("search",!0))},dependencies:[u.Wk,y._,S.C,A.y],encapsulation:2})}}return r})(),$=(()=>{class r{constructor(t,i){this.route=t,this.router=i}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-group-tabs"]],decls:8,vars:4,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e.EFF(4,"User Group"),e.k0s()(),e.j41(5,"li",1)(6,"a",2),e.EFF(7,"Claims"),e.k0s()()()()),2&i&&(e.R7$(3),e.Mz_("routerLink","../../user-group-item/",o.item.id,""),e.R7$(3),e.Mz_("routerLink","../../user-group-claims/",o.item.id,""))},dependencies:[u.Wk,u.wQ],encapsulation:2})}}return r})(),ue=(()=>{class r{constructor(t,i,o,n){this.route=t,this.router=i,this.formService=o,this.userGroupApi=n,this.form=new s.gE({id:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),name:new s.MJ("",{validators:[s.k0.required],nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.userGroupApi.update(this.form.getRawValue(),{successGrowl:"User Group Updated"}).subscribe(i=>{this.reset(i),t&&this.router.navigate(["user/user-group-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-group-list"])}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(h.u),e.rXU(f.d))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-group-item"]],decls:34,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"User Groups"),e.k0s()(),e.j41(10,"li")(11,"a",4),e.EFF(12,"User Group"),e.k0s()()(),e.j41(13,"div",5)(14,"div",6)(15,"div",7)(16,"h1",8),e.EFF(17,"User Group"),e.k0s()(),e.j41(18,"div",7),e.nrm(19,"div",9),e.k0s()(),e.nrm(20,"user-group-tabs"),e.j41(21,"form",10)(22,"div",11)(23,"div",12)(24,"label",13),e.EFF(25,"Name"),e.k0s(),e.nrm(26,"input",14),e.k0s()(),e.j41(27,"div",15)(28,"button",16),e.bIt("click",function(){return o.save(!1)}),e.EFF(29,"Save"),e.k0s(),e.j41(30,"button",16),e.bIt("click",function(){return o.save(!0)}),e.EFF(31,"Save & Close"),e.k0s(),e.j41(32,"button",17),e.bIt("click",function(){return o.cancel()}),e.EFF(33,"Cancel"),e.k0s()()()()),2&i&&(e.R7$(11),e.Mz_("routerLink","/user/user-group-item/",o.item.id,""),e.R7$(10),e.Y8G("formGroup",o.form))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,u.Wk,$],encapsulation:2})}}return r})();var T=l(1725);let ce=(()=>{class r{constructor(t,i,o,n){this.route=t,this.router=i,this.formService=o,this.userGroupApi=n,this.form=new s.gE({id:new s.MJ("",{validators:[s.k0.required],nonNullable:!0}),administrator:new s.MJ(!1,{nonNullable:!0}),canEditUsers:new s.MJ(!1,{nonNullable:!0}),canEditUserGroups:new s.MJ(!1,{nonNullable:!0}),canEditStaticData:new s.MJ(!1,{nonNullable:!0}),canEditReports:new s.MJ(!1,{nonNullable:!0}),canUnlockProjects:new s.MJ(!1,{nonNullable:!0}),canTriageSupportRequests:new s.MJ(!1,{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t,this.form.patchValue({id:t.id}),this.form.patchValue(t.claims),this.sanitizeClaims(),this.form.markAsPristine()}sanitizeClaims(){!0===this.form.getRawValue().administrator&&this.form.patchValue({canEditUsers:!0,canEditUserGroups:!0,canEditStaticData:!0,canEditReports:!0,canUnlockProjects:!0,canTriageSupportRequests:!0})}save(t){this.formService.hasErrors(this.form)||this.userGroupApi.updateClaims(this.form.getRawValue(),{successGrowl:"User Group Updated"}).subscribe(i=>{this.reset(i),t&&this.router.navigate(["user/user-group-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-group-list"])}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(h.u),e.rXU(f.d))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-group-claims"]],decls:65,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-6"],[1,"checkbox"],["type","checkbox","formControlName","administrator"],["type","checkbox","formControlName","canEditUsers"],["type","checkbox","formControlName","canEditUserGroups"],["type","checkbox","formControlName","canEditStaticData"],["type","checkbox","formControlName","canUnlockProjects"],["type","checkbox","formControlName","canTriageSupportRequests"],["type","checkbox","formControlName","canEditReports"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"User Groups"),e.k0s()(),e.j41(10,"li")(11,"a",4),e.EFF(12,"User Group"),e.k0s()()(),e.j41(13,"div",5)(14,"div",6)(15,"div",7)(16,"h1",8),e.EFF(17,"User Group"),e.k0s()(),e.j41(18,"div",7),e.nrm(19,"div",9),e.k0s()(),e.nrm(20,"user-group-tabs"),e.j41(21,"form",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"label"),e.nrm(26,"input",14),e.EFF(27," Administrator"),e.k0s()()(),e.j41(28,"div",12)(29,"div",13)(30,"label"),e.nrm(31,"input",15),e.EFF(32," Can Edit Users"),e.k0s()()(),e.j41(33,"div",12)(34,"div",13)(35,"label"),e.nrm(36,"input",16),e.EFF(37," Can Edit User Groups"),e.k0s()()(),e.j41(38,"div",12)(39,"div",13)(40,"label"),e.nrm(41,"input",17),e.EFF(42," Can Edit Static Data"),e.k0s()()(),e.j41(43,"div",12)(44,"div",13)(45,"label"),e.nrm(46,"input",18),e.EFF(47," Can Unlock Projects"),e.k0s()()(),e.j41(48,"div",12)(49,"div",13)(50,"label"),e.nrm(51,"input",19),e.EFF(52," Can Triage Support Requests"),e.k0s()()(),e.j41(53,"div",12)(54,"div",13)(55,"label"),e.nrm(56,"input",20),e.EFF(57," Can Access Reports"),e.k0s()()()(),e.j41(58,"div",21)(59,"button",22),e.bIt("click",function(){return o.save(!1)}),e.EFF(60,"Save"),e.k0s(),e.j41(61,"button",22),e.bIt("click",function(){return o.save(!0)}),e.EFF(62,"Save & Close"),e.k0s(),e.j41(63,"button",23),e.bIt("click",function(){return o.cancel()}),e.EFF(64,"Cancel"),e.k0s()()()()),2&i&&(e.R7$(11),e.Mz_("routerLink","/user/user-group-item/",o.item.id,""),e.R7$(10),e.Y8G("formGroup",o.form))},dependencies:[s.qT,s.Zm,s.BC,s.cb,s.j4,s.JD,u.Wk,$],encapsulation:2})}}return r})();l(6634);var pe=l(8152),de=l(5096);function me(r,m){1&r&&e.nrm(0,"i",17)}function fe(r,m){1&r&&e.nrm(0,"i",18)}function he(r,m){if(1&r){const t=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"toggle-input",21),e.bIt("valueChange",function(o){e.eBV(t);const n=e.XpG().$implicit,p=e.XpG();return e.Njj(p.toggleSupportTeamLead(n,o))}),e.k0s()()()}if(2&r){const t=e.XpG().$implicit,i=e.XpG();e.R7$(2),e.Y8G("value",i.isSupportTeamLead(t))}}function ve(r,m){if(1&r){const t=e.RV6();e.j41(0,"a",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.toggleSupportTeam(o))}),e.j41(1,"div",12)(2,"div",6)(3,"div",13),e.DNE(4,me,1,0,"i",14)(5,fe,1,0,"i",15),e.EFF(6),e.k0s()(),e.DNE(7,he,3,1,"div",16),e.k0s()()}if(2&r){const t=m.$implicit,i=e.XpG();e.AVh("selected",i.isSupportTeamSelected(t)),e.R7$(4),e.Y8G("ngIf",!i.isSupportTeamSelected(t)),e.R7$(),e.Y8G("ngIf",i.isSupportTeamSelected(t)),e.R7$(),e.SpI(" \xa0\xa0 ",t.name," "),e.R7$(),e.Y8G("ngIf",i.isSupportTeamSelected(t))}}let ke=(()=>{class r{constructor(t,i,o,n,p,C,U){this.route=t,this.router=i,this.formService=o,this.userApi=n,this.supportTeamApi=p,this.supportTeamUserApi=C,this.staticDataCache=U,this.form=new s.gE({}),this.supportTeams=[],this.supportTeamUsers=[]}ngOnInit(){this.reset(this.route.snapshot.data.user),this.load()}reset(t){this.item=t,this.form.markAsPristine()}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}load(){this.supportTeamApi.query({skip:0,take:100}).subscribe(t=>this.supportTeams=t.items),this.supportTeamUserApi.query({skip:0,take:100,userId:this.item.id,supportTeamId:null}).subscribe(t=>this.supportTeamUsers=t.items)}isSupportTeamSelected(t){return E.A.some(this.supportTeamUsers,i=>i.supportTeamId==t.id)}toggleSupportTeam(t){t._processing=!0,this.isSupportTeamSelected(t)?this.supportTeamUserApi.delete({userId:this.item.id,supportTeamId:t.id},{successGrowl:"Removed from support team"}).subscribe(()=>{this.load()}):this.supportTeamUserApi.insert({userId:this.item.id,supportTeamId:t.id},{successGrowl:"Added to support team"}).subscribe(()=>{this.load()})}isSupportTeamLead(t){return E.A.some(this.supportTeamUsers,i=>i.supportTeamId==t.id&&i.isTeamLead)}toggleSupportTeamLead(t,i){var o=E.A.find(this.supportTeamUsers,n=>n.supportTeamId==t.id);o&&(o.isTeamLead=i,this.supportTeamUserApi.update({userId:this.item.id,supportTeamId:t.id,isTeamLead:i},{successGrowl:"Support team lead updated"}).subscribe(()=>{this.load()}))}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(h.u),e.rXU(v.i),e.rXU(pe.L),e.rXU(de.O),e.rXU(c.t))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["user-support-team"]],decls:20,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"toggle-list"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"columns",2,"align-items","center"],[2,"padding","0.6rem"],["class","far fa-square",4,"ngIf"],["class","far fa-check-square",4,"ngIf"],["class","column is-narrow",4,"ngIf"],[1,"far","fa-square"],[1,"far","fa-check-square"],[1,"column","is-narrow"],[2,"background-color","#FFF","padding","2px 8px 2px 8px","color","#000","border-radius","16px"],["label","Team Lead",3,"valueChange","value"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Users"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"User"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"User"),e.k0s()(),e.j41(15,"div",6),e.nrm(16,"div",8),e.k0s()(),e.nrm(17,"user-tabs"),e.j41(18,"div",9),e.DNE(19,ve,8,6,"a",10),e.k0s()()),2&i&&(e.R7$(8),e.Mz_("routerLink","/user/user-item/",o.item.id,""),e.R7$(11),e.Y8G("ngForOf",o.supportTeams))},dependencies:[a.Sq,a.bT,u.Wk,R.A,I],encapsulation:2})}}return r})();const ge=[{path:"user-list",component:x,data:{activeSideMenu:"Users"}},{path:"user-item/:id",component:O,resolve:{user:v.i.userResolver("id")},canDeactivate:[T.S.isPristine()],data:{activeSideMenu:"Users"}},{path:"user-support-team/:id",component:ke,resolve:{user:v.i.userResolver("id")},canDeactivate:[T.S.isPristine()],data:{activeSideMenu:"Users"}},{path:"user-activity/:id",component:ne,resolve:{user:v.i.userResolver("id")},data:{activeSideMenu:"Users"}},{path:"user-group-list",component:le,data:{activeSideMenu:"User Groups"}},{path:"user-group-item/:id",component:ue,resolve:{userGroup:f.d.userGroupResolver("id")},canDeactivate:[T.S.isPristine()],data:{activeSideMenu:"User Groups"}},{path:"user-group-claims/:id",component:ce,resolve:{userGroup:f.d.userGroupResolver("id")},canDeactivate:[T.S.isPristine()],data:{activeSideMenu:"User Groups"}}];let be=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(ge),u.iI]})}}return r})(),_e=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[k,M,N],imports:[a.MD,j.G,be]})}}return r})()},3376:(L,G,l)=>{l.d(G,{y:()=>f});var a=l(4438),j=l(1435),u=l(177);function e(c,_){if(1&c){const d=a.RV6();a.j41(0,"a",3),a.bIt("click",function(){a.eBV(d);const b=a.XpG(2);return a.Njj(b.onAdd())}),a.EFF(1,"add"),a.k0s()}}function s(c,_){if(1&c&&a.DNE(0,e,2,0,"a",2),2&c){const d=a.XpG();a.Y8G("ngIf",d.canAdd)}}function g(c,_){if(1&c){const d=a.RV6();a.j41(0,"a",6),a.bIt("click",function(){a.eBV(d);const b=a.XpG().$implicit,F=a.XpG();return a.Njj(F.onEdit(b))}),a.EFF(1,"view/edit"),a.k0s()}}function h(c,_){if(1&c){const d=a.RV6();a.j41(0,"span")(1,"a",7),a.bIt("click",function(){a.eBV(d);const b=a.XpG().$implicit,F=a.XpG();return a.Njj(F.onDelete(b))}),a.EFF(2,"delete"),a.k0s()()}}function v(c,_){if(1&c&&(a.DNE(0,g,2,0,"a",4),a.EFF(1,"\xa0"),a.DNE(2,h,3,0,"span",5)),2&c){const d=a.XpG();a.Y8G("ngIf",d.canEdit),a.R7$(2),a.Y8G("ngIf",d.canDelete)}}let f=(()=>{class c extends j.C{constructor(){super(),this.canAdd=!0,this.add=new a.bkB,this.canEdit=!0,this.edit=new a.bkB,this.canDelete=!0,this.delete=new a.bkB,this.justify="right"}onAdd(){this.add.emit()}onEdit(d){this.edit.emit(d)}onDelete(d){this.delete.emit(d)}static{this.\u0275fac=function(k){return new(k||c)}}static{this.\u0275cmp=a.VBU({type:c,selectors:[["grid-action-column"]],inputs:{canAdd:"canAdd",canEdit:"canEdit",canDelete:"canDelete"},outputs:{add:"add",edit:"edit",delete:"delete"},features:[a.Jv_([{provide:j.C,useExisting:c}]),a.Vt3],decls:4,vars:0,consts:[["headTemplate",""],["itemTemplate",""],["class","link is-success",3,"click",4,"ngIf"],[1,"link","is-success",3,"click"],["class","link is-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(k,b){1&k&&a.DNE(0,s,1,1,"ng-template",null,0,a.C5r)(2,v,3,2,"ng-template",null,1,a.C5r)},dependencies:[u.bT],encapsulation:2})}}return c})()}}]);