"use strict";(self.webpackChunkWebfuel_App=self.webpackChunkWebfuel_App||[]).push([[725],{6725:(U,v,a)=>{a.r(v),a.d(v,{HomeModule:()=>At});var c=a(6814),d=a(7453),m=a(3399),y=a(6765),t=a(9212),l=a(532),f=a(7333),g=a(7003),_=a(4821),h=a(5770),C=a(7509),T=a(6236);function W(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," Loading... "),t.qZA())}function I(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"span",14),t._UZ(4,"i",15),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"span"),t._uU(7),t.qZA(),t._uU(8," \xa0 "),t.qZA(),t.TgZ(9,"div",16)(10,"a",17),t.NdJ("click",function(){const s=t.CHM(i).$implicit,p=t.oxw(3);return t.KtG(p.deleteWidget(s))}),t._uU(11,"delete"),t.qZA()()()()}if(2&e){const i=r.$implicit,o=t.oxw(3);t.xp6(7),t.Oqu(o.widgetService.widgetTitle(i))}}function F(e,r){1&e&&(t.TgZ(0,"div",18),t._uU(1," There are no widgets specified on this dashboard. "),t.qZA())}function b(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t.NdJ("cdkDropListDropped",function(n){t.CHM(i);const s=t.oxw(2);return t.KtG(s.dropWidget(n))}),t.YNc(2,I,12,1,"div",9)(3,F,2,0,"div",10),t.qZA()()}if(2&e){const i=t.oxw(2);t.xp6(),t.Q6J("cdkDropListDisabled",!1),t.xp6(),t.Q6J("ngForOf",i.widgets),t.xp6(),t.Q6J("ngIf",0==i.widgets.length)}}function k(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",1),t._uU(1," Manage Widgets "),t.TgZ(2,"span",2)(3,"a",3),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.addWidget())}),t._uU(4,"+ add widget"),t.qZA()()(),t.TgZ(5,"div",4),t.YNc(6,W,2,0,"div")(7,b,4,3),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.close())}),t._uU(10,"Close"),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(6),t.um2(6,null===i.widgets?6:7)}}function J(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",18)(1,"div",12)(2,"div",13)(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"div",16)(6,"a",21),t.NdJ("click",function(){const s=t.CHM(i).$implicit,p=t.oxw(2);return t.KtG(p.addWidgetType(s))}),t._uU(7,"add"),t.qZA()()()()}if(2&e){const i=r.$implicit,o=t.oxw(2);t.xp6(4),t.Oqu(o.widgetService.widgetTypeName(i.id))}}function N(e,r){1&e&&(t.TgZ(0,"div",18),t._uU(1," No widget types available! "),t.qZA())}function O(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",1),t._uU(1," Add Widget "),t.qZA(),t.TgZ(2,"div",4)(3,"div",7)(4,"div",19),t.YNc(5,J,8,1,"div",20)(6,N,2,0,"div",10),t.qZA()()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.cancelAdd())}),t._uU(9,"Cancel"),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(5),t.Q6J("ngForOf",i.widgetTypes),t.xp6(),t.Q6J("ngIf",0==i.widgetTypes.length)}}function Y(e,r){}let x=(()=>{class e extends f.M{open(i){return this._open(S,i,{disableClose:!0})}static#t=this.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.n5z(e)))(n||e)}})();static#i=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})(),S=(()=>{class e extends f.X{constructor(i,o,n,s){super(),this.formService=i,this.growlService=o,this.widgetApi=n,this.widgetService=s,this.widgets=null,this.widgetTypes=[],this.mode="manage",this.setMode("manage"),this.widgetApi.selectType({userId:this.data.userId}).subscribe(p=>this.widgetTypes=p)}loadWidgets(){this.widgetApi.select({userId:this.data.userId}).subscribe(i=>this.widgets=i)}close(){this._closeDialog(!0)}deleteWidget(i){this.widgetApi.delete({id:i.id},{successGrowl:"Changes saved"}).subscribe(o=>{this.loadWidgets()})}dropWidget(i){var o=i.currentIndex;const s=this.widgets.splice(i.previousIndex,1);this.widgets.splice(o,0,s[0]),this.widgetApi.sort({ids:g.Z.map(this.widgets,p=>p.id),userId:this.data.userId},{successGrowl:"Changes saved"}).subscribe(()=>{this.loadWidgets()})}addWidget(){this.setMode("add")}cancelAdd(){this.setMode("manage")}addWidgetType(i){this.widgetApi.create({userId:this.data.userId,widgetTypeId:i.id},{successGrowl:"Changes saved"}).subscribe(()=>{this.setMode("manage")})}editWidget(i){}setMode(i){this.mode=i,this.loadWidgets()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_.o),t.Y36(h.e),t.Y36(l.p),t.Y36(C.i))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["manage-widget-dialog"]],features:[t.qOj],decls:4,vars:1,consts:[[1,"dialog"],[1,"dialog-head"],[2,"float","right"],[1,"link",3,"click"],[1,"dialog-body"],[1,"dialog-buttons"],["type","button",3,"click"],[1,"report-designer"],["cdkDropList","","cdkDropListLockAxis","y",1,"report-slots",3,"cdkDropListDisabled","cdkDropListDropped"],["class","report-slot","cdkDrag","",4,"ngFor","ngForOf"],["class","report-slot",4,"ngIf"],["cdkDrag","",1,"report-slot"],[1,"columns"],[1,"column"],["cdkDragHandle",""],[1,"fas","fa-fw","fa-bars"],[1,"column","is-right","is-narrow"],[1,"link","is-danger",3,"click"],[1,"report-slot"],[1,"report-slots"],["class","report-slot",4,"ngFor","ngForOf"],[1,"link","is-success",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,k,11,1)(2,O,10,2)(3,Y,0,0),t.qZA()),2&o&&(t.xp6(),t.um2(1,"manage"==n.mode?1:"add"==n.mode?2:"edit"==n.mode?3:-1))},dependencies:[c.sg,c.O5,T.Wj,T.Zt,T.Bh],encapsulation:2})}return e})();var q=a(9663),w=a(3180),P=a(6648),M=a(7205);function H(e,r){if(1&e&&(t.TgZ(0,"a",3)(1,"div",4),t._UZ(2,"i"),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8,"View Details "),t._UZ(9,"i",8),t.qZA()()),2&e){const i=r.$implicit,o=t.oxw(2);t.s9C("routerLink",i.routerLink),t.Q6J("queryParams",o.routerParams(i)),t.xp6(2),t.Tol(i.icon),t.xp6(2),t.Oqu(i.count),t.xp6(2),t.Oqu(i.name)}}function j(e,r){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"Project Summary"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,H,10,7,"a",2),t.qZA()()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.data.projectMetrics)}}let L=(()=>{class e{constructor(i){this.widgetProviderApi=i,this.destroyRef=(0,t.f3M)(t.ktI),this.data=null}ngOnInit(){this.loadData()}loadData(){this.widgetProviderApi.projectSummary({id:this.widget.id}).subscribe(i=>this.data=i)}routerParams(i){return i.routerParams?JSON.parse(i.routerParams):{}}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(M.I))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["project-summary-widget"]],inputs:{widget:"widget"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"dashboard-metrics"],["class","dashboard-metric",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"dashboard-metric",3,"routerLink","queryParams"],[1,"icon"],[1,"count"],[1,"name"],[1,"cta"],[1,"fas","fa-arrow-right"]],template:function(o,n){1&o&&t.YNc(0,j,5,1,"div",0),2&o&&t.Q6J("ngIf",null!=n.data)},dependencies:[c.sg,c.O5,m.rH],encapsulation:2})}return e})();function Q(e,r){if(1&e&&(t.TgZ(0,"a",3)(1,"div",4),t._UZ(2,"i"),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7),t._uU(8,"View Details "),t._UZ(9,"i",8),t.qZA()()),2&e){const i=r.$implicit,o=t.oxw(2);t.s9C("routerLink",i.routerLink),t.Q6J("queryParams",o.routerParams(i)),t.xp6(2),t.Tol(i.icon),t.xp6(2),t.Oqu(i.count),t.xp6(2),t.Oqu(i.name)}}function E(e,r){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"Team Support"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,Q,10,7,"a",2),t.qZA()()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.data.supportMetrics)}}let G=(()=>{class e{constructor(i){this.widgetProviderApi=i,this.destroyRef=(0,t.f3M)(t.ktI),this.data=null}ngOnInit(){this.loadData()}loadData(){this.widgetProviderApi.teamSupport({id:this.widget.id}).subscribe(i=>this.data=i)}routerParams(i){return i.routerParams?JSON.parse(i.routerParams):{}}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(M.I))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["team-support-widget"]],inputs:{widget:"widget"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"dashboard-metrics"],["class","dashboard-metric",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"dashboard-metric",3,"routerLink","queryParams"],[1,"icon"],[1,"count"],[1,"name"],[1,"cta"],[1,"fas","fa-arrow-right"]],template:function(o,n){1&o&&t.YNc(0,E,5,1,"div",0),2&o&&t.Q6J("ngIf",null!=n.data)},dependencies:[c.sg,c.O5,m.rH],encapsulation:2})}return e})();function $(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.manageWidgets())}),t._uU(2,"Manage Widgets"),t.qZA()()}}function K(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1," Loading... "),t.qZA())}function B(e,r){if(1&e&&t._UZ(0,"project-summary-widget",9),2&e){const i=t.oxw().$implicit;t.Q6J("widget",i)}}function R(e,r){if(1&e&&t._UZ(0,"team-support-widget",9),2&e){const i=t.oxw().$implicit;t.Q6J("widget",i)}}function X(e,r){if(1&e&&t.YNc(0,B,1,1)(1,R,1,1),2&e){const i=r.$implicit,o=t.oxw(2);let n;t.um2(0,(n=i.widgetTypeId)===o.WidgetTypeEnum.ProjectSummary?0:n===o.WidgetTypeEnum.TeamSupport?1:-1)}}function z(e,r){if(1&e&&t.SjG(0,X,2,1,null,null,t.ikw),2&e){const i=t.oxw();t.wJu(i.widgets)}}let V=(()=>{class e{constructor(i,o,n,s,p,A,Z){this.router=i,this.widgetApi=o,this.manageWidgetDialog=n,this.userService=s,this.staticDataCache=p,this.configurationService=A,this.widgetService=Z,this.widgets=null,this.WidgetTypeEnum=y.hQ}ngOnInit(){this.configurationService.configuration.subscribe(i=>{this.loadWidgets()})}loadWidgets(){null!=this.configurationService.configuration.value?this.widgetApi.select({userId:this.configurationService.configuration.value.userId}).subscribe(i=>{this.widgets=i}):this.widgets=[]}manageWidgets(){null!=this.widgets&&this.manageWidgetDialog.open({userId:this.configurationService.configuration.value.userId}).subscribe(()=>{this.loadWidgets()})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(m.F0),t.Y36(l.p),t.Y36(x),t.Y36(q.K),t.Y36(w.U),t.Y36(P.e),t.Y36(C.i))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:13,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["class","header-buttons",4,"ngIf"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[3,"widget"]],template:function(o,n){1&o&&(t.TgZ(0,"ul",0)(1,"li")(2,"a",1),t._uU(3,"Home"),t.qZA()()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),t._uU(8,"Dashboard"),t.qZA()(),t.TgZ(9,"div",4),t.YNc(10,$,3,0,"div",6),t.qZA()(),t.YNc(11,K,2,0,"div")(12,z,2,0),t.qZA()),2&o&&(t.xp6(10),t.Q6J("ngIf",null!==n.widgets),t.xp6(),t.um2(11,null===n.widgets?11:12))},dependencies:[c.O5,m.rH,L,G],encapsulation:2})}return e})();var u=a(95),tt=a(9357),it=a(5581),et=a(8819),ot=a(5588),nt=a(6147),at=a(7089),rt=a(9834),st=a(3993),ct=a(7147),dt=a(9510),lt=a(8219);const D=e=>({id:e});function ut(e,r){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const i=r.$implicit,o=t.oxw(3);let n;t.xp6(),t.hij(" ",null==(n=t.lcZ(2,1,o.staticDataCache.supportProvided.get(t.VKq(3,D,i))))?null:n.name," ")}}function pt(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,ut,3,5,"div",27),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(),t.Q6J("ngForOf",i.projectSupportProvidedIds)}}function mt(e,r){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const i=t.oxw().$implicit,o=t.oxw();let n;t.xp6(),t.hij(" ",null==(n=t.lcZ(2,1,o.staticDataCache.workActivity.get(t.VKq(3,D,i.workActivityId))))?null:n.name," ")}}function gt(e,r){if(1&e&&t.YNc(0,pt,2,1,"div",26)(1,mt,3,5,"div",26),2&e){const i=r.$implicit;t.Q6J("ngIf",i.isProjectActivity),t.xp6(),t.Q6J("ngIf",!i.isProjectActivity)}}function _t(e,r){if(1&e&&(t.TgZ(0,"pre",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(),t.Oqu(i.description)}}function vt(e,r){if(1&e&&(t.TgZ(0,"div")(1,"a",29),t._UZ(2,"i",30),t._uU(3),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(),t.MGl("href","/project/project-support/",i.projectId,"",t.LSH),t.xp6(2),t.hij(" ",i.projectPrefixedNumber,"")}}function ft(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"a",31),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.edit(n))}),t._uU(2,"edit"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"a",32),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.delete(n))}),t._uU(5,"delete"),t.qZA()()}}function ht(e,r){if(1&e&&t.YNc(0,vt,4,2,"div",26)(1,ft,6,0,"div",26),2&e){const i=r.$implicit;t.Q6J("ngIf",i.isProjectActivity),t.xp6(),t.Q6J("ngIf",!i.isProjectActivity)}}const yt=[{path:"",component:V,data:{activeSideMenu:"Home"}},{path:"my-activity",component:(()=>{class e{constructor(i,o,n,s,p,A,Z){this.createUserActivityDialog=i,this.updateUserActivityDialog=o,this.confirmDeleteDialog=n,this.userApi=s,this.userActivityApi=p,this.staticDataCache=A,this.reportService=Z,this.destroyRef=(0,t.f3M)(t.ktI),this.filterForm=new u.cw({fromDate:new u.NI(null),toDate:new u.NI(null),description:new u.NI("",{nonNullable:!0}),userId:new u.NI(null)})}ngOnInit(){}resetFilterForm(){this.filterForm.patchValue({fromDate:null,toDate:null,description:""})}createUserActivity(){this.createUserActivityDialog.open()}edit(i){this.updateUserActivityDialog.open({userActivity:i})}delete(i){this.confirmDeleteDialog.open({title:"User Activity"}).subscribe(()=>{this.userActivityApi.delete({id:i.id},{successGrowl:"User Activity Deleted"}).subscribe()})}export(){this.userActivityApi.export(g.Z.merge(this.filterForm.getRawValue(),{skip:0,take:0})).subscribe(i=>{this.reportService.runReport(i)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(tt.c),t.Y36(it.M),t.Y36(et.h),t.Y36(ot.W),t.Y36(nt.y),t.Y36(w.U),t.Y36(at.r))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["my-activity"]],decls:39,vars:5,consts:[[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-success",3,"click"],[1,"button","is-primary",3,"click"],[1,"filter-form"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-3"],["placeholder","From Date","formControlName","fromDate",3,"enableClear"],["placeholder","To Date","formControlName","toDate",3,"enableClear"],[1,"field","is-6"],["type","text","formControlName","description","placeholder","Description",1,"input"],[1,"is-12","is-right"],[1,"button","is-small",3,"click"],[3,"dataSource","filterForm"],["name","date"],["name","workTimeInHours","label","Hours","format","0.2-2"],["name","Activity"],["itemTemplate",""],["name","description"],["justify","right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-pre"],["target","_blank",1,"link","is-primary",3,"href"],[1,"fas","fa-external-link"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"ul",0)(1,"li")(2,"a",1),t._uU(3,"Home"),t.qZA()()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),t._uU(8,"My Activity"),t.qZA()(),t.TgZ(9,"div",4)(10,"div",6)(11,"button",7),t.NdJ("click",function(){return n.createUserActivity()}),t._uU(12,"Add Activity"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return n.export()}),t._uU(14,"Export"),t.qZA()()()(),t.TgZ(15,"div",9)(16,"form",10)(17,"div",11)(18,"div",12),t._UZ(19,"date-picker",13),t.qZA(),t.TgZ(20,"div",12),t._UZ(21,"date-picker",14),t.qZA(),t.TgZ(22,"div",15),t._UZ(23,"input",16),t.qZA(),t.TgZ(24,"div",17)(25,"button",18),t.NdJ("click",function(){return n.resetFilterForm()}),t._uU(26,"show all"),t.qZA()()()()(),t.TgZ(27,"grid",19),t._UZ(28,"grid-date-column",20)(29,"grid-number-column",21),t.TgZ(30,"grid-column",22),t.YNc(31,gt,2,2,"ng-template",null,23,t.W1O),t.qZA(),t.TgZ(33,"grid-column",24),t.YNc(34,_t,2,1,"ng-template",null,23,t.W1O),t.qZA(),t.TgZ(36,"grid-column",25),t.YNc(37,ht,2,2,"ng-template",null,23,t.W1O),t.qZA()()()),2&o&&(t.xp6(16),t.Q6J("formGroup",n.filterForm),t.xp6(3),t.Q6J("enableClear",!0),t.xp6(2),t.Q6J("enableClear",!0),t.xp6(6),t.Q6J("dataSource",n.userActivityApi)("filterForm",n.filterForm))},dependencies:[c.sg,c.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,m.rH,rt.L,st.M,ct.I,dt.K,lt.x,c.Ov],encapsulation:2})}return e})(),data:{activeSideMenu:"My Activity"}}];let Tt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(yt),m.Bz]})}return e})(),At=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({providers:[x],imports:[c.ez,d.m,Tt]})}return e})()},9510:(U,v,a)=>{a.d(v,{K:()=>t});var c=a(7147),d=a(9212),m=a(6814);function y(l,f){if(1&l&&(d._uU(0),d.ALo(1,"date")),2&l){const g=f.$implicit,_=d.oxw();d.hij(" ",d.xi3(1,1,g[_.name],"dd MMM yyyy"),"\n")}}let t=(()=>{class l extends c.I{static#t=this.\u0275fac=(()=>{let g;return function(h){return(g||(g=d.n5z(l)))(h||l)}})();static#i=this.\u0275cmp=d.Xpm({type:l,selectors:[["grid-date-column"]],features:[d._Bn([{provide:c.I,useExisting:l}]),d.qOj],decls:2,vars:0,consts:[["itemTemplate",""]],template:function(_,h){1&_&&d.YNc(0,y,2,4,"ng-template",null,0,d.W1O)},dependencies:[m.uU],encapsulation:2})}return l})()}}]);