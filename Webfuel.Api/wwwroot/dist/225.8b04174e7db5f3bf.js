"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[225],{2225:(re,A,c)=>{c.r(A),c.d(A,{ReportingModule:()=>It});var l=c(177),M=c(2896),u=c(4722),e=c(4438),i=c(4341),d=c(7520),b=c(8829),v=c(4291);let V=(()=>{class o extends d.u{open(){return this._open(m,void 0)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),m=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportGroupApi=r,this.form=new i.gE({name:new i.MJ("",{validators:[i.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.reportGroupApi.create(this.form.getRawValue(),{successGrowl:"Report Group Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(v.O))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["create-report-group-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create Report Group "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return n.save()}),e.EFF(11,"Add"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return n.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&r&&e.Y8G("formGroup",n.form)},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}}return o})();var E=c(4247),g=c(1062),F=c(1435),C=c(3376);let I=(()=>{class o{constructor(t,r,n,s){this.router=t,this.createReportGroupDialog=r,this.confirmDeleteDialog=n,this.reportGroupApi=s}add(){this.createReportGroupDialog.open()}edit(t){this.router.navigate(["reporting/report-group-item",t.id])}delete(t){this.confirmDeleteDialog.open({title:"Report Group"}).subscribe(()=>{this.reportGroupApi.delete({id:t.id},{successGrowl:"Report Group Deleted"}).subscribe()})}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.Ix),e.rXU(V),e.rXU(E.K),e.rXU(v.O))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-group-list"]],decls:16,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/report/report-group-list"],[1,"container"],[1,"title"],[3,"dataSource","search"],["name","name"],[3,"add","edit","delete"]],template:function(r,n){1&r&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Reports Groups"),e.k0s()()(),e.j41(10,"div",4)(11,"h1",5),e.EFF(12,"Report Groups"),e.k0s(),e.j41(13,"grid",6),e.nrm(14,"grid-column",7),e.j41(15,"grid-action-column",8),e.bIt("add",function(){return n.add()})("edit",function(f){return n.edit(f)})("delete",function(f){return n.delete(f)}),e.k0s()()()),2&r&&(e.R7$(13),e.Y8G("dataSource",n.reportGroupApi)("search",!0))},dependencies:[u.Wk,g._,F.C,C.y],encapsulation:2})}}return o})(),ie=(()=>{class o{constructor(t,r){this.route=t,this.router=r}ngOnInit(){this.reset(this.route.snapshot.data.reportGroup)}reset(t){this.item=t}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.nX),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-group-tabs"]],decls:5,vars:2,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e.EFF(4,"Report Group"),e.k0s()()()()),2&r&&(e.R7$(3),e.Mz_("routerLink","../../report-group-item/",n.item.id,""))},dependencies:[u.Wk,u.wQ],encapsulation:2})}}return o})(),ne=(()=>{class o{constructor(t,r,n,s){this.route=t,this.router=r,this.formService=n,this.reportGroupApi=s,this.form=new i.gE({id:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),name:new i.MJ("",{validators:[i.k0.required],nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.reportGroup)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.reportGroupApi.update(this.form.getRawValue(),{successGrowl:"Report Group Updated"}).subscribe(r=>{this.reset(r),t&&this.router.navigate(["reporting/report-group-list"])})}cancel(){this.reset(this.item),this.router.navigate(["reporting/report-group-list"])}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(b.u),e.rXU(v.O))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-group-item"]],decls:34,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/report/report-group-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Report Groups"),e.k0s()(),e.j41(10,"li")(11,"a",4),e.EFF(12,"Report Group"),e.k0s()()(),e.j41(13,"div",5)(14,"div",6)(15,"div",7)(16,"h1",8),e.EFF(17,"Report Group"),e.k0s()(),e.j41(18,"div",7),e.nrm(19,"div",9),e.k0s()(),e.nrm(20,"report-group-tabs"),e.j41(21,"form",10)(22,"div",11)(23,"div",12)(24,"label",13),e.EFF(25,"Name"),e.k0s(),e.nrm(26,"input",14),e.k0s()(),e.j41(27,"div",15)(28,"button",16),e.bIt("click",function(){return n.save(!1)}),e.EFF(29,"Save"),e.k0s(),e.j41(30,"button",16),e.bIt("click",function(){return n.save(!0)}),e.EFF(31,"Save & Close"),e.k0s(),e.j41(32,"button",17),e.bIt("click",function(){return n.cancel()}),e.EFF(33,"Cancel"),e.k0s()()()()),2&r&&(e.R7$(11),e.Mz_("routerLink","/report/report-group-item/",n.item.id,""),e.R7$(10),e.Y8G("formGroup",n.form))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,u.Wk,ie],encapsulation:2})}}return o})();var p=c(9636),$=c(4412);class P{constructor(a){this.query=t=>this.dataSource.query(t),this.get=t=>{if(null==this._getCache[t.id]){if(this._getCache[t.id]=new $.t(null),!this.dataSource)return new $.t(null);this.dataSource.get?this.dataSource.get({id:t.id}).subscribe(r=>{this._getCache[t.id].next(r)}):this.dataSource.query({skip:0,take:1,filters:[{field:"id",op:"eq",value:t.id}]}).subscribe(r=>{1==r.items.length&&this._getCache[t.id].next(r.items[0])})}return this._getCache[t.id]},this._getCache={},this.dataSource=a}}var w=c(8605),O=c(3548),B=c(2817);let J=(()=>{class o extends d.u{open(){return this._open(se,void 0)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),se=(()=>{class o extends d.V{constructor(t,r,n,s){super(),this.formService=t,this.reportApi=r,this.reportGroupApi=n,this.staticDataCache=s,this.form=new i.gE({name:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),reportGroupId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.reportApi.create(this.form.getRawValue(),{successGrowl:"Report  Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(w.f),e.rXU(v.O),e.rXU(O.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["create-report-dialog"]],features:[e.Vt3],decls:22,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],["formControlName","reportProviderId","placeholder","required",3,"dataSource"],["formControlName","reportGroupId","placeholder","required",3,"dataSource"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create Report "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",4)(10,"label",5),e.EFF(11,"Data Type"),e.k0s(),e.nrm(12,"dropdown-select",7),e.k0s(),e.j41(13,"div",4)(14,"label",5),e.EFF(15,"Report Group"),e.k0s(),e.nrm(16,"dropdown-select",8),e.k0s()()(),e.j41(17,"div",9)(18,"button",10),e.bIt("click",function(){return n.save()}),e.EFF(19,"Add"),e.k0s(),e.j41(20,"button",11),e.bIt("click",function(){return n.cancel()}),e.EFF(21,"Cancel"),e.k0s()()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(12),e.Y8G("dataSource",n.staticDataCache.reportProvider),e.R7$(4),e.Y8G("dataSource",n.reportGroupApi))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,B.p],encapsulation:2})}}return o})(),Y=(()=>{class o extends d.u{open(t){return this._open(le,t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),le=(()=>{class o extends d.V{constructor(t,r,n,s){super(),this.formService=t,this.reportApi=r,this.reportGroupApi=n,this.staticDataCache=s,this.form=new i.gE({id:new i.MJ("",{nonNullable:!0}),name:new i.MJ("",{validators:[i.k0.required],nonNullable:!0})}),this.form.patchValue({id:this.data.id,name:this.data.name})}save(){this.formService.hasErrors(this.form)||this.reportApi.copy(this.form.getRawValue(),{successGrowl:"Report  Copied"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(w.f),e.rXU(v.O),e.rXU(O.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["copy-report-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create a copy of this report that you will own and be able to edit "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return n.save()}),e.EFF(11,"Copy"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return n.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&r&&e.Y8G("formGroup",n.form)},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}}return o})();var L=c(4312),q=c(2387),ae=c(8651);const S=o=>({"is-active":o});function ce(o,a){if(1&o){const t=e.RV6();e.j41(0,"li",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.mode="all-reports")}),e.j41(1,"a"),e.EFF(2,"All Reports"),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,S,"all-reports"==t.mode))}}function pe(o,a){1&o&&(e.j41(0,"p"),e.EFF(1,"Loading..."),e.k0s())}function ue(o,a){1&o&&(e.j41(0,"p"),e.EFF(1,"No reports available."),e.k0s())}function de(o,a){if(1&o){const t=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.edit(n))}),e.nrm(1,"i",21),e.EFF(2,"\xa0Edit"),e.k0s()}}function me(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",13),e.nrm(1,"i",14),e.j41(2,"label"),e.EFF(3),e.k0s(),e.j41(4,"div",15)(5,"a",16),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.run(n))}),e.nrm(6,"i",17),e.EFF(7,"\xa0Run"),e.k0s(),e.j41(8,"a",8),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.copy(n))}),e.nrm(9,"i",18),e.EFF(10,"\xa0Copy"),e.k0s(),e.DNE(11,de,3,0,"a",19),e.k0s()()}if(2&o){const t=a.$implicit,r=e.XpG(3);e.R7$(3),e.JRh(t.name),e.R7$(8),e.Y8G("ngIf",r.canEditReport(t))}}function he(o,a){if(1&o&&(e.j41(0,"h2"),e.EFF(1),e.k0s(),e.j41(2,"div",12),e.Z7z(3,me,12,2,"div",13,e.Vm6),e.k0s()),2&o){const t=a.$implicit;e.R7$(),e.JRh(t.name),e.R7$(2),e.Dyx(t.reports)}}function fe(o,a){if(1&o&&e.Z7z(0,he,5,1,null,null,e.Vm6),2&o){const t=e.XpG();e.Dyx(t.reportGroups)}}let ge=(()=>{class o{constructor(t,r,n,s,f,G,N,x,X){this.router=t,this.createReportDialog=r,this.copyReportDialog=n,this.reportApi=s,this.reportGroupApi=f,this.userService=G,this.staticDataCache=N,this.reportLauncherDialog=x,this.configurationService=X,this.destroyRef=(0,e.WQX)(e.abz),this.reportGroups=null,this.reportGroupLookup=new P(this.reportGroupApi),this.reportProviderLookup=new P(this.staticDataCache.reportProvider),this.ownReportsOnlyItems=[{name:"All Reports",id:"NO"},{name:"Own Reports Only",id:"YES"}],this.configuration=X.configuration,this.loadReports()}isDeveloper(){return!0===this.configuration.value?.claims.developer}canEditReport(t){return null!=this.configuration.value&&(!!this.configuration.value.claims.developer||t.ownerUserId==this.configuration.value.userId)}get mode(){return o._mode}set mode(t){o._mode!=t&&(o._mode=t,this.loadReports())}static{this._mode="my-reports"}loadReports(){var t=p.A.merge({skip:0,take:100},{name:"",publicReports:"public-reports"==this.mode,allReports:"all-reports"==this.mode}),r=[];this.reportGroups=null,this.reportGroupApi.query({skip:0,take:100}).subscribe(n=>{this.reportApi.query(t).subscribe(s=>{p.A.forEach(n.items,f=>{var G=p.A.filter(s.items,x=>x.reportGroupId==f.id);0!=G.length&&r.push({name:f.name,reports:G})}),this.reportGroups=r})})}add(){this.createReportDialog.open().subscribe(t=>{this.router.navigate(["reporting/report-item",t.id])})}copy(t){this.copyReportDialog.open(t).subscribe(r=>{this.router.navigate(["reporting/report-item",r.id])})}edit(t){this.router.navigate(["reporting/report-item",t.id])}run(t){this.reportLauncherDialog.open({reportId:t.id})}info(t){}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.Ix),e.rXU(J),e.rXU(Y),e.rXU(w.f),e.rXU(v.O),e.rXU(L.D),e.rXU(O.t),e.rXU(q.v),e.rXU(ae.s))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-list"]],decls:28,vars:8,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/reporting/report-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-success",3,"click"],[1,"tabs"],[3,"click","ngClass"],[3,"ngClass","click",4,"ngIf"],[1,"report-list"],[1,"report-item"],[1,"report-icon","fas","fa-file-excel"],[1,"overlay"],[1,"button","is-warning",3,"click"],[1,"fas","fa-fw","fa-cogs"],[1,"fas","fa-fw","fa-copy"],["class","button is-primary",3,"click",4,"ngIf"],[1,"button","is-primary",3,"click"],[1,"fas","fa-fw","fa-pencil"]],template:function(r,n){1&r&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Reports"),e.k0s()()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5)(10,"h1",6),e.EFF(11,"Reports"),e.k0s()(),e.j41(12,"div",5)(13,"div",7)(14,"button",8),e.bIt("click",function(){return n.add()}),e.EFF(15,"Add Report"),e.k0s()()()(),e.j41(16,"div",9)(17,"ul")(18,"li",10),e.bIt("click",function(){return n.mode="my-reports"}),e.j41(19,"a"),e.EFF(20,"My Reports"),e.k0s()(),e.j41(21,"li",10),e.bIt("click",function(){return n.mode="public-reports"}),e.j41(22,"a"),e.EFF(23,"Public Reports"),e.k0s()(),e.DNE(24,ce,3,3,"li",11),e.k0s()(),e.DNE(25,pe,2,0,"p")(26,ue,2,0)(27,fe,2,0),e.k0s()),2&r&&(e.R7$(18),e.Y8G("ngClass",e.eq3(4,S,"my-reports"==n.mode)),e.R7$(3),e.Y8G("ngClass",e.eq3(6,S,"public-reports"==n.mode)),e.R7$(3),e.Y8G("ngIf",n.isDeveloper()),e.R7$(),e.vxM(25,null==n.reportGroups?25:0==n.reportGroups.length?26:27))},dependencies:[l.YU,l.bT,u.Wk],styles:['[_ngcontent-%COMP%]:root{--palette-text: #333;--palette-text-disabled: #999}[_ngcontent-%COMP%]:root{--palette-body-text: #000;--palette-body-text-highlight: #485fc7;--palette-body-border: #dbdbdb;--palette-body-background: #F4F4F4;--palette-body-background-alt: #F0F0F0}[_ngcontent-%COMP%]:root{--palette-primary-text: hsl(208, 56%, 46%);--palette-primary-foreground: #FFF;--palette-primary-background: hsl(208, 56%, 46%);--palette-primary-background-hover: hsl(208, 56%, 41%)}[_ngcontent-%COMP%]:root{--palette-secondary-text: hsl(210, 30%, 89%);--palette-secondary-foreground: #333;--palette-secondary-background: hsl(210, 30%, 89%);--palette-secondary-background-hover: hsl(210, 30%, 86%)}[_ngcontent-%COMP%]:root{--palette-success-text: hsl(173, 70%, 35%);--palette-success-foreground: #FFF;--palette-success-background: hsl(173, 70%, 35%);--palette-success-background-hover: hsl(173, 70%, 30%)}[_ngcontent-%COMP%]:root{--palette-warning-text: hsl(25, 100%, 40%);--palette-warning-foreground: #FFF;--palette-warning-background: hsl(25, 100%, 40%);--palette-warning-background-hover: hsl(25, 100%, 35%)}[_ngcontent-%COMP%]:root{--palette-danger-text: hsl(351, 52%, 43%);--palette-danger-foreground: #FFF;--palette-danger-background: hsl(351, 52%, 43%);--palette-danger-background-hover: hsl(351, 52%, 38%)}[_ngcontent-%COMP%]:root{--palette-control-text: #333;--palette-control-text-disabled: #999;--palette-control-background: #FFFFFF;--palette-control-background-alt: #F7F7F7;--palette-control-border: #dbdbdb;--palette-control-border-hover: #cbcbcb;--palette-control-border-focus: hsl(208, 10%, 41%);--palette-control-border-error: var(--palette-danger-text);--palette-control-shadow: RGBA(0, 0, 0, .3)}body.dark-mode[_ngcontent-%COMP%]{--palette-text: #fff;--palette-primary-text: hsl(208, 56%, 66%);--palette-control-border: #cccccc;--palette-control-shadow: RGBA(200, 200, 200, .2);--palette-body-text: #FFF;--palette-body-text-highlight: #67ACDB;--palette-body-background: #2F3434;--palette-body-background-alt: #1F2424;--sidebar-highlight: #09949E;--sidebar-background: #4B5660;--sidebar-background-hover: RGBA(10, 10, 10, .5);--sidebar-background-active: RGBA(10, 10, 10, .7);--navbar-highlight: #09949E;--navbar-background: #4B5660;--navbar-background-hover: RGBA(10, 10, 10, .5);--navbar-background-active: RGBA(10, 10, 10, .7)}[_ngcontent-%COMP%]:root{--font-family: "Poppins", sans-serif}[_ngcontent-%COMP%]:root{--gap: 1rem;--bold-if-light: bold}[_ngcontent-%COMP%]:root{--sidebar-background: hsl(198, 34%, 29%);--sidebar-background-hover: RGBA(51, 51, 51, .7);--sidebar-background-active: RGBA(51, 51, 51, .5);--sidebar-highlight: #0de3f6;--sidebar-width: 200px}[_ngcontent-%COMP%]:root{--navbar-background: hsl(198, 34%, 29%);--navbar-background-hover: RGBA(51, 51, 51, .7);--navbar-background-active: RGBA(51, 51, 51, .5);--navbar-highlight: #0de3f6;--navbar-height: 3rem}body.dark-mode[_ngcontent-%COMP%]{--bold-if-light: normal}.report-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.report-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:0 0 180px;cursor:pointer;padding:1rem .5rem;border:1px solid var(--palette-control-border);color:var(--palette-control-text);background-color:var(--palette-control-background);transition:box-shadow .25s ease;position:relative}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]   i.report-icon[_ngcontent-%COMP%]{font-size:3rem}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;margin-top:.5rem;cursor:pointer;line-height:1.4;min-height:2em}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fffffffa;opacity:0;transition:opacity .1s ease}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #FFF}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #0000004d}.report-list[_ngcontent-%COMP%]   .report-item[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}']})}}return o})();var k=c(5377),R=c(192),j=c(3671),h=c(6634),_=c(5343);function _e(o,a){if(1&o){const t=e.RV6();e.j41(0,"a",14),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.toggleField(n))}),e.nrm(1,"i"),e.EFF(2),e.k0s()}if(2&o){const t=a.$implicit;e.R7$(),e.ZvI("far ",t.selected?"fa-check-square":"fa-square",""),e.R7$(),e.SpI("\xa0",t.name,"")}}let Q=(()=>{class o extends d.u{open(t){return this._open(be,t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),be=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),fieldIds:new i.MJ([],{nonNullable:!0})}),this.fields=[],this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design}),p.A.forEach(this.data.schema.fields,n=>{this.fields.push({id:n.id,name:n.name,selected:!1})})}save(){this.formService.hasErrors(this.form)||(this.form.patchValue({fieldIds:p.A.map(p.A.filter(this.fields,t=>t.selected),t=>t.id)}),this.reportDesignApi.insertReportColumn(this.form.getRawValue()).subscribe(t=>this._closeDialog(t)))}cancel(){this._cancelDialog()}toggleField(t){t.selected=!t.selected}selectAll(){p.A.forEach(this.fields,t=>t.selected=!0)}selectNone(){p.A.forEach(this.fields,t=>t.selected=!1)}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["insert-report-column-dialog"]],features:[e.Vt3],decls:21,vars:2,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],[2,"float","right"],[1,"link","is-success",3,"click"],[1,"link","is-warning",3,"click"],[1,"checklist"],[3,"click",4,"ngFor","ngForOf"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"],[3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Add Column "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7," Select columns to add "),e.j41(8,"span",6)(9,"a",7),e.bIt("click",function(){return n.selectAll()}),e.EFF(10,"all"),e.k0s(),e.EFF(11," \xa0 "),e.j41(12,"a",8),e.bIt("click",function(){return n.selectNone()}),e.EFF(13,"none"),e.k0s()()(),e.j41(14,"div",9),e.DNE(15,_e,3,4,"a",10),e.k0s()()()(),e.j41(16,"div",11)(17,"button",12),e.bIt("click",function(){return n.save()}),e.EFF(18,"Add"),e.k0s(),e.j41(19,"button",13),e.bIt("click",function(){return n.cancel()}),e.EFF(20,"Cancel"),e.k0s()()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(15),e.Y8G("ngForOf",n.fields))},dependencies:[l.Sq,i.qT,i.cb,i.j4],encapsulation:2})}}return o})(),W=(()=>{class o extends d.u{open(t){return this._open(ve,t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),ve=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),fieldId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),parentId:new i.MJ(null)}),this.fields=[],this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design,parentId:this.data.parentId}),p.A.forEach(this.data.schema.fields,n=>{n.filterable&&this.fields.push(n)}),this.fields.push({id:k.T4.Group,name:"Condition Group"})}save(){this.formService.hasErrors(this.form)||this.reportDesignApi.insertReportFilter(this.form.getRawValue()).subscribe(t=>this._closeDialog(t))}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["insert-report-filter-dialog"]],features:[e.Vt3],decls:14,vars:2,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["placeholder","required","formControlName","fieldId",3,"items"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Add Filter "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Filter Type"),e.k0s(),e.nrm(8,"dropdown-select",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return n.save()}),e.EFF(11,"Add"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return n.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(8),e.Y8G("items",n.fields))},dependencies:[i.qT,i.BC,i.cb,i.j4,i.JD,B.p],encapsulation:2})}}return o})();function Fe(o,a){if(1&o&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.id),e.R7$(),e.JRh(t.name)}}function Ce(o,a){if(1&o&&(e.j41(0,"div",4)(1,"label",5),e.EFF(2,"Combine Multiple Values Using"),e.k0s(),e.j41(3,"select",14),e.DNE(4,Fe,2,2,"option",15),e.k0s()()),2&o){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.collectionOptions)}}let z=(()=>{class o extends d.u{open(t){return this._open(ke,t,{})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),ke=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),id:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),title:new i.MJ("",{nonNullable:!0}),bold:new i.MJ(!1,{nonNullable:!0}),width:new i.MJ(null),collection:new i.MJ(0,{nonNullable:!0})}),this.collectionOptions=[],this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design}),this.form.patchValue(this.data.column),this.enumerateCollectionOptions()}save(){this.formService.hasErrors(this.form)||this.reportDesignApi.updateReportColumn(this.form.getRawValue()).subscribe(t=>this._closeDialog(t))}cancel(){this._cancelDialog()}enumerateCollectionOptions(){!1!==this.data.column.multiValued&&(this.collectionOptions.push({id:h.BU.Default,name:"Default"}),this.data.column.fieldType==h.nV.Number&&(this.collectionOptions.push({id:h.BU.Sum,name:"Sum"}),this.collectionOptions.push({id:h.BU.Avg,name:"Average"}),this.collectionOptions.push({id:h.BU.Min,name:"Min"}),this.collectionOptions.push({id:h.BU.Max,name:"Max"})),this.collectionOptions.push({id:h.BU.Count,name:"Count"}),this.collectionOptions.push({id:h.BU.List,name:"List"}),this.collectionOptions.push({id:h.BU.ListDistinct,name:"List Distinct"}))}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["update-report-column-dialog"]],features:[e.Vt3],decls:24,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","title",1,"input"],[1,"grid","has-columns-2"],["type","number","formControlName","width","placeholder","Size to contents",1,"input"],["formControlName","bold"],["class","field",4,"ngIf"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"],["formControlName","collection",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Title"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",7)(10,"div",4)(11,"label",5),e.EFF(12,"Width"),e.k0s(),e.nrm(13,"input",8),e.k0s(),e.j41(14,"div",4)(15,"label",5),e.EFF(16,"Bold"),e.k0s(),e.nrm(17,"toggle-input",9),e.k0s()(),e.DNE(18,Ce,5,1,"div",10),e.k0s()(),e.j41(19,"div",11)(20,"button",12),e.bIt("click",function(){return n.save()}),e.EFF(21,"Save"),e.k0s(),e.j41(22,"button",13),e.bIt("click",function(){return n.cancel()}),e.EFF(23,"Cancel"),e.k0s()()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(2),e.SpI(" Edit Column [Field = ",n.data.column.fieldName,"] "),e.R7$(16),e.Y8G("ngIf",n.collectionOptions.length>0))},dependencies:[l.Sq,l.bT,i.qT,i.xH,i.y7,i.me,i.Q0,i.wz,i.BC,i.cb,i.j4,i.JD,j.A],encapsulation:2})}}return o})();var y=c(9079),D=c(8141),T=c(152),Re=c(6939),ye=c(757),De=c(7987),Ge=c(5701),Ee=c(9599);const je=["popupTemplate"],Te=["popupAnchor"];function Ie(o,a){if(1&o&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function we(o,a){if(1&o&&(e.j41(0,"div",4)(1,"div",5)(2,"label",6),e.EFF(3,"Condition"),e.k0s(),e.j41(4,"select",11),e.DNE(5,Ie,2,2,"option",12),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.filter.conditions)}}function Ne(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"label",6),e.EFF(3,"Value"),e.k0s(),e.j41(4,"dropdown-text-input",14),e.bIt("callback",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCallback())}),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("items",t.options)}}function xe(o,a){if(1&o&&(e.j41(0,"div",15),e.nrm(1,"date-calendar",16),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("formControl",t.popupFormControl)}}let Ae=(()=>{class o{constructor(t,r){this.overlay=t,this.viewContainerRef=r,this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.popupFormControl=new i.MJ(null),this.form=new i.gE({name:new i.MJ("",{nonNullable:!0}),editable:new i.MJ(!1,{nonNullable:!0}),condition:new i.MJ(h.g8.EqualTo),value:new i.MJ("")}),this.options=[{id:"today",name:"today"},{id:"yesterday",name:"yesterday"},{id:"start of month",name:"start of month"},{id:"end of month",name:"end of month"},{id:"start of year",name:"start of year"},{id:"end of year",name:"end of year"}],this.popupRef=null,this.onChange=_.l,this.onTouched=_.l,this.popupFormControl.valueChanges.pipe((0,D.M)(n=>{this.form.patchValue({value:this.formatValue(n)}),this.closePopup()}),(0,y.pQ)(this.destroyRef)).subscribe()}formatValue(t){var r=ye.L.parse(t);return null==r?null:r.format("dd MMM yyyy")}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}get unary(){var t=this.filter.conditions.find(r=>r.value==this.form.value.condition);return null!=t&&t.unary}onCallback(){this.openPopup()}get popupOpen(){return null!==this.popupRef}openPopup(){if(this.popupRef)return;this.popupRef=this.overlay.create({scrollStrategy:this.overlay.scrollStrategies.reposition({scrollThrottle:50}),positionStrategy:this.overlay.position().flexibleConnectedTo(this.popupAnchor).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}]).withFlexibleDimensions(!0).withPush(!1),hasBackdrop:!0}),this.popupRef.backdropClick().subscribe(()=>this.closePopup());const t=new Re.VA(this.popupTemplate,this.viewContainerRef);this.popupRef.attach(t)}closePopup(){this.popupOpen&&(this.popupRef.detach(),this.popupRef=null,this.onTouched(),this.cd.detectChanges())}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(De.hJ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-date"]],viewQuery:function(r,n){if(1&r&&(e.GBs(je,5),e.GBs(Te,5)),2&r){let s;e.mGM(s=e.lsd())&&(n.popupTemplate=s.first),e.mGM(s=e.lsd())&&(n.popupAnchor=s.first)}},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:18,vars:4,consts:[["popupAnchor",""],["popupTemplate",""],[1,"grid",3,"formGroup"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["type","text","formControlName","name",1,"input",3,"placeholder"],[1,"column","is-narrow"],["formControlName","editable"],["class","column",4,"ngIf"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["formControlName","value","placeholder","optional","callbackIcon","far fa-calendar",3,"callback","items"],[1,"date-picker-popup"],[3,"formControl"]],template:function(r,n){1&r&&(e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6),e.EFF(6,"Name"),e.k0s(),e.nrm(7,"input",7),e.k0s()(),e.j41(8,"div",8)(9,"div",5)(10,"label",6),e.EFF(11,"Editable"),e.k0s(),e.nrm(12,"toggle-input",9),e.k0s()()(),e.j41(13,"div",3),e.DNE(14,we,6,1,"div",10)(15,Ne,5,1,"div",10),e.k0s()(),e.DNE(16,xe,2,1,"ng-template",null,1,e.C5r)),2&r&&(e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("placeholder",n.filter.fieldName),e.R7$(7),e.Y8G("ngIf",n.filter.conditions.length>0),e.R7$(),e.Y8G("ngIf",!n.unary))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.l_,i.j4,i.JD,Ge.A,Ee.I,j.A],encapsulation:2,changeDetection:0})}}return o})();function Me(o,a){if(1&o&&(e.j41(0,"option",6),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function Ve(o,a){if(1&o&&(e.j41(0,"div",2)(1,"label",3),e.EFF(2,"Condition"),e.k0s(),e.j41(3,"select",4),e.DNE(4,Me,2,2,"option",5),e.k0s()()),2&o){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.filter.conditions)}}let Oe=(()=>{class o{constructor(){this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.form=new i.gE({condition:new i.MJ(k.tS.All,{nonNullable:!0})}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-group"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:2,vars:2,consts:[[1,"grid",3,"formGroup"],["class","field",4,"ngIf"],[1,"field"],[1,"label"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(r,n){1&r&&(e.j41(0,"div",0),e.DNE(1,Ve,5,1,"div",1),e.k0s()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("ngIf",n.filter.conditions.length>0))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.wz,i.BC,i.cb,i.j4,i.JD],encapsulation:2,changeDetection:0})}}return o})();function Xe(o,a){if(1&o&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function Be(o,a){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Condition"),e.k0s(),e.j41(4,"select",9),e.DNE(5,Xe,2,2,"option",10),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.filter.conditions)}}function Se(o,a){1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Value"),e.k0s(),e.nrm(4,"input",12),e.k0s()())}let Ue=(()=>{class o{constructor(){this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.form=new i.gE({name:new i.MJ("",{nonNullable:!0}),editable:new i.MJ(!1,{nonNullable:!0}),condition:new i.MJ(k.TJ.EqualTo),value:new i.MJ(0,{validators:[i.k0.required],nonNullable:!0})}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}get unary(){var t=this.filter.conditions.find(r=>r.value==this.form.value.condition);return null!=t&&t.unary}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-number"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:15,vars:4,consts:[[1,"grid",3,"formGroup"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["type","text","formControlName","name",1,"input",3,"placeholder"],[1,"column","is-narrow"],["formControlName","editable"],["class","column",4,"ngIf"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","number","placeholder","required","formControlName","value",1,"input"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5,"Name"),e.k0s(),e.nrm(6,"input",5),e.k0s()(),e.j41(7,"div",6)(8,"div",3)(9,"label",4),e.EFF(10,"Editable"),e.k0s(),e.nrm(11,"toggle-input",7),e.k0s()()(),e.j41(12,"div",1),e.DNE(13,Be,6,1,"div",8)(14,Se,5,0,"div",8),e.k0s()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("placeholder",n.filter.fieldName),e.R7$(7),e.Y8G("ngIf",n.filter.conditions.length>0),e.R7$(),e.Y8G("ngIf",!n.unary))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.me,i.Q0,i.wz,i.BC,i.cb,i.j4,i.JD,j.A],encapsulation:2,changeDetection:0})}}return o})();function $e(o,a){if(1&o&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function Pe(o,a){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Condition"),e.k0s(),e.j41(4,"select",9),e.DNE(5,$e,2,2,"option",10),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.filter.conditions)}}function Je(o,a){1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Value"),e.k0s(),e.nrm(4,"input",12),e.k0s()())}let Ye=(()=>{class o{constructor(){this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.form=new i.gE({name:new i.MJ("",{nonNullable:!0}),editable:new i.MJ(!1,{nonNullable:!0}),condition:new i.MJ(k.n3.Contains),value:new i.MJ("")}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}get unary(){var t=this.filter.conditions.find(r=>r.value==this.form.value.condition);return null!=t&&t.unary}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-string"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:15,vars:4,consts:[[1,"grid",3,"formGroup"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["type","text","formControlName","name",1,"input",3,"placeholder"],[1,"column","is-narrow"],["formControlName","editable"],["class","column",4,"ngIf"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","text","placeholder","optional","formControlName","value",1,"input"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5,"Name"),e.k0s(),e.nrm(6,"input",5),e.k0s()(),e.j41(7,"div",6)(8,"div",3)(9,"label",4),e.EFF(10,"Editable"),e.k0s(),e.nrm(11,"toggle-input",7),e.k0s()()(),e.j41(12,"div",1),e.DNE(13,Pe,6,1,"div",8)(14,Je,5,0,"div",8),e.k0s()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("placeholder",n.filter.fieldName),e.R7$(7),e.Y8G("ngIf",n.filter.conditions.length>0),e.R7$(),e.Y8G("ngIf",!n.unary))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,j.A],encapsulation:2,changeDetection:0})}}return o})();function Le(o,a){if(1&o&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function qe(o,a){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Condition"),e.k0s(),e.j41(4,"select",9),e.DNE(5,Le,2,2,"option",10),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.filter.conditions)}}let Qe=(()=>{class o{constructor(){this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.form=new i.gE({name:new i.MJ("",{nonNullable:!0}),editable:new i.MJ(!1,{nonNullable:!0}),condition:new i.MJ(h.SY.True)}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-boolean"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:14,vars:3,consts:[[1,"grid",3,"formGroup"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["type","text","formControlName","name",1,"input",3,"placeholder"],[1,"column","is-narrow"],["formControlName","editable"],["class","column",4,"ngIf"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5,"Name"),e.k0s(),e.nrm(6,"input",5),e.k0s()(),e.j41(7,"div",6)(8,"div",3)(9,"label",4),e.EFF(10,"Editable"),e.k0s(),e.nrm(11,"toggle-input",7),e.k0s()()(),e.j41(12,"div",1),e.DNE(13,qe,6,1,"div",8),e.k0s()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("placeholder",n.filter.fieldName),e.R7$(7),e.Y8G("ngIf",n.filter.conditions.length>0))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,j.A],encapsulation:2,changeDetection:0})}}return o})();var We=c(1449);function ze(o,a){if(1&o&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("ngValue",t.value),e.R7$(),e.JRh(t.description)}}function He(o,a){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Condition"),e.k0s(),e.j41(4,"select",9),e.DNE(5,ze,2,2,"option",10),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.filter.conditions)}}function Ke(o,a){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"label",4),e.EFF(3,"Value"),e.k0s(),e.nrm(4,"dropdown-multi-select",12),e.k0s()()),2&o){const t=e.XpG();e.R7$(4),e.Y8G("closeOnSelect",!1)("dataSource",t.referenceDataSource)("enableSearch",!0)("enableClear",!0)}}let Ze=(()=>{class o{constructor(t){this.reportDesignApi=t,this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.referenceDataSource={query:r=>this.reportDesignApi.lookupReferenceField({query:r,fieldId:this.filter.fieldId,reportProviderId:this.schema.reportProviderId})},this.form=new i.gE({name:new i.MJ("",{nonNullable:!0}),editable:new i.MJ(!1,{nonNullable:!0}),condition:new i.MJ(k.JN.OneOf,{validators:[i.k0.required],nonNullable:!0}),value:new i.MJ([])}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}get unary(){var t=this.filter.conditions.find(r=>r.value==this.form.value.condition);return null!=t&&t.unary}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-reference"]],inputs:{schema:"schema"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:16,vars:4,consts:[[1,"grid",3,"formGroup"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["type","text","formControlName","name",1,"input",3,"placeholder"],[1,"column","is-narrow"],["formControlName","editable"],["class","column",4,"ngIf"],["formControlName","condition",1,"select"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["formControlName","value","placeholder","optional",3,"closeOnSelect","dataSource","enableSearch","enableClear"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5,"Name"),e.k0s(),e.nrm(6,"input",5),e.k0s()(),e.j41(7,"div",6)(8,"div",3)(9,"label",4),e.EFF(10,"Editable"),e.k0s(),e.nrm(11,"toggle-input",7),e.k0s()()(),e.j41(12,"div",1),e.DNE(13,He,6,1,"div",8),e.k0s(),e.j41(14,"div",1),e.DNE(15,Ke,5,4,"div",8),e.k0s()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("placeholder",n.filter.fieldName),e.R7$(7),e.Y8G("ngIf",n.filter.conditions.length>0),e.R7$(2),e.Y8G("ngIf",!n.unary))},dependencies:[l.Sq,l.bT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,We.C,j.A],encapsulation:2,changeDetection:0})}}return o})(),et=(()=>{class o{constructor(){this.cd=(0,e.WQX)(e.gRc),this.destroyRef=(0,e.WQX)(e.abz),this.form=new i.gE({expression:new i.MJ("")}),this.onChange=_.l,this.onTouched=_.l}ngOnInit(){this.form.valueChanges.pipe((0,T.B)(200),(0,D.M)(t=>{this.filter=p.A.merge(this.filter,t),this.emitChanges()}),(0,y.pQ)(this.destroyRef)).subscribe()}reset(t){this.filter=t,this.form.patchValue(t)}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.filter))}writeValue(t){this.reset(p.A.deepClone(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.form.disable():this.form.enable()}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-filter-expression"]],features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:5,vars:1,consts:[[1,"grid",3,"formGroup"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","expression",1,"input"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3,"Expression"),e.k0s(),e.nrm(4,"input",3),e.k0s()()),2&r&&e.Y8G("formGroup",n.form)},dependencies:[i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2,changeDetection:0})}}return o})();function tt(o,a){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI("[Field = ",t.fieldName,"]")}}function ot(o,a){1&o&&e.nrm(0,"report-filter-date",11)}function rt(o,a){1&o&&e.nrm(0,"report-filter-number",11)}function it(o,a){1&o&&e.nrm(0,"report-filter-string",11)}function nt(o,a){1&o&&e.nrm(0,"report-filter-boolean",11)}function st(o,a){1&o&&e.nrm(0,"report-filter-group",11)}function lt(o,a){if(1&o&&e.nrm(0,"report-filter-reference",12),2&o){const t=e.XpG();e.Y8G("schema",t.data.schema)}}function at(o,a){1&o&&e.nrm(0,"report-filter-expression",11)}let H=(()=>{class o extends d.u{open(t){return this._open(ct,t,{width:"800px"})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),ct=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.ReportFilterType=k.dE,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),filter:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0})}),this.fieldName=null,this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design,filter:this.data.filter}),this.data.filter.fieldName&&(this.fieldName=this.data.filter.fieldName)}save(){this.formService.hasErrors(this.form)||this.reportDesignApi.updateReportFilter(this.form.getRawValue()).subscribe(t=>this._closeDialog(t))}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["update-report-filter-dialog"]],features:[e.Vt3],decls:19,vars:10,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[4,"ngIf"],[1,"dialog-body"],[1,"grid"],[3,"ngSwitch"],["formControlName","filter",4,"ngSwitchCase"],["formControlName","filter",3,"schema",4,"ngSwitchCase"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"],["formControlName","filter"],["formControlName","filter",3,"schema"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Edit Filter "),e.DNE(3,tt,2,1,"span",2),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"div",5),e.DNE(7,ot,1,0,"report-filter-date",6)(8,rt,1,0,"report-filter-number",6)(9,it,1,0,"report-filter-string",6)(10,nt,1,0,"report-filter-boolean",6)(11,st,1,0,"report-filter-group",6)(12,lt,1,1,"report-filter-reference",7)(13,at,1,0,"report-filter-expression",6),e.k0s()()(),e.j41(14,"div",8)(15,"button",9),e.bIt("click",function(){return n.save()}),e.EFF(16,"Save"),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){return n.cancel()}),e.EFF(18,"Cancel"),e.k0s()()()),2&r&&(e.Y8G("formGroup",n.form),e.R7$(3),e.Y8G("ngIf",n.fieldName),e.R7$(3),e.Y8G("ngSwitch",n.data.filter.filterType),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Date),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Number),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.String),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Boolean),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Group),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Reference),e.R7$(),e.Y8G("ngSwitchCase",n.ReportFilterType.Expression))},dependencies:[l.bT,l.ux,l.e1,i.qT,i.BC,i.cb,i.j4,i.JD,Ae,Oe,Ue,Ye,Qe,Ze,et],encapsulation:2})}}return o})(),K=(()=>{class o extends d.u{open(t){return this._open(pt,t,{})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),pt=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),id:new i.MJ("",{validators:[i.k0.required],nonNullable:!0})}),this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design}),this.form.patchValue(this.data.column)}save(){this.formService.hasErrors(this.form)||this.reportDesignApi.deleteReportColumn(this.form.getRawValue()).subscribe(t=>this._closeDialog(t))}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["delete-report-column-dialog"]],features:[e.Vt3],decls:11,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head","is-danger"],[1,"dialog-body"],[1,"dialog-buttons"],["type","submit",1,"is-danger",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Delete Column "),e.k0s(),e.j41(3,"div",2)(4,"p"),e.EFF(5,"Are you sure you want to delete this report column?"),e.k0s()(),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return n.save()}),e.EFF(8,"Delete"),e.k0s(),e.j41(9,"button",5),e.bIt("click",function(){return n.cancel()}),e.EFF(10,"Cancel"),e.k0s()()()),2&r&&e.Y8G("formGroup",n.form)},dependencies:[i.qT,i.cb,i.j4],encapsulation:2})}}return o})(),Z=(()=>{class o extends d.u{open(t){return this._open(ut,t,{})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})(),ut=(()=>{class o extends d.V{constructor(t,r){super(),this.formService=t,this.reportDesignApi=r,this.form=new i.gE({reportProviderId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),id:new i.MJ("",{nonNullable:!0})}),this.form.patchValue({reportProviderId:this.data.schema.reportProviderId,design:this.data.design,id:this.data.filter.id})}save(){this.formService.hasErrors(this.form)||this.reportDesignApi.deleteReportFilter(this.form.getRawValue()).subscribe(t=>this._closeDialog(t))}cancel(){this._cancelDialog()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(b.u),e.rXU(R.$))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["delete-report-filter-dialog"]],features:[e.Vt3],decls:11,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head","is-danger"],[1,"dialog-body"],[1,"dialog-buttons"],["type","submit",1,"is-danger",3,"click"],["type","button",3,"click"]],template:function(r,n){1&r&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Delete Filter "),e.k0s(),e.j41(3,"div",2)(4,"p"),e.EFF(5,"Are you sure you want to delete this report filter?"),e.k0s()(),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return n.save()}),e.EFF(8,"Delete"),e.k0s(),e.j41(9,"button",5),e.bIt("click",function(){return n.cancel()}),e.EFF(10,"Cancel"),e.k0s()()()),2&r&&e.Y8G("formGroup",n.form)},dependencies:[i.qT,i.cb,i.j4],encapsulation:2})}}return o})(),ee=(()=>{class o{constructor(t,r,n,s,f,G){this.insertReportColumnDialog=t,this.insertReportFilterDialog=r,this.updateReportColumnDialog=n,this.updateReportFilterDialog=s,this.deleteReportColumnDialog=f,this.deleteReportFilterDialog=G}insertColumn(t,r){return this.insertReportColumnDialog.open({schema:t,design:r})}updateColumn(t,r,n){return this.updateReportColumnDialog.open({schema:t,design:r,column:n})}deleteColumn(t,r,n){return this.deleteReportColumnDialog.open({schema:t,design:r,column:n})}insertFilter(t,r,n){return this.insertReportFilterDialog.open({schema:t,design:r,parentId:n})}updateFilter(t,r,n){return this.updateReportFilterDialog.open({schema:t,design:r,filter:n})}deleteFilter(t,r,n){return this.deleteReportFilterDialog.open({schema:t,design:r,filter:n})}findFilter(t,r){for(const n of r){if(n.id===t)return n;if(n.filterType===h.dE.Group){const f=this.findFilter(t,n.filters);if(f)return f}}return null}static{this.\u0275fac=function(r){return new(r||o)(e.KVO(Q),e.KVO(W),e.KVO(z),e.KVO(H),e.KVO(K),e.KVO(Z))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})();var U=c(1875);const te=o=>({$implicit:o});function dt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",13)(1,"div",3)(2,"div",4)(3,"span",14),e.nrm(4,"i",15),e.k0s(),e.EFF(5," \xa0 "),e.j41(6,"span"),e.EFF(7),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div",16)(10,"a",17),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.editColumn(n))}),e.EFF(11,"edit"),e.k0s(),e.EFF(12," \xa0 "),e.j41(13,"a",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.deleteColumn(n))}),e.EFF(14,"delete"),e.k0s()()()()}if(2&o){const t=a.$implicit,r=e.XpG(2);e.R7$(6),e.xc7("font-weight",t.bold?"bold":"normal"),e.R7$(),e.JRh(t.title),e.R7$(),e.SpI(" \xa0 ",r.collectionDescription(t)," ")}}function mt(o,a){1&o&&(e.j41(0,"div",19),e.EFF(1," There are no columns specified on this report. "),e.k0s())}function ht(o,a){1&o&&(e.j41(0,"div",20)(1,"div",19),e.EFF(2," There are no filters specified on this report. "),e.k0s()())}function ft(o,a){if(1&o&&e.eu8(0,21),2&o){const t=e.XpG(2),r=e.sdS(2);e.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",e.eq3(2,te,t.design.filters))}}function gt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6),e.EFF(5,"Columns"),e.k0s(),e.j41(6,"div",7),e.bIt("cdkDropListDropped",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.dropColumn(n))}),e.DNE(7,dt,15,4,"div",8)(8,mt,2,0,"div",9),e.k0s(),e.j41(9,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addColumn())}),e.EFF(10,"Add Columns"),e.k0s()()(),e.j41(11,"div",4)(12,"div",5)(13,"label",6),e.EFF(14,"Filters"),e.k0s(),e.DNE(15,ht,3,0,"div",11)(16,ft,1,4,"ng-container",12),e.j41(17,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addFilter())}),e.EFF(18,"Add Filter"),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("cdkDropListDisabled",!1),e.R7$(),e.Y8G("ngForOf",t.design.columns),e.R7$(),e.Y8G("ngIf",0==t.design.columns.length),e.R7$(7),e.Y8G("ngIf",0==t.design.filters.length),e.R7$(),e.Y8G("ngIf",t.design.filters.length>0)}}function _t(o,a){1&o&&e.nrm(0,"i",27)}function bt(o,a){if(1&o){const t=e.RV6();e.j41(0,"a",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.addFilter(n.id))}),e.EFF(1,"add"),e.k0s()}}function vt(o,a){if(1&o&&e.eu8(0,21),2&o){const t=e.XpG(2).$implicit;e.XpG(2);const r=e.sdS(2);e.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",e.eq3(2,te,t.filters))}}function Ft(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",19),e.EFF(1," Click to "),e.j41(2,"a",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.addFilter(n.id))}),e.EFF(3,"add"),e.k0s(),e.EFF(4," a condition to this group. "),e.k0s()}}function Ct(o,a){if(1&o&&(e.j41(0,"div",29),e.DNE(1,vt,1,4,"ng-container",12)(2,Ft,5,0,"div",9),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.filters.length>0),e.R7$(),e.Y8G("ngIf",0==t.filters.length)}}function kt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",23)(1,"div",19)(2,"div",3)(3,"div",4)(4,"span",14),e.nrm(5,"i",15),e.k0s(),e.EFF(6," \xa0 "),e.j41(7,"span"),e.EFF(8),e.DNE(9,_t,1,0,"i",24),e.k0s()(),e.j41(10,"div",16),e.DNE(11,bt,2,0,"a",25),e.EFF(12," \xa0 "),e.j41(13,"a",17),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.editFilter(n))}),e.EFF(14,"edit"),e.k0s(),e.EFF(15," \xa0 "),e.j41(16,"a",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.deleteFilter(n))}),e.EFF(17,"delete"),e.k0s()()()(),e.DNE(18,Ct,3,2,"div",26),e.k0s()}if(2&o){const t=a.$implicit,r=e.XpG(2);e.R7$(8),e.SpI(" ",t.description," "),e.R7$(),e.Y8G("ngIf",t.editable),e.R7$(2),e.Y8G("ngIf",t.filterType==r.ReportFilterType.Group),e.R7$(7),e.Y8G("ngIf",t.filterType==r.ReportFilterType.Group)}}function Rt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",7),e.bIt("cdkDropListDropped",function(n){const s=e.eBV(t).$implicit,f=e.XpG();return e.Njj(f.dropFilter(n,s))}),e.DNE(1,kt,19,4,"div",22),e.k0s()}if(2&o){const t=a.$implicit;e.Y8G("cdkDropListDisabled",!1),e.R7$(),e.Y8G("ngForOf",t)}}let yt=(()=>{class o{constructor(t,r,n,s){this.route=t,this.router=r,this.formService=n,this.reportDesignService=s,this.cd=(0,e.WQX)(e.gRc),this.ReportFilterType=k.dE,this.onChange=_.l,this.onTouched=_.l,this.isDisabled=!1}ngOnInit(){}addColumn(){this.reportDesignService.insertColumn(this.schema,this.design).subscribe(t=>{this.design=t,this.emitChanges()})}editColumn(t){this.reportDesignService.updateColumn(this.schema,this.design,t).subscribe(r=>{this.design=r,this.emitChanges()})}deleteColumn(t){this.reportDesignService.deleteColumn(this.schema,this.design,t).subscribe(r=>{this.design=r,this.emitChanges()})}dropColumn(t){var r=t.currentIndex;const s=this.design.columns.splice(t.previousIndex,1);this.design.columns.splice(r,0,s[0]),this.emitChanges()}addFilter(t){this.reportDesignService.insertFilter(this.schema,this.design,t||null).subscribe(r=>{this.design=r,this.emitChanges();var n=this.reportDesignService.findFilter(r.latestFilterId,r.filters);n&&this.reportDesignService.updateFilter(this.schema,this.design,n).subscribe(s=>{this.design=s,this.emitChanges()})})}editFilter(t){this.reportDesignService.updateFilter(this.schema,this.design,t).subscribe(r=>{this.design=r,this.emitChanges()})}deleteFilter(t){this.reportDesignService.deleteFilter(this.schema,this.design,t).subscribe(r=>{this.design=r,this.emitChanges()})}dropFilter(t,r){var n=t.currentIndex;const f=r.splice(t.previousIndex,1);r.splice(n,0,f[0]),this.emitChanges()}collectionDescription(t){if(!t.multiValued||0===t.collection)return"";switch(t.collection){case h.BU.Sum:return"(Sum)";case h.BU.Avg:return"(Average)";case h.BU.Min:return"(Min)";case h.BU.Max:return"(Max)";case h.BU.Count:return"(Count)";case h.BU.List:return"(List)";case h.BU.ListDistinct:return"(List Distinct)"}return"(???)"}emitChanges(){this.cd.detectChanges(),this.onChange(p.A.deepClone(this.design))}writeValue(t){this.design=p.A.deepClone(t),this.cd.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t,this.cd.detectChanges()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(b.u),e.rXU(ee))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-designer"]],inputs:{schema:"schema"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}])],decls:3,vars:1,consts:[["filterTemplate",""],["class","report-designer",4,"ngIf"],[1,"report-designer"],[1,"columns"],[1,"column"],[1,"field"],[1,"label"],["cdkDropList","","cdkDropListLockAxis","y",1,"report-slots",3,"cdkDropListDropped","cdkDropListDisabled"],["class","report-slot","cdkDrag","",4,"ngFor","ngForOf"],["class","report-slot",4,"ngIf"],[1,"button",3,"click"],["class","report-slots",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["cdkDrag","",1,"report-slot"],["cdkDragHandle",""],[1,"fas","fa-fw","fa-bars"],[1,"column","is-right","is-narrow"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"],[1,"report-slot"],[1,"report-slots"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["class","fas fa-pencil",4,"ngIf"],["class","link is-success",3,"click",4,"ngIf"],["style","padding-left: 2rem",4,"ngIf"],[1,"fas","fa-pencil"],[1,"link","is-success",3,"click"],[2,"padding-left","2rem"]],template:function(r,n){1&r&&e.DNE(0,gt,19,5,"div",1)(1,Rt,2,2,"ng-template",null,0,e.C5r),2&r&&e.Y8G("ngIf",n.design)},dependencies:[l.Sq,l.bT,l.T3,U.O7,U.T1,U.Fb],styles:['[_ngcontent-%COMP%]:root{--palette-text: #333;--palette-text-disabled: #999}[_ngcontent-%COMP%]:root{--palette-body-text: #000;--palette-body-text-highlight: #485fc7;--palette-body-border: #dbdbdb;--palette-body-background: #F4F4F4;--palette-body-background-alt: #F0F0F0}[_ngcontent-%COMP%]:root{--palette-primary-text: hsl(208, 56%, 46%);--palette-primary-foreground: #FFF;--palette-primary-background: hsl(208, 56%, 46%);--palette-primary-background-hover: hsl(208, 56%, 41%)}[_ngcontent-%COMP%]:root{--palette-secondary-text: hsl(210, 30%, 89%);--palette-secondary-foreground: #333;--palette-secondary-background: hsl(210, 30%, 89%);--palette-secondary-background-hover: hsl(210, 30%, 86%)}[_ngcontent-%COMP%]:root{--palette-success-text: hsl(173, 70%, 35%);--palette-success-foreground: #FFF;--palette-success-background: hsl(173, 70%, 35%);--palette-success-background-hover: hsl(173, 70%, 30%)}[_ngcontent-%COMP%]:root{--palette-warning-text: hsl(25, 100%, 40%);--palette-warning-foreground: #FFF;--palette-warning-background: hsl(25, 100%, 40%);--palette-warning-background-hover: hsl(25, 100%, 35%)}[_ngcontent-%COMP%]:root{--palette-danger-text: hsl(351, 52%, 43%);--palette-danger-foreground: #FFF;--palette-danger-background: hsl(351, 52%, 43%);--palette-danger-background-hover: hsl(351, 52%, 38%)}[_ngcontent-%COMP%]:root{--palette-control-text: #333;--palette-control-text-disabled: #999;--palette-control-background: #FFFFFF;--palette-control-background-alt: #F7F7F7;--palette-control-border: #dbdbdb;--palette-control-border-hover: #cbcbcb;--palette-control-border-focus: hsl(208, 10%, 41%);--palette-control-border-error: var(--palette-danger-text);--palette-control-shadow: RGBA(0, 0, 0, .3)}body.dark-mode[_ngcontent-%COMP%]{--palette-text: #fff;--palette-primary-text: hsl(208, 56%, 66%);--palette-control-border: #cccccc;--palette-control-shadow: RGBA(200, 200, 200, .2);--palette-body-text: #FFF;--palette-body-text-highlight: #67ACDB;--palette-body-background: #2F3434;--palette-body-background-alt: #1F2424;--sidebar-highlight: #09949E;--sidebar-background: #4B5660;--sidebar-background-hover: RGBA(10, 10, 10, .5);--sidebar-background-active: RGBA(10, 10, 10, .7);--navbar-highlight: #09949E;--navbar-background: #4B5660;--navbar-background-hover: RGBA(10, 10, 10, .5);--navbar-background-active: RGBA(10, 10, 10, .7)}[_ngcontent-%COMP%]:root{--font-family: "Poppins", sans-serif}[_ngcontent-%COMP%]:root{--gap: 1rem;--bold-if-light: bold}[_ngcontent-%COMP%]:root{--sidebar-background: hsl(198, 34%, 29%);--sidebar-background-hover: RGBA(51, 51, 51, .7);--sidebar-background-active: RGBA(51, 51, 51, .5);--sidebar-highlight: #0de3f6;--sidebar-width: 200px}[_ngcontent-%COMP%]:root{--navbar-background: hsl(198, 34%, 29%);--navbar-background-hover: RGBA(51, 51, 51, .7);--navbar-background-active: RGBA(51, 51, 51, .5);--navbar-highlight: #0de3f6;--navbar-height: 3rem}body.dark-mode[_ngcontent-%COMP%]{--bold-if-light: normal}'],changeDetection:0})}}return o})();function Dt(o,a){1&o&&(e.j41(0,"div",25)(1,"label",12),e.EFF(2,"Custom Report Provider"),e.k0s(),e.nrm(3,"input",26),e.k0s(),e.j41(4,"div",25)(5,"label",12),e.EFF(6,"Custom Report Launcher"),e.k0s(),e.nrm(7,"input",27),e.k0s(),e.j41(8,"div",25)(9,"label",12),e.EFF(10,"Custom Report Template"),e.k0s(),e.nrm(11,"input",28),e.k0s(),e.j41(12,"div",25)(13,"label",12),e.EFF(14,"Custom Report Metadata"),e.k0s(),e.nrm(15,"input",29),e.k0s())}function Gt(o,a){if(1&o&&e.nrm(0,"report-designer",30),2&o){const t=e.XpG();e.Y8G("schema",t.reportSchema)}}let Et=(()=>{class o{constructor(t,r,n,s,f,G,N,x,X,wt){this.route=t,this.router=r,this.formService=n,this.userService=s,this.reportApi=f,this.reportGroupApi=G,this.reportDesignApi=N,this.reportLauncherDialog=x,this.confirmDeleteDialog=X,this.staticDataCache=wt,this.reportProviders=[],this.form=new i.gE({id:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),name:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),description:new i.MJ("",{nonNullable:!0}),design:new i.MJ(null,{validators:[i.k0.required],nonNullable:!0}),isPublic:new i.MJ(!1,{nonNullable:!0}),reportGroupId:new i.MJ("",{validators:[i.k0.required],nonNullable:!0}),customReportProvider:new i.MJ("",{nonNullable:!0}),customReportLauncher:new i.MJ("",{nonNullable:!0}),customReportMetadata:new i.MJ("",{nonNullable:!0}),customReportTemplate:new i.MJ("",{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.report),this.reportDesignApi.getReportSchema({reportProviderId:this.item.reportProviderId}).subscribe(t=>{this.reportSchema=t}),this.staticDataCache.reportProvider.query({skip:0,take:1e3}).subscribe(t=>this.reportProviders=t.items)}formatTitle(){var t=this.reportProviders.find(r=>r.id==this.item.reportProviderId);return"Report "+(t?"("+t.name+")":"")}get isCustomReport(){return this.item.reportProviderId==k.uh.CustomReport}reset(t){this.item=t,this.form.patchValue(t),this.form.patchValue({customReportProvider:t.design.customReportProvider,customReportLauncher:t.design.customReportLauncher,customReportMetadata:t.design.customReportMetadata,customReportTemplate:t.design.customReportTemplate}),this.form.markAsPristine()}save(t){if(!this.formService.hasErrors(this.form)){var r=this.form.getRawValue();r.design.customReportProvider=r.customReportProvider,r.design.customReportLauncher=r.customReportLauncher,r.design.customReportMetadata=r.customReportMetadata,r.design.customReportTemplate=r.customReportTemplate,this.reportApi.update(r,{successGrowl:"Report  Updated"}).subscribe(n=>{this.reset(n),t&&this.router.navigate(["reporting/report-list"])})}}cancel(){this.reset(this.item),this.router.navigate(["reporting/report-list"])}delete(){this.confirmDeleteDialog.open({title:"Report "}).subscribe(()=>{this.reportApi.delete({id:this.item.id},{successGrowl:"Report  Deleted"}).subscribe(()=>{this.reset(this.item),this.router.navigate(["reporting/report-list"])})})}run(){this.reportApi.update(this.form.getRawValue(),{successGrowl:"Report Updated"}).subscribe(t=>{this.reset(t),this.reportLauncherDialog.open({reportId:this.item.id})})}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(b.u),e.rXU(L.D),e.rXU(w.f),e.rXU(v.O),e.rXU(R.$),e.rXU(q.v),e.rXU(E.K),e.rXU(O.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["report-item"]],decls:56,vars:9,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/reporting/report-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-6"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"field","is-4"],["formControlName","reportGroupId","placeholder","required",3,"dataSource"],[1,"field","is-2"],["formControlName","isPublic"],[1,"field","is-12"],["type","text","placeholder","optional","formControlName","description",1,"input"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],[1,"button","is-danger",3,"click"],[1,"button","is-primary",3,"click"],[1,"field","is-3"],["type","text","placeholder","optional","formControlName","customReportProvider",1,"input"],["type","text","placeholder","optional","formControlName","customReportLauncher",1,"input"],["type","text","placeholder","optional","formControlName","customReportTemplate",1,"input"],["type","text","placeholder","optional","formControlName","customReportMetadata",1,"input"],["formControlName","design",3,"schema"]],template:function(r,n){1&r&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Reports"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Report"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14),e.k0s()(),e.j41(15,"div",6),e.nrm(16,"div",8),e.k0s()(),e.j41(17,"form",9)(18,"div",10)(19,"div",11)(20,"label",12),e.EFF(21,"Name"),e.k0s(),e.nrm(22,"input",13),e.k0s(),e.j41(23,"div",14)(24,"label",12),e.EFF(25,"Report Group"),e.k0s(),e.nrm(26,"dropdown-select",15),e.k0s(),e.j41(27,"div",16)(28,"label",12),e.EFF(29,"Public"),e.k0s(),e.nrm(30,"toggle-input",17),e.k0s()(),e.j41(31,"div",10)(32,"div",18)(33,"label",12),e.EFF(34,"Description"),e.k0s(),e.nrm(35,"input",19),e.k0s(),e.DNE(36,Dt,16,0)(37,Gt,1,1),e.k0s(),e.j41(38,"div",20)(39,"button",21),e.bIt("click",function(){return n.save(!1)}),e.EFF(40,"Save"),e.k0s(),e.j41(41,"button",21),e.bIt("click",function(){return n.save(!0)}),e.EFF(42,"Save & Close"),e.k0s(),e.j41(43,"button",22),e.bIt("click",function(){return n.cancel()}),e.EFF(44,"Cancel"),e.k0s(),e.j41(45,"span"),e.EFF(46,"\xa0|\xa0"),e.k0s(),e.j41(47,"button",23),e.bIt("click",function(){return n.delete()}),e.EFF(48,"Delete"),e.k0s(),e.j41(49,"span"),e.EFF(50,"\xa0|\xa0"),e.k0s(),e.j41(51,"button",24),e.bIt("click",function(){return n.run()}),e.EFF(52,"Save & Run"),e.k0s()()(),e.j41(53,"p"),e.EFF(54),e.nI1(55,"async"),e.k0s()()),2&r&&(e.R7$(8),e.Mz_("routerLink","/reporting/report-item/",n.item.id,""),e.R7$(6),e.JRh(n.formatTitle()),e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(9),e.Y8G("dataSource",n.reportGroupApi),e.R7$(10),e.vxM(36,n.isCustomReport?36:37),e.R7$(18),e.SpI(" Report Owner: ",e.bMT(55,7,n.userService.formatUser(n.item.ownerUserId))," "))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,u.Wk,B.p,j.A,yt,l.Jj],encapsulation:2})}}return o})();var oe=c(1725);const jt=[{path:"report-group-list",component:I,data:{activeSideMenu:"Configuration"}},{path:"report-group-item/:id",component:ne,resolve:{reportGroup:v.O.reportGroupResolver("id")},canDeactivate:[oe.S.isPristine()],data:{activeSideMenu:"Configuration"}},{path:"report-list",component:ge,data:{activeSideMenu:"Reports"}},{path:"report-item/:id",component:Et,resolve:{report:w.f.reportResolver("id")},canDeactivate:[oe.S.isPristine()],data:{activeSideMenu:"Reports"}}];let Tt=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(jt),u.iI]})}}return o})(),It=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[ee,V,J,Y,Q,W,z,H,K,Z],imports:[l.MD,M.G,Tt]})}}return o})()},3376:(re,A,c)=>{c.d(A,{y:()=>V});var l=c(4438),M=c(1435),u=c(177);function e(m,E){if(1&m){const g=l.RV6();l.j41(0,"a",3),l.bIt("click",function(){l.eBV(g);const C=l.XpG(2);return l.Njj(C.onAdd())}),l.EFF(1,"add"),l.k0s()}}function i(m,E){if(1&m&&l.DNE(0,e,2,0,"a",2),2&m){const g=l.XpG();l.Y8G("ngIf",g.canAdd)}}function d(m,E){if(1&m){const g=l.RV6();l.j41(0,"a",6),l.bIt("click",function(){l.eBV(g);const C=l.XpG().$implicit,I=l.XpG();return l.Njj(I.onEdit(C))}),l.EFF(1,"view/edit"),l.k0s()}}function b(m,E){if(1&m){const g=l.RV6();l.j41(0,"span"),l.EFF(1," \xa0 "),l.j41(2,"a",7),l.bIt("click",function(){l.eBV(g);const C=l.XpG().$implicit,I=l.XpG();return l.Njj(I.onDelete(C))}),l.EFF(3,"delete"),l.k0s()()}}function v(m,E){if(1&m&&l.DNE(0,d,2,0,"a",4)(1,b,4,0,"span",5),2&m){const g=l.XpG();l.Y8G("ngIf",g.canEdit),l.R7$(),l.Y8G("ngIf",g.canDelete)}}let V=(()=>{class m extends M.C{constructor(){super(),this.canAdd=!0,this.add=new l.bkB,this.canEdit=!0,this.edit=new l.bkB,this.canDelete=!0,this.delete=new l.bkB,this.justify="right"}onAdd(){this.add.emit()}onEdit(g){this.edit.emit(g)}onDelete(g){this.delete.emit(g)}static{this.\u0275fac=function(F){return new(F||m)}}static{this.\u0275cmp=l.VBU({type:m,selectors:[["grid-action-column"]],inputs:{canAdd:"canAdd",canEdit:"canEdit",canDelete:"canDelete"},outputs:{add:"add",edit:"edit",delete:"delete"},features:[l.Jv_([{provide:M.C,useExisting:m}]),l.Vt3],decls:4,vars:0,consts:[["headTemplate",""],["itemTemplate",""],["class","link is-success",3,"click",4,"ngIf"],[1,"link","is-success",3,"click"],["class","link is-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(F,C){1&F&&l.DNE(0,i,1,1,"ng-template",null,0,l.C5r)(2,v,2,2,"ng-template",null,1,l.C5r)},dependencies:[u.bT],encapsulation:2})}}return m})()}}]);