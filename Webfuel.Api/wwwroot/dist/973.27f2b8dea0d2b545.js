"use strict";(self.webpackChunkWebfuel_App=self.webpackChunkWebfuel_App||[]).push([[973],{973:(G,h,s)=>{s.r(h),s.d(h,{HomeModule:()=>Mt});var d=s(177),l=s(2896),u=s(4722),F=s(5377),t=s(4438),m=s(7520),y=s(9636),g=s(8829),f=s(4052),v=s(4243),_=s(9571),C=s(1875);function I(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"span",14),t.nrm(4,"i",15),t.k0s(),t.EFF(5," \xa0 "),t.j41(6,"span"),t.EFF(7),t.k0s(),t.EFF(8," \xa0 "),t.k0s(),t.j41(9,"div",16)(10,"a",17),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.deleteWidget(n))}),t.EFF(11,"delete"),t.k0s()()()()}if(2&i){const e=a.$implicit;t.R7$(7),t.JRh(e.headerText)}}function W(i,a){1&i&&(t.j41(0,"div",18),t.EFF(1," There are no widgets specified on this dashboard. "),t.k0s())}function R(i,a){if(1&i&&t.DNE(0,I,12,1,"div",9)(1,W,2,0,"div",10),2&i){const e=t.XpG(2);t.Y8G("ngForOf",e.widgets),t.R7$(),t.Y8G("ngIf",0==e.widgets.length)}}function S(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",1),t.EFF(1," Manage Widgets "),t.j41(2,"span",2)(3,"a",3),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.addWidget())}),t.EFF(4,"+ add widget"),t.k0s()()(),t.j41(5,"div",4)(6,"div",5)(7,"div",6),t.bIt("cdkDropListDropped",function(n){t.eBV(e);const r=t.XpG();return t.Njj(r.dropWidget(n))}),t.DNE(8,R,2,2),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.close())}),t.EFF(11,"Close"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(7),t.Y8G("cdkDropListDisabled",!1),t.R7$(),t.vxM(8,null!=e.widgets?8:-1)}}function $(i,a){if(1&i){const e=t.RV6();t.j41(0,"a",21),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.addWidgetType(n))}),t.j41(1,"div",22),t.EFF(2),t.k0s(),t.j41(3,"div",23),t.EFF(4,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non est ut mi auctor efficitur et sed massa. Phasellus eget feugiat ante. Etiam eget quam nibh. "),t.k0s()()}if(2&i){const e=a.$implicit;t.R7$(2),t.JRh(e.name)}}function X(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",1),t.EFF(1," Add Widget "),t.k0s(),t.j41(2,"div",4)(3,"div",19),t.DNE(4,$,5,1,"a",20),t.k0s()(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.cancelAdd())}),t.EFF(7,"Cancel"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(4),t.Y8G("ngForOf",e.widgetTypes)}}function N(i,a){}let D=(()=>{class i extends m.u{open(e){return this._open(x,e,{disableClose:!0})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=t.xGo(i)))(n||i)}})()}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac})}}return i})(),x=(()=>{class i extends m.V{constructor(e,o,n,r){super(),this.formService=e,this.growlService=o,this.widgetApi=n,this.widgetService=r,this.widgets=null,this.widgetTypes=[],this.mode="manage",this.setMode("manage"),this.widgetApi.selectAvailableType().subscribe(p=>this.widgetTypes=p)}loadWidgets(){this.widgetApi.selectActive().subscribe(e=>this.widgets=e)}close(){this.widgetService.loadWidgets(),this._closeDialog(!0)}deleteWidget(e){this.widgetApi.delete({id:e.id},{successGrowl:"Changes saved"}).subscribe(o=>{this.loadWidgets()})}dropWidget(e){var o=e.currentIndex;const r=this.widgets.splice(e.previousIndex,1);this.widgets.splice(o,0,r[0]),this.widgetApi.sort({ids:y.A.map(this.widgets,p=>p.id)},{successGrowl:"Changes saved"}).subscribe(()=>{this.loadWidgets()})}addWidget(){this.setMode("add")}cancelAdd(){this.setMode("manage")}addWidgetType(e){this.widgetApi.create({widgetTypeId:e.id},{successGrowl:"Changes saved"}).subscribe(()=>{this.setMode("manage")})}editWidget(e){}setMode(e){this.mode=e,this.loadWidgets()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(g.u),t.rXU(f.Z),t.rXU(v.X),t.rXU(_.C))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["manage-widget-dialog"]],features:[t.Vt3],decls:4,vars:1,consts:[[1,"dialog"],[1,"dialog-head"],[2,"float","right"],[1,"link",3,"click"],[1,"dialog-body"],[1,"report-designer"],["cdkDropList","","cdkDropListLockAxis","y",1,"report-slots",3,"cdkDropListDropped","cdkDropListDisabled"],[1,"dialog-buttons"],["type","button",3,"click"],["class","report-slot","cdkDrag","",4,"ngFor","ngForOf"],["class","report-slot",4,"ngIf"],["cdkDrag","",1,"report-slot"],[1,"columns"],[1,"column"],["cdkDragHandle",""],[1,"fas","fa-fw","fa-bars"],[1,"column","is-right","is-narrow"],[1,"link","is-danger",3,"click"],[1,"report-slot"],[1,"widget-types"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"name"],[1,"description"]],template:function(o,n){1&o&&(t.j41(0,"div",0),t.DNE(1,S,12,2)(2,X,8,1)(3,N,0,0),t.k0s()),2&o&&(t.R7$(),t.vxM(1,"manage"==n.mode?1:"add"==n.mode?2:"edit"==n.mode?3:-1))},dependencies:[d.Sq,d.bT,C.O7,C.T1,C.Fb],encapsulation:2})}}return i})();var P=s(4312),k=s(3548),j=s(9079);function U(i,a){1&i&&t.nrm(0,"i",2)}function V(i,a){if(1&i&&(t.j41(0,"a",5)(1,"div",6),t.nrm(2,"i"),t.k0s(),t.j41(3,"div",7),t.EFF(4),t.k0s(),t.j41(5,"div",8),t.EFF(6),t.k0s(),t.j41(7,"div",9),t.EFF(8,"View Details "),t.nrm(9,"i",10),t.k0s()()),2&i){const e=a.$implicit,o=t.XpG(2);t.FS9("routerLink",e.routerLink),t.Y8G("queryParams",o.routerParams(e)),t.R7$(2),t.HbH(e.icon),t.R7$(2),t.JRh(e.count),t.R7$(2),t.JRh(e.name)}}function J(i,a){if(1&i&&(t.j41(0,"div",3),t.DNE(1,V,10,7,"a",4),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.data.projectMetrics)}}function B(i,a){1&i&&(t.j41(0,"div",3)(1,"div",11)(2,"div",6),t.nrm(3,"i",12),t.k0s(),t.nrm(4,"div",7),t.j41(5,"div",8),t.EFF(6,"Loading"),t.k0s(),t.j41(7,"div",9),t.EFF(8,"\xa0"),t.k0s()()())}let Y=(()=>{class i{constructor(e){this.widgetService=e,this.destroyRef=(0,t.WQX)(t.abz),this.data={projectMetrics:[]}}ngOnInit(){this.widget.pipe((0,j.pQ)(this.destroyRef)).subscribe(e=>{this.data=JSON.parse(e.dataJson)})}isProcessing(){return this.widgetService.isProcessing(this.widget.value.id)}routerParams(e){return e.routerParams?JSON.parse(e.routerParams):{}}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(_.C))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["project-summary-widget"]],inputs:{widget:"widget"},decls:6,vars:6,consts:[["style","opacity: 0.3","class","fas fa-fw fa-spin fa-sync-alt",4,"ngIf"],["class","dashboard-metrics",4,"ngIf"],[1,"fas","fa-fw","fa-spin","fa-sync-alt",2,"opacity","0.3"],[1,"dashboard-metrics"],["class","dashboard-metric",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"dashboard-metric",3,"routerLink","queryParams"],[1,"icon"],[1,"count"],[1,"name"],[1,"cta"],[1,"fas","fa-arrow-right"],[1,"dashboard-metric"],[1,"fas","fa-fw","fa-spin","fa-sync-alt"]],template:function(o,n){if(1&o&&(t.j41(0,"h4"),t.EFF(1),t.nI1(2,"async"),t.DNE(3,U,1,0,"i",0),t.k0s(),t.DNE(4,J,2,1,"div",1)(5,B,9,0,"div",1)),2&o){let r;t.R7$(),t.SpI(" ",null==(r=t.bMT(2,4,n.widget))?null:r.headerText," "),t.R7$(2),t.Y8G("ngIf",n.isProcessing()),t.R7$(),t.Y8G("ngIf",((null==n.data||null==n.data.projectMetrics?null:n.data.projectMetrics.length)||0)>0),t.R7$(),t.Y8G("ngIf",0==((null==n.data||null==n.data.projectMetrics?null:n.data.projectMetrics.length)||0))}},dependencies:[d.Sq,d.bT,u.Wk,d.Jj],encapsulation:2})}}return i})();function O(i,a){1&i&&t.nrm(0,"i",2)}function H(i,a){if(1&i&&(t.j41(0,"a",5)(1,"div",6),t.nrm(2,"i"),t.k0s(),t.j41(3,"div",7),t.EFF(4),t.k0s(),t.j41(5,"div",8),t.EFF(6),t.k0s(),t.j41(7,"div",9),t.EFF(8,"View Details "),t.nrm(9,"i",10),t.k0s()()),2&i){const e=a.$implicit,o=t.XpG(2);t.FS9("routerLink",e.routerLink),t.Y8G("queryParams",o.routerParams(e)),t.R7$(2),t.HbH(e.icon),t.R7$(2),t.JRh(e.count),t.R7$(2),t.JRh(e.name)}}function L(i,a){if(1&i&&(t.j41(0,"div",3),t.DNE(1,H,10,7,"a",4),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.data.supportMetrics)}}function Q(i,a){1&i&&(t.j41(0,"div",3)(1,"div",11)(2,"div",6),t.nrm(3,"i",12),t.k0s(),t.nrm(4,"div",7),t.j41(5,"div",8),t.EFF(6,"Loading"),t.k0s(),t.j41(7,"div",9),t.EFF(8,"\xa0"),t.k0s()()())}let z=(()=>{class i{constructor(e){this.widgetService=e,this.destroyRef=(0,t.WQX)(t.abz),this.data={supportMetrics:[]}}ngOnInit(){this.widget.pipe((0,j.pQ)(this.destroyRef)).subscribe(e=>{this.data=JSON.parse(e.dataJson)})}isProcessing(){return this.widgetService.isProcessing(this.widget.value.id)}routerParams(e){return e.routerParams?JSON.parse(e.routerParams):{}}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(_.C))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["team-support-widget"]],inputs:{widget:"widget"},decls:6,vars:6,consts:[["style","opacity: 0.3","class","fas fa-fw fa-spin fa-sync-alt",4,"ngIf"],["class","dashboard-metrics",4,"ngIf"],[1,"fas","fa-fw","fa-spin","fa-sync-alt",2,"opacity","0.3"],[1,"dashboard-metrics"],["class","dashboard-metric",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"dashboard-metric",3,"routerLink","queryParams"],[1,"icon"],[1,"count"],[1,"name"],[1,"cta"],[1,"fas","fa-arrow-right"],[1,"dashboard-metric"],[1,"fas","fa-fw","fa-spin","fa-sync-alt"]],template:function(o,n){if(1&o&&(t.j41(0,"h4"),t.EFF(1),t.nI1(2,"async"),t.DNE(3,O,1,0,"i",0),t.k0s(),t.DNE(4,L,2,1,"div",1)(5,Q,9,0,"div",1)),2&o){let r;t.R7$(),t.SpI(" ",null==(r=t.bMT(2,4,n.widget))?null:r.headerText," "),t.R7$(2),t.Y8G("ngIf",n.isProcessing()),t.R7$(),t.Y8G("ngIf",((null==n.data||null==n.data.supportMetrics?null:n.data.supportMetrics.length)||0)>0),t.R7$(),t.Y8G("ngIf",0==((null==n.data||null==n.data.supportMetrics?null:n.data.supportMetrics.length)||0))}},dependencies:[d.Sq,d.bT,u.Wk,d.Jj],encapsulation:2})}}return i})();var c=s(4341),K=s(399),Z=s(1965),q=s(1459),w=s(1062),E=s(1435),M=s(8009);const tt=["configDialog"];function et(i,a){if(1&i){const e=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.editConfig())}),t.nrm(1,"i",11),t.k0s()}}function it(i,a){1&i&&t.nrm(0,"i",12)}function nt(i,a){if(1&i){const e=t.RV6();t.j41(0,"form",13)(1,"div",14),t.EFF(2," Team Activity Configuration "),t.k0s(),t.j41(3,"div",15)(4,"div",16)(5,"div",17)(6,"label",18),t.EFF(7,"Support Team"),t.k0s(),t.nrm(8,"dropdown-select",19),t.k0s(),t.j41(9,"div",17)(10,"label",18),t.EFF(11,"Number of weeks (1-8)"),t.k0s(),t.nrm(12,"input",20),t.k0s()()(),t.j41(13,"div",21)(14,"button",22),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveConfig())}),t.EFF(15,"Save"),t.k0s(),t.j41(16,"button",23),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.cancelConfig())}),t.EFF(17,"Cancel"),t.k0s()()()}if(2&i){const e=t.XpG();t.Y8G("formGroup",e.configForm),t.R7$(8),t.Y8G("dataSource",e.staticDataCache.supportTeam)}}let ot=(()=>{class i{constructor(e,o,n,r,p,T){this.widgetService=e,this.dialogService=o,this.staticDataCache=n,this.formService=r,this.widgetApi=p,this.queryService=T,this.destroyRef=(0,t.WQX)(t.abz),this.data={teamMembers:[]},this.dataSource={query:b=>this.queryService.query(b,this.data.teamMembers),changed:new t.bkB},this.configForm=new c.gE({supportTeamId:new c.MJ(null,{validators:[c.k0.required],nonNullable:!0}),weeks:new c.MJ(2,{validators:[c.k0.required],nonNullable:!0})})}ngOnInit(){this.widget.pipe((0,j.pQ)(this.destroyRef)).subscribe(e=>{this.data=JSON.parse(e.dataJson),this.dataSource.changed.next(1)})}isProcessing(){return this.widgetService.isProcessing(this.widget.value.id)}routerParams(e){return e.routerParams?JSON.parse(e.routerParams):{}}patchConfig(){try{var e=JSON.parse(this.widget.value.configJson);this.configForm.patchValue({supportTeamId:e.supportTeamId,weeks:e.weeks})}catch{}}editConfig(){this.patchConfig(),this.configDialogRef=this.dialogService.openTemplate(this.configDialog)}saveConfig(){if(!this.formService.hasErrors(this.configForm)){var e=JSON.stringify(this.configForm.getRawValue());this.widgetApi.update({id:this.widget.value.id,configJson:e},{successGrowl:"Configuration Updated"}).subscribe(o=>{this.widgetService.processWidget(o.id),this.cancelConfig()})}}cancelConfig(){this.configDialogRef?.close(),this.configDialogRef=void 0}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(_.C),t.rXU(K.o),t.rXU(k.t),t.rXU(g.u),t.rXU(v.X),t.rXU(Z.c))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["team-activity-widget"]],viewQuery:function(o,n){if(1&o&&t.GBs(tt,5),2&o){let r;t.mGM(r=t.lsd())&&(n.configDialog=r.first)}},inputs:{widget:"widget"},decls:14,vars:8,consts:[["configDialog",""],["style","opacity: 0.3",3,"click",4,"ngIf"],["style","opacity: 0.3","class","fas fa-fw fa-spin fa-sync-alt",4,"ngIf"],[3,"dataSource","stateKey","take"],["name","name"],["name","projectSupportHours","format","0.1-1"],["name","userActivityHours","format","0.1-1"],["name","totalHours","format","0.1-1"],["name","fte","label","FTE","format","0.2-2"],["name","fteTotalHours","label","FTE Adjusted Hours","format","0.2-2"],[2,"opacity","0.3",3,"click"],[1,"fas","fa-fw","fa-cog"],[1,"fas","fa-fw","fa-spin","fa-sync-alt",2,"opacity","0.3"],[1,"form","dialog",3,"formGroup"],[1,"dialog-head","is-primary"],[1,"dialog-body"],[1,"flex"],[1,"field","is-12"],[1,"label"],["placeholder","required","formControlName","supportTeamId",3,"dataSource"],["type","number","step","1","min","1","max","8","placeholder","required","formControlName","weeks",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-primary",3,"click"],["type","button",3,"click"]],template:function(o,n){if(1&o&&(t.j41(0,"h4"),t.EFF(1),t.nI1(2,"async"),t.DNE(3,et,2,0,"a",1)(4,it,1,0,"i",2),t.k0s(),t.j41(5,"grid",3),t.nrm(6,"grid-column",4)(7,"grid-number-column",5)(8,"grid-number-column",6)(9,"grid-number-column",7)(10,"grid-number-column",8)(11,"grid-number-column",9),t.k0s(),t.DNE(12,nt,18,2,"ng-template",null,0,t.C5r)),2&o){let r;t.R7$(),t.SpI(" ",null==(r=t.bMT(2,6,n.widget))?null:r.headerText," "),t.R7$(2),t.Y8G("ngIf",!n.isProcessing()),t.R7$(),t.Y8G("ngIf",n.isProcessing()),t.R7$(),t.Y8G("dataSource",n.dataSource)("stateKey",n.widget.value.id)("take",100)}},dependencies:[d.bT,c.qT,c.me,c.Q0,c.BC,c.cb,c.VZ,c.zX,c.j4,c.JD,q.p,w._,E.C,M.R,d.Jj],encapsulation:2})}}return i})();const at=(i,a)=>a.value.id;function st(i,a){if(1&i&&t.nrm(0,"project-summary-widget",8),2&i){const e=t.XpG().$implicit;t.Y8G("widget",e)}}function rt(i,a){if(1&i&&t.nrm(0,"team-support-widget",8),2&i){const e=t.XpG().$implicit;t.Y8G("widget",e)}}function ct(i,a){if(1&i&&t.nrm(0,"team-activity-widget",8),2&i){const e=t.XpG().$implicit;t.Y8G("widget",e)}}function dt(i,a){if(1&i&&t.DNE(0,st,1,1)(1,rt,1,1)(2,ct,1,1),2&i){let e;const o=a.$implicit,n=t.XpG();t.vxM(0,(e=o.value.widgetTypeId)===n.WidgetTypeEnum.ProjectSummary?0:e===n.WidgetTypeEnum.TeamSupport?1:e===n.WidgetTypeEnum.TeamActivity?2:-1)}}let lt=(()=>{class i{constructor(e,o,n,r,p){this.router=e,this.manageWidgetDialog=o,this.userService=n,this.staticDataCache=r,this.widgetService=p,this.WidgetTypeEnum=F.Md}ngOnInit(){this.widgetService.processWidgets()}manageWidgets(){this.manageWidgetDialog.open({}).subscribe(()=>{})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(u.Ix),t.rXU(D),t.rXU(P.D),t.rXU(k.t),t.rXU(_.C))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-home"]],decls:16,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[3,"widget"]],template:function(o,n){1&o&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()()(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"h1",5),t.EFF(8,"Dashboard"),t.k0s()(),t.j41(9,"div",4)(10,"div",6)(11,"button",7),t.bIt("click",function(){return n.manageWidgets()}),t.EFF(12,"Manage Widgets"),t.k0s()()()(),t.Z7z(13,dt,3,1,null,null,at),t.nI1(15,"async"),t.k0s()),2&o&&(t.R7$(13),t.Dyx(t.bMT(15,0,n.widgetService.widgets)))},dependencies:[u.Wk,Y,z,ot,d.Jj],encapsulation:2})}}return i})();var mt=s(499),pt=s(334),ut=s(4247),gt=s(6540),ft=s(7016),vt=s(6089),_t=s(9463),ht=s(1050);const A=i=>({id:i});function yt(i,a){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&i){let e;const o=a.$implicit,n=t.XpG(3);t.R7$(),t.SpI(" ",null==(e=t.bMT(2,1,n.staticDataCache.supportProvided.get(t.eq3(3,A,o))))?null:e.name," ")}}function Ft(i,a){if(1&i&&(t.j41(0,"div"),t.DNE(1,yt,3,5,"div",27),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.projectSupportProvidedIds)}}function Ct(i,a){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&i){let e;const o=t.XpG().$implicit,n=t.XpG();t.R7$(),t.SpI(" ",null==(e=t.bMT(2,1,n.staticDataCache.workActivity.get(t.eq3(3,A,o.workActivityId))))?null:e.name," ")}}function kt(i,a){if(1&i&&t.DNE(0,Ft,2,1,"div",26)(1,Ct,3,5,"div",26),2&i){const e=a.$implicit;t.Y8G("ngIf",e.isProjectActivity),t.R7$(),t.Y8G("ngIf",!e.isProjectActivity)}}function jt(i,a){if(1&i&&(t.j41(0,"pre",28),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.R7$(),t.JRh(e.description)}}function Tt(i,a){if(1&i&&(t.j41(0,"div")(1,"a",29),t.nrm(2,"i",30),t.EFF(3),t.k0s()()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Mz_("href","/project/project-support/",e.projectId,"",t.B4B),t.R7$(2),t.SpI(" ",e.projectPrefixedNumber,"")}}function bt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"a",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(n))}),t.EFF(2,"edit"),t.k0s(),t.EFF(3," \xa0 "),t.j41(4,"a",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,r=t.XpG();return t.Njj(r.delete(n))}),t.EFF(5,"delete"),t.k0s()()}}function Dt(i,a){if(1&i&&t.DNE(0,Tt,4,3,"div",26)(1,bt,6,0,"div",26),2&i){const e=a.$implicit;t.Y8G("ngIf",e.isProjectActivity),t.R7$(),t.Y8G("ngIf",!e.isProjectActivity)}}const wt=[{path:"",component:lt,data:{activeSideMenu:"Home"}},{path:"my-activity",component:(()=>{class i{constructor(e,o,n,r,p,T,b){this.createUserActivityDialog=e,this.updateUserActivityDialog=o,this.confirmDeleteDialog=n,this.userApi=r,this.userActivityApi=p,this.staticDataCache=T,this.reportService=b,this.destroyRef=(0,t.WQX)(t.abz),this.filterForm=new c.gE({fromDate:new c.MJ(null),toDate:new c.MJ(null),description:new c.MJ("",{nonNullable:!0}),userId:new c.MJ(null)})}ngOnInit(){}resetFilterForm(){this.filterForm.patchValue({fromDate:null,toDate:null,description:""})}createUserActivity(){this.createUserActivityDialog.open()}edit(e){this.updateUserActivityDialog.open({userActivity:e})}delete(e){this.confirmDeleteDialog.open({title:"User Activity"}).subscribe(()=>{this.userActivityApi.delete({id:e.id},{successGrowl:"User Activity Deleted"}).subscribe()})}export(){this.userActivityApi.export(y.A.merge(this.filterForm.getRawValue(),{skip:0,take:0})).subscribe(e=>{this.reportService.runReport(e)})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(mt.J),t.rXU(pt.G),t.rXU(ut.K),t.rXU(gt.i),t.rXU(ft.b),t.rXU(k.t),t.rXU(vt.G))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["my-activity"]],decls:39,vars:5,consts:[["itemTemplate",""],[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-success",3,"click"],[1,"button","is-primary",3,"click"],[1,"filter-form"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-3"],["placeholder","From Date","formControlName","fromDate",3,"enableClear"],["placeholder","To Date","formControlName","toDate",3,"enableClear"],[1,"field","is-6"],["type","text","formControlName","description","placeholder","Description",1,"input"],[1,"is-12","is-right"],[1,"button","is-small",3,"click"],[3,"dataSource","filterForm"],["name","date"],["name","workTimeInHours","label","Hours","format","0.2-2"],["name","Activity"],["name","description"],["justify","right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-pre"],["target","_blank",1,"link","is-primary",3,"href"],[1,"fas","fa-external-link"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(o,n){if(1&o){const r=t.RV6();t.j41(0,"ul",1)(1,"li")(2,"a",2),t.EFF(3,"Home"),t.k0s()()(),t.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),t.EFF(8,"My Activity"),t.k0s()(),t.j41(9,"div",5)(10,"div",7)(11,"button",8),t.bIt("click",function(){return t.eBV(r),t.Njj(n.createUserActivity())}),t.EFF(12,"Add Activity"),t.k0s(),t.j41(13,"button",9),t.bIt("click",function(){return t.eBV(r),t.Njj(n.export())}),t.EFF(14,"Export"),t.k0s()()()(),t.j41(15,"div",10)(16,"form",11)(17,"div",12)(18,"div",13),t.nrm(19,"date-picker",14),t.k0s(),t.j41(20,"div",13),t.nrm(21,"date-picker",15),t.k0s(),t.j41(22,"div",16),t.nrm(23,"input",17),t.k0s(),t.j41(24,"div",18)(25,"button",19),t.bIt("click",function(){return t.eBV(r),t.Njj(n.resetFilterForm())}),t.EFF(26,"show all"),t.k0s()()()()(),t.j41(27,"grid",20),t.nrm(28,"grid-date-column",21)(29,"grid-number-column",22),t.j41(30,"grid-column",23),t.DNE(31,kt,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.j41(33,"grid-column",24),t.DNE(34,jt,2,1,"ng-template",null,0,t.C5r),t.k0s(),t.j41(36,"grid-column",25),t.DNE(37,Dt,2,2,"ng-template",null,0,t.C5r),t.k0s()()()}2&o&&(t.R7$(16),t.Y8G("formGroup",n.filterForm),t.R7$(3),t.Y8G("enableClear",!0),t.R7$(2),t.Y8G("enableClear",!0),t.R7$(6),t.Y8G("dataSource",n.userActivityApi)("filterForm",n.filterForm))},dependencies:[d.Sq,d.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,u.Wk,_t.I,w._,E.C,ht.u,M.R,d.Jj],encapsulation:2})}}return i})(),data:{activeSideMenu:"My Activity"}}];let Et=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(wt),u.iI]})}}return i})(),Mt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[D],imports:[d.MD,l.G,Et]})}}return i})()},1050:(G,h,s)=>{s.d(h,{u:()=>t});var d=s(1435),l=s(4438),u=s(177);function F(m,y){if(1&m&&(l.EFF(0),l.nI1(1,"date")),2&m){const g=y.$implicit,f=l.XpG();l.SpI(" ",l.i5U(1,1,g[f.name],"dd MMM yyyy"),"\n")}}let t=(()=>{class m extends d.C{static{this.\u0275fac=(()=>{let g;return function(v){return(g||(g=l.xGo(m)))(v||m)}})()}static{this.\u0275cmp=l.VBU({type:m,selectors:[["grid-date-column"]],features:[l.Jv_([{provide:d.C,useExisting:m}]),l.Vt3],decls:2,vars:0,consts:[["itemTemplate",""]],template:function(f,v){1&f&&l.DNE(0,F,2,4,"ng-template",null,0,l.C5r)},dependencies:[u.vh],encapsulation:2})}}return m})()}}]);