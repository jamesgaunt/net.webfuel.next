"use strict";(self.webpackChunkWebfuel_App=self.webpackChunkWebfuel_App||[]).push([[550],{7550:(I,T,l)=>{l.r(T),l.d(T,{UserModule:()=>Ze});var n=l(6814),_=l(7453),u=l(3399),e=l(9212),o=l(95),m=l(7333),d=l(4821),h=l(5588),p=l(4431),c=l(3180),U=l(356),f=l(649);let Z=(()=>{class i extends m.M{open(){return this._open(A,void 0)}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}})();static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),A=(()=>{class i extends m.X{constructor(t,r,s,a){super(),this.formService=t,this.userApi=r,this.userGroupApi=s,this.staticDataCache=a,this.form=new o.cw({email:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),title:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),firstName:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),lastName:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),userGroupId:new o.NI("",{validators:[o.kI.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.userApi.create(this.form.getRawValue(),{successGrowl:"User Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(d.o),e.Y36(h.W),e.Y36(p.Q),e.Y36(c.U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-user-dialog"]],features:[e.qOj],decls:30,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","email",1,"input"],["placeholder","required","formControlName","title",3,"dataSource"],["type","text","placeholder","required","formControlName","firstName",1,"input"],["type","text","placeholder","required","formControlName","lastName",1,"input"],["placeholder","required","formControlName","userGroupId",3,"dataSource"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Create User "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Email"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"Title"),e.qZA(),e._UZ(12,"dropdown-text-input",7),e.qZA(),e.TgZ(13,"div",4)(14,"label",5),e._uU(15,"First Name"),e.qZA(),e._UZ(16,"input",8),e.qZA(),e.TgZ(17,"div",4)(18,"label",5),e._uU(19,"Last Name"),e.qZA(),e._UZ(20,"input",9),e.qZA(),e.TgZ(21,"div",4)(22,"label",5),e._uU(23,"User Group"),e.qZA(),e._UZ(24,"dropdown-select",10),e.qZA()()(),e.TgZ(25,"div",11)(26,"button",12),e.NdJ("click",function(){return s.save()}),e._uU(27,"Add"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return s.cancel()}),e._uU(29,"Cancel"),e.qZA()()()),2&r&&(e.Q6J("formGroup",s.form),e.xp6(12),e.Q6J("dataSource",s.staticDataCache.title),e.xp6(12),e.Q6J("dataSource",s.userGroupApi))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,U.B,f._],encapsulation:2})}return i})();var C=l(8819),G=l(7089),y=l(3993),w=l(7147),S=l(1986),M=l(3773);let P=(()=>{class i{constructor(t,r,s,a,g,b){this.router=t,this.createUserDialog=r,this.confirmDeleteDialog=s,this.userApi=a,this.userGroupApi=g,this.reportService=b}add(){this.createUserDialog.open()}edit(t){this.router.navigate(["user/user-item",t.id])}delete(t){this.confirmDeleteDialog.open({title:"User"}).subscribe(()=>{this.userApi.delete({id:t.id},{successGrowl:"User Deleted"}).subscribe()})}export(){this.userApi.export({skip:0,take:0}).subscribe(t=>{this.reportService.runReport(t)})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.F0),e.Y36(Z),e.Y36(C.h),e.Y36(h.W),e.Y36(p.Q),e.Y36(G.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-list"]],decls:21,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[3,"dataSource","search"],["name","fullName","label","Name"],["name","email"],["name","userGroupId",3,"dataSource"],[3,"add","edit","delete"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Users"),e.qZA()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"h1",6),e._uU(11,"Users"),e.qZA()(),e.TgZ(12,"div",5)(13,"div",7)(14,"button",8),e.NdJ("click",function(){return s.export()}),e._uU(15,"Export"),e.qZA()()()(),e.TgZ(16,"grid",9),e._UZ(17,"grid-column",10)(18,"grid-column",11)(19,"grid-reference-column",12),e.TgZ(20,"grid-action-column",13),e.NdJ("add",function(){return s.add()})("edit",function(g){return s.edit(g)})("delete",function(g){return s.delete(g)}),e.qZA()()()),2&r&&(e.xp6(16),e.Q6J("dataSource",s.userApi)("search",!0),e.xp6(3),e.Q6J("dataSource",s.userGroupApi))},dependencies:[u.rH,y.M,w.I,S.k,M.a],encapsulation:2})}return i})();var O=l(5770),R=l(4536);let D=(()=>{class i extends m.M{open(t){return this._open(Q,t)}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}})();static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),Q=(()=>{class i extends m.X{constructor(t,r,s){super(),this.formService=t,this.growlService=r,this.userLoginApi=s,this.form=new o.cw({userId:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),newPassword:new o.NI("",{validators:[o.kI.required],nonNullable:!0})}),this.form.patchValue({userId:this.data.id})}save(){this.formService.hasErrors(this.form)||this.userLoginApi.updatePassword(this.form.getRawValue()).subscribe(()=>{this.growlService.growlSuccess("Password changed"),this._closeDialog(!0)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(d.o),e.Y36(O.e),e.Y36(R.c))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["update-password-dialog"]],features:[e.qOj],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","password","placeholder","required","formControlName","newPassword",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Change Password "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"New Password"),e.qZA(),e._UZ(8,"input",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return s.save()}),e._uU(11,"Change Password"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return s.cancel()}),e._uU(13,"Cancel"),e.qZA()()()),2&r&&e.Q6J("formGroup",s.form)},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],encapsulation:2})}return i})();var B=l(6963),J=l(9834),F=l(6411);let x=(()=>{class i{constructor(t,r){this.route=t,this.router=r}ngOnInit(){this.reset(this.route.snapshot.data.user)}reset(t){this.item=t}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-tabs"]],decls:11,vars:3,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e._uU(4,"User"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",2),e._uU(7,"Support Teams"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",2),e._uU(10,"Activity"),e.qZA()()()()),2&r&&(e.xp6(3),e.MGl("routerLink","../../user-item/",s.item.id,""),e.xp6(3),e.MGl("routerLink","../../user-support-team/",s.item.id,""),e.xp6(3),e.MGl("routerLink","../../user-activity/",s.item.id,""))},dependencies:[u.rH,u.Od],encapsulation:2})}return i})();function j(i,v){if(1&i&&(e.TgZ(0,"div",36),e._UZ(1,"dropdown-select",37),e.qZA()),2&i){const t=e.oxw();e.xp6(),e.Q6J("items",t.professionalBackgroundDetail)}}let H=(()=>{class i{constructor(t,r,s,a,g,b,k){this.route=t,this.router=r,this.formService=s,this.userApi=a,this.userGroupApi=g,this.staticDataCache=b,this.updatePasswordDialog=k,this.form=new o.cw({id:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),email:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),title:new o.NI("",{nonNullable:!0}),firstName:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),lastName:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),userGroupId:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),staffRole:new o.NI("",{nonNullable:!0}),staffRoleFreeText:new o.NI("",{nonNullable:!0}),universityJobTitle:new o.NI("",{nonNullable:!0}),disciplineIds:new o.NI([],{nonNullable:!0}),disciplineFreeText:new o.NI("",{nonNullable:!0}),siteId:new o.NI(null),professionalBackgroundId:new o.NI(null),professionalBackgroundFreeText:new o.NI("",{nonNullable:!0}),professionalBackgroundDetailId:new o.NI(null),professionalBackgroundDetailFreeText:new o.NI("",{nonNullable:!0}),startDateForRSS:new o.NI(null),endDateForRSS:new o.NI(null),fullTimeEquivalentForRSS:new o.NI(null),disabled:new o.NI(!1,{nonNullable:!0}),hidden:new o.NI(!1,{nonNullable:!0})}),this.professionalBackgroundDetail=[]}ngOnInit(){this.form.controls.professionalBackgroundId.valueChanges.subscribe(t=>{this.updateProfessionalBackgroundDetail(t)}),this.reset(this.route.snapshot.data.user)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.userApi.update(this.form.getRawValue(),{successGrowl:"User Updated"}).subscribe(r=>{this.reset(r),t&&this.router.navigate(["user/user-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}updatePassword(){this.updatePasswordDialog.open(this.item)}updateProfessionalBackgroundDetail(t){this.professionalBackgroundDetail=[],this.staticDataCache.professionalBackgroundDetail.query({skip:0,take:1e3}).subscribe(r=>{var s=r.items.filter(a=>a.professionalBackgroundId==t);this.professionalBackgroundDetail=s,void 0===s.find(a=>a.id==this.form.value.professionalBackgroundDetailId)&&this.form.patchValue({professionalBackgroundDetailId:null,professionalBackgroundDetailFreeText:""})})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.o),e.Y36(h.W),e.Y36(p.Q),e.Y36(c.U),e.Y36(D))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-item"]],decls:97,vars:18,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-warning",3,"click"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-6"],[1,"label"],["type","text","placeholder","required","formControlName","email",1,"input"],["placeholder","required","formControlName","title",3,"dataSource"],["type","text","placeholder","required","formControlName","firstName",1,"input"],["type","text","placeholder","required","formControlName","lastName",1,"input"],["placeholder","required","formControlName","userGroupId",3,"dataSource"],["type","text","placeholder","required","formControlName","staffRole",1,"input"],["type","text","placeholder","required","formControlName","universityJobTitle",1,"input"],["placeholder","required","formControlName","professionalBackgroundId",3,"dataSource"],["style","margin-top: 4px;",4,"ngIf"],["type","text","placeholder","Other / Comment","formControlName","professionalBackgroundFreeText",1,"input",2,"margin-top","4px"],["placeholder","required","formControlName","disciplineIds",3,"dataSource","enableSearch","enableClear","closeOnSelect","freeTextControl"],["placeholder","optional","formControlName","startDateForRSS",3,"enableClear"],["placeholder","optional","formControlName","endDateForRSS",3,"enableClear"],["type","number","step","0.01","min","0","max","1","placeholder","optional","formControlName","fullTimeEquivalentForRSS",1,"input"],["placeholder","required","formControlName","siteId",3,"dataSource"],[1,"flex","is-6"],[1,"field"],["formControlName","hidden"],["formControlName","disabled"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],[2,"margin-top","4px"],["placeholder","additional detail required","formControlName","professionalBackgroundDetailId",3,"items"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Users"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"User"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14,"User"),e.qZA()(),e.TgZ(15,"div",6)(16,"div",8)(17,"button",9),e.NdJ("click",function(){return s.updatePassword()}),e._uU(18,"Change Password"),e.qZA()()()(),e._UZ(19,"user-tabs"),e.TgZ(20,"form",10)(21,"div",11)(22,"div",12)(23,"label",13),e._uU(24,"Email"),e.qZA(),e._UZ(25,"input",14),e.qZA(),e.TgZ(26,"div",12)(27,"label",13),e._uU(28,"Title"),e.qZA(),e._UZ(29,"dropdown-text-input",15),e.qZA(),e.TgZ(30,"div",12)(31,"label",13),e._uU(32,"First name"),e.qZA(),e._UZ(33,"input",16),e.qZA(),e.TgZ(34,"div",12)(35,"label",13),e._uU(36,"Last name"),e.qZA(),e._UZ(37,"input",17),e.qZA(),e.TgZ(38,"div",12)(39,"label",13),e._uU(40,"User group"),e.qZA(),e._UZ(41,"dropdown-select",18),e.qZA()(),e.TgZ(42,"div",11)(43,"div",12)(44,"label",13),e._uU(45,"Staff Role"),e.qZA(),e._UZ(46,"input",19),e.qZA(),e.TgZ(47,"div",12)(48,"label",13),e._uU(49,"University job title"),e.qZA(),e._UZ(50,"input",20),e.qZA(),e.TgZ(51,"div",12)(52,"label",13),e._uU(53,"Professional background"),e.qZA(),e._UZ(54,"dropdown-select",21),e.YNc(55,j,2,1,"div",22),e._UZ(56,"input",23),e.qZA(),e.TgZ(57,"div",12)(58,"label",13),e._uU(59,"Adviser type / discipline"),e.qZA(),e._UZ(60,"dropdown-multi-select",24),e.qZA()(),e.TgZ(61,"div",11)(62,"div",12)(63,"label",13),e._uU(64,"Start date for RSS"),e.qZA(),e._UZ(65,"date-picker",25),e.qZA(),e.TgZ(66,"div",12)(67,"label",13),e._uU(68,"End date for RSS"),e.qZA(),e._UZ(69,"date-picker",26),e.qZA(),e.TgZ(70,"div",12)(71,"label",13),e._uU(72,"Full time equivalent for RSS [0 - 1]"),e.qZA(),e._UZ(73,"input",27),e.qZA(),e.TgZ(74,"div",12)(75,"label",13),e._uU(76,"Site"),e.qZA(),e._UZ(77,"dropdown-select",28),e.qZA()(),e.TgZ(78,"div",29)(79,"div",30)(80,"label",13),e._uU(81,"Hidden (will not be selectable in drop down lists)"),e.qZA(),e._UZ(82,"toggle-input",31),e.qZA(),e.TgZ(83,"div",12)(84,"label",13),e._uU(85,"Disabled (will not be able to login)"),e.qZA(),e._UZ(86,"toggle-input",32),e.qZA()(),e.TgZ(87,"div",33)(88,"button",34),e.NdJ("click",function(){return s.save(!1)}),e._uU(89,"Save"),e.qZA(),e.TgZ(90,"button",34),e.NdJ("click",function(){return s.save(!0)}),e._uU(91,"Save & Close"),e.qZA(),e.TgZ(92,"button",35),e.NdJ("click",function(){return s.cancel()}),e._uU(93,"Cancel"),e.qZA()()(),e.TgZ(94,"p"),e._uU(95),e.ALo(96,"date"),e.qZA()()),2&r&&(e.xp6(8),e.MGl("routerLink","/user/user-item/",s.item.id,""),e.xp6(12),e.Q6J("formGroup",s.form),e.xp6(9),e.Q6J("dataSource",s.staticDataCache.title),e.xp6(12),e.Q6J("dataSource",s.userGroupApi),e.xp6(13),e.Q6J("dataSource",s.staticDataCache.professionalBackground),e.xp6(),e.Q6J("ngIf",s.professionalBackgroundDetail.length>0),e.xp6(5),e.Q6J("dataSource",s.staticDataCache.userDiscipline)("enableSearch",!0)("enableClear",!0)("closeOnSelect",!1)("freeTextControl",s.form.controls.disciplineFreeText),e.xp6(5),e.Q6J("enableClear",!0),e.xp6(4),e.Q6J("enableClear",!0),e.xp6(8),e.Q6J("dataSource",s.staticDataCache.site),e.xp6(18),e.hij("Created ",e.xi3(96,15,s.item.createdAt,"dd MMM yy HH:mm"),""))},dependencies:[n.O5,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.qQ,o.Fd,o.sg,o.u,u.rH,U.B,B.O,f._,J.L,F.g,x,n.uU],encapsulation:2})}return i})();var N=l(7003),W=l(5581),K=l(6147),X=l(9510),z=l(8219);const L=i=>({id:i});function V(i,v){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"async"),e.qZA()),2&i){const t=v.$implicit,r=e.oxw(3);let s;e.xp6(),e.hij(" ",null==(s=e.lcZ(2,1,r.staticDataCache.supportProvided.get(e.VKq(3,L,t))))?null:s.name," ")}}function $(i,v){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,V,3,5,"div",30),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(),e.Q6J("ngForOf",t.projectSupportProvidedIds)}}function ee(i,v){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw().$implicit,r=e.oxw();let s;e.xp6(),e.hij(" ",null==(s=e.lcZ(2,1,r.staticDataCache.workActivity.get(e.VKq(3,L,t.workActivityId))))?null:s.name," ")}}function te(i,v){if(1&i&&e.YNc(0,$,2,1,"div",29)(1,ee,3,5,"div",29),2&i){const t=v.$implicit;e.Q6J("ngIf",t.isProjectActivity),e.xp6(),e.Q6J("ngIf",!t.isProjectActivity)}}function ie(i,v){if(1&i&&(e.TgZ(0,"pre",31),e._uU(1),e.qZA()),2&i){const t=v.$implicit;e.xp6(),e.Oqu(t.description)}}function re(i,v){if(1&i&&(e.TgZ(0,"div")(1,"a",32),e._UZ(2,"i",33),e._uU(3),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(),e.MGl("href","/project/project-support/",t.projectId,"",e.LSH),e.xp6(2),e.hij(" ",t.projectPrefixedNumber,"")}}function oe(i,v){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"a",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.edit(s))}),e._uU(2,"edit"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"a",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.delete(s))}),e._uU(5,"delete"),e.qZA()()}}function se(i,v){if(1&i&&e.YNc(0,re,4,2,"div",29)(1,oe,6,0,"div",29),2&i){const t=v.$implicit;e.Q6J("ngIf",t.isProjectActivity),e.xp6(),e.Q6J("ngIf",!t.isProjectActivity)}}let ne=(()=>{class i{constructor(t,r,s,a,g,b,k,Te,Ae){this.route=t,this.router=r,this.formService=s,this.updateUserActivityDialog=a,this.confirmDeleteDialog=g,this.userApi=b,this.userActivityApi=k,this.staticDataCache=Te,this.reportService=Ae,this.destroyRef=(0,e.f3M)(e.ktI),this.filterForm=new o.cw({fromDate:new o.NI(null),toDate:new o.NI(null),description:new o.NI("",{nonNullable:!0}),userId:new o.NI(null)})}ngOnInit(){this.reset(this.route.snapshot.data.user)}reset(t){this.item=t,this.filterForm.patchValue({userId:t.id})}resetFilterForm(){this.filterForm.patchValue({fromDate:null,toDate:null,description:""})}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}edit(t){this.updateUserActivityDialog.open({userActivity:t})}delete(t){this.confirmDeleteDialog.open({title:"User Activity"}).subscribe(()=>{this.userActivityApi.delete({id:t.id},{successGrowl:"User Activity Deleted"}).subscribe()})}export(){this.userActivityApi.export(N.Z.merge(this.filterForm.getRawValue(),{skip:0,take:0})).subscribe(t=>{this.reportService.runReport(t)})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.o),e.Y36(W.M),e.Y36(C.h),e.Y36(h.W),e.Y36(K.y),e.Y36(c.U),e.Y36(G.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-activity"]],decls:47,vars:6,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[1,"filter-form"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-3"],["placeholder","From Date","formControlName","fromDate",3,"enableClear"],["placeholder","To Date","formControlName","toDate",3,"enableClear"],[1,"field","is-6"],["type","text","formControlName","description","placeholder","Description",1,"input"],[1,"is-12","is-right"],[1,"button","is-small",3,"click"],[3,"dataSource","filterForm"],["name","date"],["name","workTimeInHours","label","Hours","format","0.2-2"],["name","Activity"],["itemTemplate",""],["name","description"],["justify","right"],[1,"floating-buttons"],[1,"button",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grid-pre",2,"padding","0"],["target","_blank",1,"link","is-primary",3,"href"],[1,"fas","fa-external-link"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Users"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"User"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14,"User Activity"),e.qZA()(),e.TgZ(15,"div",6)(16,"div",8)(17,"button",9),e.NdJ("click",function(){return s.export()}),e._uU(18,"Export"),e.qZA()()()(),e._UZ(19,"user-tabs"),e.TgZ(20,"div",10)(21,"form",11)(22,"div",12)(23,"div",13),e._UZ(24,"date-picker",14),e.qZA(),e.TgZ(25,"div",13),e._UZ(26,"date-picker",15),e.qZA(),e.TgZ(27,"div",16),e._UZ(28,"input",17),e.qZA(),e.TgZ(29,"div",18)(30,"button",19),e.NdJ("click",function(){return s.resetFilterForm()}),e._uU(31,"show all"),e.qZA()()()()(),e.TgZ(32,"grid",20),e._UZ(33,"grid-date-column",21)(34,"grid-number-column",22),e.TgZ(35,"grid-column",23),e.YNc(36,te,2,2,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(38,"grid-column",25),e.YNc(39,ie,2,1,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(41,"grid-column",26),e.YNc(42,se,2,2,"ng-template",null,24,e.W1O),e.qZA()(),e.TgZ(44,"div",27)(45,"button",28),e.NdJ("click",function(){return s.cancel()}),e._uU(46,"Close"),e.qZA()()()),2&r&&(e.xp6(8),e.MGl("routerLink","/user/user-item/",s.item.id,""),e.xp6(13),e.Q6J("formGroup",s.filterForm),e.xp6(3),e.Q6J("enableClear",!0),e.xp6(2),e.Q6J("enableClear",!0),e.xp6(6),e.Q6J("dataSource",s.userActivityApi)("filterForm",s.filterForm))},dependencies:[n.sg,n.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.rH,J.L,y.M,w.I,X.K,z.x,x,n.Ov],encapsulation:2})}return i})(),Y=(()=>{class i extends m.M{open(){return this._open(ae,void 0)}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=e.n5z(i)))(s||i)}})();static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),ae=(()=>{class i extends m.X{constructor(t,r){super(),this.formService=t,this.userGroupApi=r,this.form=new o.cw({name:new o.NI("",{validators:[o.kI.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.userGroupApi.create(this.form.getRawValue(),{successGrowl:"User Group Created"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(d.o),e.Y36(p.Q))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["create-user-group-dialog"]],features:[e.qOj],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Create User Group "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Name"),e.qZA(),e._UZ(8,"input",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return s.save()}),e._uU(11,"Add"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return s.cancel()}),e._uU(13,"Cancel"),e.qZA()()()),2&r&&e.Q6J("formGroup",s.form)},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],encapsulation:2})}return i})(),le=(()=>{class i{constructor(t,r,s,a){this.router=t,this.createUserGroupDialog=r,this.confirmDeleteDialog=s,this.userGroupApi=a}add(){this.createUserGroupDialog.open()}edit(t){this.router.navigate(["user/user-group-item",t.id])}delete(t){this.confirmDeleteDialog.open({title:"User Group"}).subscribe(()=>{this.userGroupApi.delete({id:t.id},{successGrowl:"User Group Deleted"}).subscribe()})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.F0),e.Y36(Y),e.Y36(C.h),e.Y36(p.Q))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-group-list"]],decls:16,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[1,"container"],[1,"title"],[3,"dataSource","search"],["name","name"],[3,"add","edit","delete"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Configuration"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Users Groups"),e.qZA()()(),e.TgZ(10,"div",4)(11,"h1",5),e._uU(12,"User Groups"),e.qZA(),e.TgZ(13,"grid",6),e._UZ(14,"grid-column",7),e.TgZ(15,"grid-action-column",8),e.NdJ("add",function(){return s.add()})("edit",function(g){return s.edit(g)})("delete",function(g){return s.delete(g)}),e.qZA()()()),2&r&&(e.xp6(13),e.Q6J("dataSource",s.userGroupApi)("search",!0))},dependencies:[u.rH,y.M,w.I,S.k],encapsulation:2})}return i})(),E=(()=>{class i{constructor(t,r){this.route=t,this.router=r}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-group-tabs"]],decls:8,vars:2,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e._uU(4,"User Group"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",2),e._uU(7,"Claims"),e.qZA()()()()),2&r&&(e.xp6(3),e.MGl("routerLink","../../user-group-item/",s.item.id,""),e.xp6(3),e.MGl("routerLink","../../user-group-claims/",s.item.id,""))},dependencies:[u.rH,u.Od],encapsulation:2})}return i})(),ue=(()=>{class i{constructor(t,r,s,a){this.route=t,this.router=r,this.formService=s,this.userGroupApi=a,this.form=new o.cw({id:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),name:new o.NI("",{validators:[o.kI.required],nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.userGroupApi.update(this.form.getRawValue(),{successGrowl:"User Group Updated"}).subscribe(r=>{this.reset(r),t&&this.router.navigate(["user/user-group-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-group-list"])}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.o),e.Y36(p.Q))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-group-item"]],decls:34,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"grid"],[1,"field"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Configuration"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"User Groups"),e.qZA()(),e.TgZ(10,"li")(11,"a",4),e._uU(12,"User Group"),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"div",7)(16,"h1",8),e._uU(17,"User Group"),e.qZA()(),e.TgZ(18,"div",7),e._UZ(19,"div",9),e.qZA()(),e._UZ(20,"user-group-tabs"),e.TgZ(21,"form",10)(22,"div",11)(23,"div",12)(24,"label",13),e._uU(25,"Name"),e.qZA(),e._UZ(26,"input",14),e.qZA()(),e.TgZ(27,"div",15)(28,"button",16),e.NdJ("click",function(){return s.save(!1)}),e._uU(29,"Save"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return s.save(!0)}),e._uU(31,"Save & Close"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return s.cancel()}),e._uU(33,"Cancel"),e.qZA()()()()),2&r&&(e.xp6(11),e.MGl("routerLink","/user/user-group-item/",s.item.id,""),e.xp6(10),e.Q6J("formGroup",s.form))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.rH,E],encapsulation:2})}return i})();var q=l(9866);let ce=(()=>{class i{constructor(t,r,s,a){this.route=t,this.router=r,this.formService=s,this.userGroupApi=a,this.form=new o.cw({id:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),canEditUsers:new o.NI(!1,{nonNullable:!0}),canEditUserGroups:new o.NI(!1,{nonNullable:!0}),canEditStaticData:new o.NI(!1,{nonNullable:!0}),canEditReports:new o.NI(!1,{nonNullable:!0}),canUnlockProjects:new o.NI(!1,{nonNullable:!0}),canTriageSupportRequests:new o.NI(!1,{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.userGroup)}reset(t){this.item=t,this.form.patchValue({id:t.id}),this.form.patchValue(t.claims),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.userGroupApi.updateClaims(this.form.getRawValue(),{successGrowl:"User Group Updated"}).subscribe(r=>{this.reset(r),t&&this.router.navigate(["user/user-group-list"])})}cancel(){this.reset(this.item),this.router.navigate(["user/user-group-list"])}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.o),e.Y36(p.Q))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-group-claims"]],decls:60,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/user/user-group-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"buttons","is-right"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-6"],[1,"checkbox"],["type","checkbox","formControlName","canEditUsers"],["type","checkbox","formControlName","canEditUserGroups"],["type","checkbox","formControlName","canEditStaticData"],["type","checkbox","formControlName","canUnlockProjects"],["type","checkbox","formControlName","canTriageSupportRequests"],["type","checkbox","formControlName","canEditReports"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Configuration"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"User Groups"),e.qZA()(),e.TgZ(10,"li")(11,"a",4),e._uU(12,"User Group"),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"div",7)(16,"h1",8),e._uU(17,"User Group"),e.qZA()(),e.TgZ(18,"div",7),e._UZ(19,"div",9),e.qZA()(),e._UZ(20,"user-group-tabs"),e.TgZ(21,"form",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"label"),e._UZ(26,"input",14),e._uU(27," Can Edit Users"),e.qZA()()(),e.TgZ(28,"div",12)(29,"div",13)(30,"label"),e._UZ(31,"input",15),e._uU(32," Can Edit User Groups"),e.qZA()()(),e.TgZ(33,"div",12)(34,"div",13)(35,"label"),e._UZ(36,"input",16),e._uU(37," Can Edit Static Data"),e.qZA()()(),e.TgZ(38,"div",12)(39,"div",13)(40,"label"),e._UZ(41,"input",17),e._uU(42," Can Unlock Projects"),e.qZA()()(),e.TgZ(43,"div",12)(44,"div",13)(45,"label"),e._UZ(46,"input",18),e._uU(47," Can Triage Support Requests"),e.qZA()()(),e.TgZ(48,"div",12)(49,"div",13)(50,"label"),e._UZ(51,"input",19),e._uU(52," Can Access Reports"),e.qZA()()()(),e.TgZ(53,"div",20)(54,"button",21),e.NdJ("click",function(){return s.save(!1)}),e._uU(55,"Save"),e.qZA(),e.TgZ(56,"button",21),e.NdJ("click",function(){return s.save(!0)}),e._uU(57,"Save & Close"),e.qZA(),e.TgZ(58,"button",22),e.NdJ("click",function(){return s.cancel()}),e._uU(59,"Cancel"),e.qZA()()()()),2&r&&(e.xp6(11),e.MGl("routerLink","/user/user-group-item/",s.item.id,""),e.xp6(10),e.Q6J("formGroup",s.form))},dependencies:[o._Y,o.Wl,o.JJ,o.JL,o.sg,o.u,u.rH,E],encapsulation:2})}return i})();l(8581);var pe=l(817),de=l(6933);function me(i,v){1&i&&e._UZ(0,"i",17)}function _e(i,v){1&i&&e._UZ(0,"i",18)}function fe(i,v){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"toggle-input",21),e.NdJ("valueChange",function(s){e.CHM(t);const a=e.oxw().$implicit,g=e.oxw();return e.KtG(g.toggleSupportTeamLead(a,s))}),e.qZA()()()}if(2&i){const t=e.oxw().$implicit,r=e.oxw();e.xp6(2),e.Q6J("value",r.isSupportTeamLead(t))}}function ge(i,v){if(1&i){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.toggleSupportTeam(a))}),e.TgZ(1,"div",12)(2,"div",6)(3,"div",13),e.YNc(4,me,1,0,"i",14)(5,_e,1,0,"i",15),e._uU(6),e.qZA()(),e.YNc(7,fe,3,1,"div",16),e.qZA()()}if(2&i){const t=v.$implicit,r=e.oxw();e.ekj("selected",r.isSupportTeamSelected(t)),e.xp6(4),e.Q6J("ngIf",!r.isSupportTeamSelected(t)),e.xp6(),e.Q6J("ngIf",r.isSupportTeamSelected(t)),e.xp6(),e.hij(" \xa0\xa0 ",t.name," "),e.xp6(),e.Q6J("ngIf",r.isSupportTeamSelected(t))}}let he=(()=>{class i{constructor(t,r,s,a,g,b,k){this.route=t,this.router=r,this.formService=s,this.userApi=a,this.supportTeamApi=g,this.supportTeamUserApi=b,this.staticDataCache=k,this.form=new o.cw({}),this.supportTeams=[],this.supportTeamUsers=[]}ngOnInit(){this.reset(this.route.snapshot.data.user),this.load()}reset(t){this.item=t,this.form.markAsPristine()}cancel(){this.reset(this.item),this.router.navigate(["user/user-list"])}load(){this.supportTeamApi.query({skip:0,take:100}).subscribe(t=>this.supportTeams=t.items),this.supportTeamUserApi.query({skip:0,take:100,userId:this.item.id,supportTeamId:null}).subscribe(t=>this.supportTeamUsers=t.items)}isSupportTeamSelected(t){return N.Z.some(this.supportTeamUsers,r=>r.supportTeamId==t.id)}toggleSupportTeam(t){t._processing=!0,this.isSupportTeamSelected(t)?this.supportTeamUserApi.delete({userId:this.item.id,supportTeamId:t.id},{successGrowl:"Removed from support team"}).subscribe(()=>{this.load()}):this.supportTeamUserApi.insert({userId:this.item.id,supportTeamId:t.id},{successGrowl:"Added to support team"}).subscribe(()=>{this.load()})}isSupportTeamLead(t){return N.Z.some(this.supportTeamUsers,r=>r.supportTeamId==t.id&&r.isTeamLead)}toggleSupportTeamLead(t,r){var s=N.Z.find(this.supportTeamUsers,a=>a.supportTeamId==t.id);s&&(s.isTeamLead=r,this.supportTeamUserApi.update({userId:this.item.id,supportTeamId:t.id,isTeamLead:r},{successGrowl:"Support team lead updated"}).subscribe(()=>{this.load()}))}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.o),e.Y36(h.W),e.Y36(pe.m),e.Y36(de.m),e.Y36(c.U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-support-team"]],decls:20,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/user/user-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"toggle-list"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"columns",2,"align-items","center"],[2,"padding","0.6rem"],["class","far fa-square",4,"ngIf"],["class","far fa-check-square",4,"ngIf"],["class","column is-narrow",4,"ngIf"],[1,"far","fa-square"],[1,"far","fa-check-square"],[1,"column","is-narrow"],[2,"background-color","#FFF","padding","2px 8px 2px 8px","color","#000","border-radius","16px"],["label","Team Lead",3,"value","valueChange"]],template:function(r,s){1&r&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Users"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"User"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14,"User"),e.qZA()(),e.TgZ(15,"div",6),e._UZ(16,"div",8),e.qZA()(),e._UZ(17,"user-tabs"),e.TgZ(18,"div",9),e.YNc(19,ge,8,6,"a",10),e.qZA()()),2&r&&(e.xp6(8),e.MGl("routerLink","/user/user-item/",s.item.id,""),e.xp6(11),e.Q6J("ngForOf",s.supportTeams))},dependencies:[n.sg,n.O5,u.rH,F.g,x],encapsulation:2})}return i})();const ve=[{path:"user-list",component:P,data:{activeSideMenu:"Users"}},{path:"user-item/:id",component:H,resolve:{user:h.W.userResolver("id")},canDeactivate:[q.u.isPristine()],data:{activeSideMenu:"Users"}},{path:"user-support-team/:id",component:he,resolve:{user:h.W.userResolver("id")},canDeactivate:[q.u.isPristine()],data:{activeSideMenu:"Users"}},{path:"user-activity/:id",component:ne,resolve:{user:h.W.userResolver("id")},data:{activeSideMenu:"Users"}},{path:"user-group-list",component:le,data:{activeSideMenu:"User Groups"}},{path:"user-group-item/:id",component:ue,resolve:{userGroup:p.Q.userGroupResolver("id")},canDeactivate:[q.u.isPristine()],data:{activeSideMenu:"User Groups"}},{path:"user-group-claims/:id",component:ce,resolve:{userGroup:p.Q.userGroupResolver("id")},canDeactivate:[q.u.isPristine()],data:{activeSideMenu:"User Groups"}}];let Ue=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(ve),u.Bz]})}return i})(),Ze=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[Z,Y,D],imports:[n.ez,_.m,Ue]})}return i})()},1986:(I,T,l)=>{l.d(T,{k:()=>p});var n=l(9212),_=l(7147),u=l(6814);function e(c,U){if(1&c){const f=n.EpF();n.TgZ(0,"a",3),n.NdJ("click",function(){n.CHM(f);const A=n.oxw(2);return n.KtG(A.onAdd())}),n._uU(1,"add"),n.qZA()}}function o(c,U){if(1&c&&n.YNc(0,e,2,0,"a",2),2&c){const f=n.oxw();n.Q6J("ngIf",f.canAdd)}}function m(c,U){if(1&c){const f=n.EpF();n.TgZ(0,"a",6),n.NdJ("click",function(){n.CHM(f);const A=n.oxw().$implicit,C=n.oxw();return n.KtG(C.onEdit(A))}),n._uU(1,"view/edit"),n.qZA()}}function d(c,U){if(1&c){const f=n.EpF();n.TgZ(0,"span"),n._uU(1," \xa0 "),n.TgZ(2,"a",7),n.NdJ("click",function(){n.CHM(f);const A=n.oxw().$implicit,C=n.oxw();return n.KtG(C.onDelete(A))}),n._uU(3,"delete"),n.qZA()()}}function h(c,U){if(1&c&&n.YNc(0,m,2,0,"a",4)(1,d,4,0,"span",5),2&c){const f=n.oxw();n.Q6J("ngIf",f.canEdit),n.xp6(),n.Q6J("ngIf",f.canDelete)}}let p=(()=>{class c extends _.I{constructor(){super(),this.canAdd=!0,this.add=new n.vpe,this.canEdit=!0,this.edit=new n.vpe,this.canDelete=!0,this.delete=new n.vpe,this.justify="right"}onAdd(){this.add.emit()}onEdit(f){this.edit.emit(f)}onDelete(f){this.delete.emit(f)}static#e=this.\u0275fac=function(Z){return new(Z||c)};static#t=this.\u0275cmp=n.Xpm({type:c,selectors:[["grid-action-column"]],inputs:{canAdd:"canAdd",canEdit:"canEdit",canDelete:"canDelete"},outputs:{add:"add",edit:"edit",delete:"delete"},features:[n._Bn([{provide:_.I,useExisting:c}]),n.qOj],decls:4,vars:0,consts:[["headTemplate",""],["itemTemplate",""],["class","link is-success",3,"click",4,"ngIf"],[1,"link","is-success",3,"click"],["class","link is-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"link","is-primary",3,"click"],[1,"link","is-danger",3,"click"]],template:function(Z,A){1&Z&&n.YNc(0,o,1,1,"ng-template",null,0,n.W1O)(2,h,2,2,"ng-template",null,1,n.W1O)},dependencies:[u.O5],encapsulation:2})}return c})()},9510:(I,T,l)=>{l.d(T,{K:()=>o});var n=l(7147),_=l(9212),u=l(6814);function e(m,d){if(1&m&&(_._uU(0),_.ALo(1,"date")),2&m){const h=d.$implicit,p=_.oxw();_.hij(" ",_.xi3(1,1,h[p.name],"dd MMM yyyy"),"\n")}}let o=(()=>{class m extends n.I{static#e=this.\u0275fac=(()=>{let h;return function(c){return(h||(h=_.n5z(m)))(c||m)}})();static#t=this.\u0275cmp=_.Xpm({type:m,selectors:[["grid-date-column"]],features:[_._Bn([{provide:n.I,useExisting:m}]),_.qOj],decls:2,vars:0,consts:[["itemTemplate",""]],template:function(p,c){1&p&&_.YNc(0,e,2,4,"ng-template",null,0,_.W1O)},dependencies:[u.uU],encapsulation:2})}return m})()},3773:(I,T,l)=>{l.d(T,{a:()=>m});var n=l(7147),_=l(5619),u=l(9212),e=l(6814);function o(d,h){if(1&d&&(u._uU(0),u.ALo(1,"async")),2&d){const p=h.$implicit,c=u.oxw();u.hij(" ",c.format(u.lcZ(1,1,c.lookup(p[c.name]))),"\n")}}let m=(()=>{class d extends n.I{constructor(){super(...arguments),this._cache={}}lookup(p){if(null==this._cache[p]){if(this._cache[p]=new _.X(null),!this.dataSource)return new _.X(null);this.dataSource.query({skip:0,take:1,filters:[{field:"id",op:"eq",value:p}]}).subscribe(c=>{1==c.items.length&&this._cache[p].next(c.items[0])})}return this._cache[p]}format(p){return p?p.name:""}static#e=this.\u0275fac=(()=>{let p;return function(U){return(p||(p=u.n5z(d)))(U||d)}})();static#t=this.\u0275cmp=u.Xpm({type:d,selectors:[["grid-reference-column"]],inputs:{dataSource:"dataSource"},features:[u._Bn([{provide:n.I,useExisting:d}]),u.qOj],decls:2,vars:0,consts:[["itemTemplate",""]],template:function(c,U){1&c&&u.YNc(0,o,2,3,"ng-template",null,0,u.W1O)},dependencies:[e.Ov],encapsulation:2})}return d})()}}]);