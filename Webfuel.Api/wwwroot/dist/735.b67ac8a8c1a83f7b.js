"use strict";(self.webpackChunkWebfuel_App=self.webpackChunkWebfuel_App||[]).push([[735],{6735:(x,h,a)=>{a.r(h),a.d(h,{DeveloperModule:()=>Q});var _=a(6814),c=a(7453),s=a(3399),e=a(9212);let b=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["test"]],decls:8,vars:0,consts:[[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"title"]],template:function(n,r){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()()(),e.TgZ(4,"div",2)(5,"h1",3),e._uU(6,"Test"),e.qZA()(),e._UZ(7,"div",2))},dependencies:[s.rH],encapsulation:2})}return i})();var u=a(4536),f=a(3993),d=a(7147),p=a(2371),v=a(9616);let U=(()=>{class i{constructor(t){this.userLoginApi=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(u.c))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["user-login"]],decls:14,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],[1,"container"],[1,"title"],[3,"dataSource","search"],["name","createdAt"],["name","email"],["name","ipAddress","label","IP Address"],["name","successful"],["name","reason"]],template:function(n,r){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()()(),e.TgZ(4,"div",2)(5,"h1",3),e._uU(6,"User Login"),e.qZA()(),e.TgZ(7,"div",2)(8,"grid",4),e._UZ(9,"grid-datetime-column",5)(10,"grid-column",6)(11,"grid-column",7)(12,"grid-boolean-column",8)(13,"grid-column",9),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("dataSource",r.userLoginApi)("search",!0))},dependencies:[s.rH,f.M,d.I,p.Q,v.W],encapsulation:2})}return i})();var Z=a(8916),A=a(8158),T=a(3180);function C(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"div")(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"div"),e._uU(5),e.qZA()()),2&i){const t=l.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.providerName)}}function H(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"div")(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(),e.Udp("color",t.lastExecutionSuccess?"green":"red"),e.xp6(2),e.Oqu(t.lastExecutionMessage),e.xp6(2),e.AsE(" ",e.xi3(6,5,t.lastExecutionAt,"dd/MM/yy HH:mm")," ",t.lastExecutionMicroseconds," \xb5s ")}}function N(i,l){1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"None"),e.qZA()())}function q(i,l){if(1&i&&e.YNc(0,H,7,8,"div",19)(1,N,3,0,"div",20),2&i){const t=l.$implicit;e.Q6J("ngIf",null!==t.lastExecutionAt),e.xp6(),e.Q6J("ngIf",null===t.lastExecutionAt)}}function L(i,l){if(1&i&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(),e.Oqu(t.schedulerExceptionMessage)}}function y(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"div"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.YNc(6,L,2,1,"div",21),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.hij(" ",e.xi3(3,5,t.nextExecutionScheduledAt,"dd/MM/yy HH:mm")," "),e.xp6(3),e.lnq(" ",n.schedule(t)," ",t.minTime," ",t.maxTime," "),e.xp6(),e.Q6J("ngIf",t.schedulerExceptionMessage)}}function I(i,l){1&i&&(e.TgZ(0,"div")(1,"i"),e._uU(2,"Not Running"),e.qZA()())}function M(i,l){if(1&i&&e.YNc(0,y,7,8,"div",19)(1,I,3,0,"div",20),2&i){const t=l.$implicit;e.Q6J("ngIf",t.live),e.xp6(),e.Q6J("ngIf",!t.live)}}function E(i,l){if(1&i&&(e.TgZ(0,"div",18)(1,"div",23),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit,n=e.oxw();e.xp6(),e.Udp("color","100.00%"==n.healthPercentage(t)?"green":"red"),e.xp6(),e.hij(" ",n.healthPercentage(t)," "),e.xp6(2),e.hij(" ",t.recentExecutionMicrosecondsAverage," \xb5s ")}}function D(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.add())}),e._uU(1,"add"),e.qZA()}}function Y(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){const m=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.execute(m))}),e._uU(1,"run"),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.edit(m))}),e._uU(4,"edit"),e.qZA()}}let S=(()=>{class i{constructor(t,n,r,m,g){this.router=t,this.confirmDialog=n,this.confirmDeleteDialog=r,this.heartbeatApi=m,this.staticDataCache=g}add(){this.confirmDialog.open({message:"Are you sure you want to add a new heartbeat?",title:"Add Heartbeat"}).subscribe(()=>{this.heartbeatApi.create({name:"New Heartbeat"},{successGrowl:"Heartbeat Added"}).subscribe(t=>{this.edit(t)})})}edit(t){this.router.navigateByUrl("/developer/heartbeat-item/"+t.id)}delete(t){this.confirmDeleteDialog.open({message:"Are you sure you want to delete this heartbeat?",title:"Heartbeat"}).subscribe(()=>{this.heartbeatApi.delete({id:t.id},{successGrowl:"Heartbeat Deleted"}).subscribe(()=>{})})}execute(t){this.heartbeatApi.execute({id:t.id}).subscribe(()=>{this.heartbeatApi.changed.emit()})}schedule(t){var n=t.schedule;return t.minTime&&t.minTime&&(n+=" ("+t.minTime+" - "+t.maxTime+")"),n}healthPercentage(t){var n=t.recentExecutionFailureCount+t.recentExecutionSuccessCount;return n<=0?"---":(100*t.recentExecutionSuccessCount/n).toFixed(2)+"%"}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(s.F0),e.Y36(Z.Q),e.Y36(Z.Q),e.Y36(A.A),e.Y36(T.U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["heartbeat-list"]],decls:35,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/developer/heartbeat-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[3,"dataSource"],["name","name"],["itemTemplate",""],["name","Last Execution"],["name","Schedule"],["name","Health"],["name","live"],["name","log"],["name","actions","justify","right"],["headTemplate",""],[1,"text"],["class","text",4,"ngIf"],[4,"ngIf"],["style","color:red",4,"ngIf"],[2,"color","red"],[2,"font-weight","bold"],[1,"link","is-success",3,"click"],[1,"link","is-warning",3,"click"],[1,"link","is-primary",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Configuration"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Heartbeats"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14,"Heartbeats"),e.qZA()()(),e.TgZ(15,"grid",8)(16,"grid-column",9),e.YNc(17,C,6,2,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(19,"grid-column",11),e.YNc(20,q,2,2,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(22,"grid-column",12),e.YNc(23,M,2,2,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(25,"grid-column",13),e.YNc(26,E,5,4,"ng-template",null,10,e.W1O),e.qZA(),e._UZ(28,"grid-boolean-column",14)(29,"grid-boolean-column",15),e.TgZ(30,"grid-column",16),e.YNc(31,D,2,0,"ng-template",null,17,e.W1O)(33,Y,5,0,"ng-template",null,10,e.W1O),e.qZA()()()),2&n&&(e.xp6(15),e.Q6J("dataSource",r.heartbeatApi))},dependencies:[_.O5,s.rH,f.M,d.I,p.Q,_.uU],encapsulation:2})}return i})();var o=a(95),w=a(4821),O=a(6411);let J=(()=>{class i{constructor(t,n,r,m,g,W,B){this.route=t,this.router=n,this.confirmDialog=r,this.confirmDeleteDialog=m,this.formService=g,this.heartbeatApi=W,this.staticDataCache=B,this.form=new o.cw({id:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),name:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),providerName:new o.NI("",{validators:[o.kI.required],nonNullable:!0}),providerParameter:new o.NI("",{nonNullable:!0}),live:new o.NI(!0,{nonNullable:!0}),minTime:new o.NI("",{nonNullable:!0}),maxTime:new o.NI("",{nonNullable:!0}),schedule:new o.NI("",{nonNullable:!0}),logSuccessfulExecutions:new o.NI(!0,{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.heartbeat)}reset(t){this.item=t,this.form.patchValue(t),this.form.markAsPristine()}save(t){this.formService.hasErrors(this.form)||this.heartbeatApi.update(this.form.getRawValue(),{successGrowl:"Heartbeat Updated"}).subscribe(n=>{this.reset(n),t&&this.router.navigate(["developer/heartbeat-list"])})}cancel(){this.reset(this.item),this.router.navigate(["developer/heartbeat-list"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(s.gz),e.Y36(s.F0),e.Y36(Z.Q),e.Y36(Z.Q),e.Y36(w.o),e.Y36(A.A),e.Y36(T.U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["heartbeat-item"]],decls:57,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/developer/heartbeat-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"column","field"],[1,"label"],["type","text","formControlName","name","placeholder","required",1,"input"],["type","text","formControlName","providerName","placeholder","required",1,"input"],["type","text","formControlName","providerParameter","placeholder","optional",1,"input"],[1,"column","field","is-narrow"],["formControlName","live"],["type","text","formControlName","schedule","placeholder","optional",1,"input"],["type","text","formControlName","minTime","placeholder","optional",1,"input"],["type","text","formControlName","maxTime","placeholder","optional",1,"input"],["formControlName","logSuccessfulExecutions"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Configuration"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Heartbeats"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14,"Heartbeat"),e.qZA()()(),e.TgZ(15,"form",8)(16,"div",5)(17,"div",9)(18,"label",10),e._uU(19,"Name"),e.qZA(),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"div",9)(22,"label",10),e._uU(23,"Provider Name"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",9)(26,"label",10),e._uU(27,"Provider Parameter"),e.qZA(),e._UZ(28,"input",13),e.qZA(),e.TgZ(29,"div",14)(30,"label",10),e._uU(31,"Live"),e.qZA(),e._UZ(32,"toggle-input",15),e.qZA()(),e.TgZ(33,"div",5)(34,"div",9)(35,"label",10),e._uU(36,"Schedule"),e.qZA(),e._UZ(37,"input",16),e.qZA(),e.TgZ(38,"div",9)(39,"label",10),e._uU(40,"Min Time"),e.qZA(),e._UZ(41,"input",17),e.qZA(),e.TgZ(42,"div",9)(43,"label",10),e._uU(44,"maxTime"),e.qZA(),e._UZ(45,"input",18),e.qZA(),e.TgZ(46,"div",14)(47,"label",10),e._uU(48,"Log"),e.qZA(),e._UZ(49,"toggle-input",19),e.qZA()()(),e.TgZ(50,"div",20)(51,"button",21),e.NdJ("click",function(){return r.save(!1)}),e._uU(52,"Save"),e.qZA(),e.TgZ(53,"button",21),e.NdJ("click",function(){return r.save(!0)}),e._uU(54,"Save & Close"),e.qZA(),e.TgZ(55,"button",22),e.NdJ("click",function(){return r.cancel()}),e._uU(56,"Cancel"),e.qZA()()()),2&n&&(e.xp6(15),e.Q6J("formGroup",r.form))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,s.rH,O.g],encapsulation:2})}return i})();var k=a(9866);const P=[{path:"test",component:b,data:{activeSideMenu:"Configuration"}},{path:"user-login",component:U,data:{activeSideMenu:"Configuration"}},{path:"heartbeat-list",component:S,data:{activeSideMenu:"Configuration"}},{path:"heartbeat-item/:id",component:J,data:{activeSideMenu:"Configuration"},resolve:{heartbeat:A.A.heartbeatResolver("id")},canDeactivate:[k.u.isPristine()]}];let F=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[s.Bz.forChild(P),s.Bz]})}return i})(),Q=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[_.ez,c.m,F]})}return i})()},9616:(x,h,a)=>{a.d(h,{W:()=>b});var _=a(7147),c=a(9212),s=a(6814);function e(u,f){if(1&u&&(c._uU(0),c.ALo(1,"date")),2&u){const d=f.$implicit,p=c.oxw();c.hij(" ",c.xi3(1,1,d[p.name],"dd MMM yyyy HH:mm"),"\n")}}let b=(()=>{class u extends _.I{static#e=this.\u0275fac=(()=>{let d;return function(v){return(d||(d=c.n5z(u)))(v||u)}})();static#t=this.\u0275cmp=c.Xpm({type:u,selectors:[["grid-datetime-column"]],features:[c._Bn([{provide:_.I,useExisting:u}]),c.qOj],decls:2,vars:0,consts:[["itemTemplate",""]],template:function(p,v){1&p&&c.YNc(0,e,2,4,"ng-template",null,0,c.W1O)},dependencies:[s.uU],encapsulation:2})}return u})()}}]);