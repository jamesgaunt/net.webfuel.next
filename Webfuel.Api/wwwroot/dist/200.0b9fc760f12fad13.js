"use strict";(self.webpackChunkWebfuel_App=self.webpackChunkWebfuel_App||[]).push([[200],{2200:(St,F,s)=>{s.r(F),s.d(F,{ProjectModule:()=>jt});var p=s(6814),$=s(7453),c=s(3399),v=s(9866),_=s(6375),r=s(95),C=s(6765),I=s(7003),e=s(9212),h=s(5588),U=s(9663),V=s(3371),f=s(3180),q=s(6648),K=s(7089),R=s(8916),g=s(356),Z=s(9834),w=s(3993),k=s(7147),L=s(1986),Y=s(9510),O=s(3773);function B(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function X(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function z(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function ee(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function te(o,a){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=a.$implicit,n=e.oxw();e.hij(" ",e.lcZ(1,1,n.userService.formatUser(t.leadAdviserUserId))," ")}}let oe=(()=>{class o{constructor(t,n,i,l,u,S,D,J,Ct,Tt){this.router=t,this.activatedRoute=n,this.projectApi=i,this.userApi=l,this.userService=u,this.reportApi=S,this.staticDataCache=D,this.configurationService=J,this.reportService=Ct,this.confirmDialog=Tt,this.filterForm=new r.cw({number:new r.NI("",{nonNullable:!0}),fromDate:new r.NI(null),toDate:new r.NI(null),statusId:new r.NI(null),proposedFundingStreamId:new r.NI(null),leadAdviserUserId:new r.NI(null),supportAdviserUserId:new r.NI(null),title:new r.NI("",{nonNullable:!0}),teamContactName:new r.NI("",{nonNullable:!0}),requestedSupportTeamId:new r.NI(null)})}ngAfterViewInit(){this.activatedRoute.queryParams.subscribe(t=>this.applyFilterParams(t))}resetFilterForm(){this.filterForm.patchValue({number:"",fromDate:null,toDate:null,statusId:null,proposedFundingStreamId:null,leadAdviserUserId:null,supportAdviserUserId:null,title:"",teamContactName:"",requestedSupportTeamId:null})}edit(t){this.router.navigate(["project/project-item",t.id])}export(){this.projectApi.export(I.Z.merge(this.filterForm.getRawValue(),{skip:0,take:0})).subscribe(t=>{this.reportService.runReport(t)})}annualReport(){this.confirmDialog.open({title:"Run Experimental Annual Report",message:"This report is under development and available for testing purposes only."}).subscribe(t=>{this.reportApi.runAnnualReport().subscribe(n=>{this.reportService.runReport(n)})})}applyFilterParams(t){switch(t.show){case"all":return void this.resetFilterForm();case"active":return this.resetFilterForm(),void this.filterForm.patchValue({statusId:C.C_.Active})}const i=t.supportTeam;i&&(this.resetFilterForm(),this.filterForm.patchValue({statusId:C.C_.Active}),this.filterForm.patchValue({requestedSupportTeamId:i}))}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(c.F0),e.Y36(c.gz),e.Y36(_.U),e.Y36(h.W),e.Y36(U.K),e.Y36(V.b),e.Y36(f.U),e.Y36(q.e),e.Y36(K.r),e.Y36(R.Q))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-list"]],decls:65,vars:21,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[1,"filter-form"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-3"],["type","text","formControlName","number","placeholder","Number",1,"input"],[1,"field","is-9"],["type","text","formControlName","title","placeholder","Title",1,"input"],["placeholder","Lead Adviser","formControlName","leadAdviserUserId",3,"dataSource","enableClear","enableSearch"],["optionTemplate",""],["pickedTemplate",""],["placeholder","Support Adviser","formControlName","supportAdviserUserId",3,"dataSource","enableClear","enableSearch"],["type","text","formControlName","teamContactName","placeholder","Contact Name",1,"input"],["placeholder","Support Team","formControlName","requestedSupportTeamId",3,"dataSource","enableClear"],["placeholder","Status","formControlName","statusId",3,"dataSource","enableClear"],["placeholder","From Date","formControlName","fromDate",3,"enableClear"],["placeholder","To Date","formControlName","toDate",3,"enableClear"],["placeholder","Proposed Funding Stream","formControlName","proposedFundingStreamId",3,"dataSource","enableClear"],[1,"is-12","is-right"],[1,"button","is-small",3,"click"],["stateKey","ProjectList",3,"dataSource","filterForm"],["name","prefixedNumber","label","Number"],["name","dateOfRequest"],["name","statusId",3,"dataSource"],["name","teamContactFullName","label","Contact Name"],["name","leadAdviserUserId","label","Lead Adviser"],["itemTemplate",""],["name","title"],["name","proposedFundingStreamId","label","Proposed Funding Stream",3,"dataSource"],[3,"canAdd","canDelete","edit"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"h1",6),e._uU(11,"Projects"),e.qZA()(),e.TgZ(12,"div",5)(13,"div",7)(14,"button",8),e.NdJ("click",function(){return i.annualReport()}),e._uU(15,"Annual Report"),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return i.export()}),e._uU(17,"Export"),e.qZA()()()(),e.TgZ(18,"div",9)(19,"form",10)(20,"div",11)(21,"div",12),e._UZ(22,"input",13),e.qZA(),e.TgZ(23,"div",14),e._UZ(24,"input",15),e.qZA()(),e.TgZ(25,"div",11)(26,"div",12)(27,"dropdown-select",16),e.YNc(28,B,1,1,"ng-template",null,17,e.W1O)(30,X,1,1,"ng-template",null,18,e.W1O),e.qZA()(),e.TgZ(32,"div",12)(33,"dropdown-select",19),e.YNc(34,z,1,1,"ng-template",null,17,e.W1O)(36,ee,1,1,"ng-template",null,18,e.W1O),e.qZA()(),e.TgZ(38,"div",12),e._UZ(39,"input",20),e.qZA(),e.TgZ(40,"div",12),e._UZ(41,"dropdown-select",21),e.qZA()(),e.TgZ(42,"div",11)(43,"div",12),e._UZ(44,"dropdown-select",22),e.qZA(),e.TgZ(45,"div",12),e._UZ(46,"date-picker",23),e.qZA(),e.TgZ(47,"div",12),e._UZ(48,"date-picker",24),e.qZA(),e.TgZ(49,"div",12),e._UZ(50,"dropdown-select",25),e.qZA(),e.TgZ(51,"div",26)(52,"button",27),e.NdJ("click",function(){return i.resetFilterForm()}),e._uU(53,"show all"),e.qZA()()()()(),e.TgZ(54,"grid",28),e._UZ(55,"grid-column",29)(56,"grid-date-column",30)(57,"grid-reference-column",31)(58,"grid-column",32),e.TgZ(59,"grid-column",33),e.YNc(60,te,2,3,"ng-template",null,34,e.W1O),e.qZA(),e._UZ(62,"grid-column",35)(63,"grid-reference-column",36),e.TgZ(64,"grid-action-column",37),e.NdJ("edit",function(u){return i.edit(u)}),e.qZA()()()),2&n&&(e.xp6(19),e.Q6J("formGroup",i.filterForm),e.xp6(8),e.Q6J("dataSource",i.userApi)("enableClear",!0)("enableSearch",!0),e.xp6(6),e.Q6J("dataSource",i.userApi)("enableClear",!0)("enableSearch",!0),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.supportTeam)("enableClear",!0),e.xp6(3),e.Q6J("dataSource",i.staticDataCache.projectStatus)("enableClear",!0),e.xp6(2),e.Q6J("enableClear",!0),e.xp6(2),e.Q6J("enableClear",!0),e.xp6(2),e.Q6J("dataSource",i.staticDataCache.fundingStream)("enableClear",!0),e.xp6(4),e.Q6J("dataSource",i.projectApi)("filterForm",i.filterForm),e.xp6(3),e.Q6J("dataSource",i.staticDataCache.projectStatus),e.xp6(6),e.Q6J("dataSource",i.staticDataCache.fundingStream),e.xp6(),e.Q6J("canAdd",!1)("canDelete",!1))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,c.rH,g.B,Z.L,w.M,k.I,L.k,Y.K,O.a,p.Ov],encapsulation:2})}return o})(),A=(()=>{class o{constructor(){this.route=(0,e.f3M)(c.gz),this.router=(0,e.f3M)(c.F0),this.projectApi=(0,e.f3M)(_.U),this.confirmDialog=(0,e.f3M)(R.Q),this.staticDataCache=(0,e.f3M)(f.U),this.projectStatus=null}ngOnInit(){this.reset(this.route.snapshot.data.project)}reset(t){this.item=t,this.resetStatus()}resetStatus(){this.staticDataCache.projectStatus.get({id:this.item.statusId}).subscribe(t=>{this.projectStatus=t,this.locked?this.applyLock():this.clearLock()})}applyLock(){}clearLock(){}get locked(){return this.item.locked}get discarded(){return this.item.discarded}unlock(){this.confirmDialog.open({title:"Unlock Project",message:"Are you sure you want to return this project to Active status?"}).subscribe(()=>{this.projectApi.unlock({id:this.item.id},{successGrowl:"Project Unlocked"}).subscribe(t=>{this.reset(t)})})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return o})();var d=s(4821),re=s(1365),N=s(6963);let b=(()=>{class o{constructor(t){this.route=t}ngOnInit(){this.reset(this.route.snapshot.data.project)}reset(t){this.item=t}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(c.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-tabs"]],decls:23,vars:7,consts:[[1,"tabs"],["routerLinkActive","is-active"],[3,"routerLink"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"a",2),e._uU(4,"Project"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",2),e._uU(7,"Request"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",2),e._uU(10,"Researcher"),e.qZA()(),e.TgZ(11,"li",1)(12,"a",2),e._uU(13,"Support"),e.qZA()(),e.TgZ(14,"li",1)(15,"a",2),e._uU(16,"Files"),e.qZA()(),e.TgZ(17,"li",1)(18,"a",2),e._uU(19,"Submissions"),e.qZA()(),e.TgZ(20,"li",1)(21,"a",2),e._uU(22,"History"),e.qZA()()()()),2&n&&(e.xp6(3),e.MGl("routerLink","../../project-item/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-request/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-researcher/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-support/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-files/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-submission/",i.item.id,""),e.xp6(3),e.MGl("routerLink","../../project-history/",i.item.id,""))},dependencies:[c.rH,c.Od],encapsulation:2})}return o})();function ie(o,a){if(1&o&&(e.TgZ(0,"span",38),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij("(changing from ",t.projectStatus.name,")")}}function ne(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function ae(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function le(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function se(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function ce(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!1))}),e._uU(2,"Save"),e.qZA(),e.TgZ(3,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!0))}),e._uU(4,"Save & Close"),e.qZA(),e.TgZ(5,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(6,"Cancel"),e.qZA()()}}function ue(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.unlock())}),e._uU(1,"Unlock"),e.qZA()}}function pe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",39),e.YNc(1,ue,2,0,"button",42),e.TgZ(2,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(3,"Close"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.canUnlock())}}let de=(()=>{class o extends A{constructor(t,n,i,l){super(),this.formService=t,this.userApi=n,this.projectAdviserApi=i,this.configurationService=l,this.destroyRef=(0,e.f3M)(e.ktI),this.form=new r.cw({id:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),statusId:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),closureDate:new r.NI(null),willStudyUseCTUId:new r.NI(null),isPaidRSSAdviserLeadId:new r.NI(null),isPaidRSSAdviserCoapplicantId:new r.NI(null),rssHubProvidingAdviceIds:new r.NI([],{nonNullable:!0}),monetaryValueOfFundingApplication:new r.NI(null),submittedFundingStreamId:new r.NI(null),submittedFundingStreamFreeText:new r.NI("",{nonNullable:!0}),submittedFundingStreamName:new r.NI("",{nonNullable:!0}),leadAdviserUserId:new r.NI(null),projectStartDate:new r.NI(null),recruitmentTarget:new r.NI(null),numberOfProjectSites:new r.NI(null),isInternationalMultiSiteStudyId:new r.NI(null),projectAdviserUserIds:new r.NI([],{nonNullable:!0})})}ngOnInit(){super.ngOnInit(),this.projectAdviserApi.selectUserIdsByProjectId({projectId:this.item.id}).subscribe(t=>{this.form.patchValue({projectAdviserUserIds:t})})}canUnlock(){return this.configurationService.hasClaim(t=>t.claims.canUnlockProjects)}reset(t){super.reset(t),this.form.patchValue(t),this.form.markAsPristine()}applyLock(){this.form.disable()}clearLock(){this.form.enable()}save(t){this.formService.hasErrors(this.form)||(this.form.value.statusId!=this.item.statusId?this.confirmDialog.open({title:"Status Changing",message:"Are you sure you want to change the status of this project?"}).subscribe(()=>{this._save(t)}):this._save(t))}_save(t){this.projectApi.update(this.form.getRawValue(),{successGrowl:"Project Updated"}).subscribe(n=>{this.reset(n),t&&this.router.navigate(["project/project-list"])})}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(h.W),e.Y36(re.g),e.Y36(q.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-item"]],features:[e.qOj],decls:104,vars:25,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex","no-margin"],[1,"is-9"],[1,"flex"],[1,"field","is-4"],[1,"label"],["class","text is-warning",4,"ngIf"],["placeholder","required","formControlName","statusId",3,"dataSource"],["placeholder","optional","formControlName","closureDate",3,"enableClear"],["placeholder","required","formControlName","leadAdviserUserId",3,"dataSource","enableClear","enableSearch"],["optionTemplate",""],["pickedTemplate",""],[1,"field","is-6"],["placeholder","required","formControlName","willStudyUseCTUId",3,"dataSource"],["type","number","placeholder","required","formControlName","monetaryValueOfFundingApplication",1,"input"],["placeholder","required","formControlName","submittedFundingStreamId",3,"dataSource","freeTextControl"],["type","text","placeholder","optional","formControlName","submittedFundingStreamName",1,"input"],[1,"field","is-12"],["placeholder","optional","formControlName","rssHubProvidingAdviceIds",3,"dataSource"],[1,"is-3"],[1,"field"],["placeholder","click to add...","formControlName","projectAdviserUserIds",3,"dataSource","verticalStack","enableSearch"],["placeholder","required","formControlName","isPaidRSSAdviserLeadId",3,"dataSource"],["placeholder","required","formControlName","isPaidRSSAdviserCoapplicantId",3,"dataSource"],[1,"field","is-3","is-6-md"],["placeholder","optional","formControlName","projectStartDate"],["type","number","placeholder","optional","formControlName","recruitmentTarget",1,"input"],["type","number","placeholder","optional","formControlName","numberOfProjectSites",1,"input"],["placeholder","optional","formControlName","isInternationalMultiSiteStudyId",3,"dataSource"],["class","floating-buttons",4,"ngIf"],[1,"text","is-warning"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],["class","button is-warning",3,"click",4,"ngIf"],[1,"button","is-warning",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()()(),e._UZ(15,"project-tabs"),e.TgZ(16,"form",8)(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),e._uU(22," Status "),e.YNc(23,ie,2,1,"span",14),e.qZA(),e._UZ(24,"dropdown-select",15),e.qZA(),e.TgZ(25,"div",12)(26,"label",13),e._uU(27,"Closure date"),e.qZA(),e._UZ(28,"date-picker",16),e.qZA(),e.TgZ(29,"div",12)(30,"label",13),e._uU(31,"Lead Adviser"),e.qZA(),e.TgZ(32,"dropdown-select",17),e.YNc(33,ne,1,1,"ng-template",null,18,e.W1O)(35,ae,1,1,"ng-template",null,19,e.W1O),e.qZA()()(),e.TgZ(37,"div",11)(38,"div",20)(39,"label",13),e._uU(40,"Will this study use a CTU?"),e.qZA(),e._UZ(41,"dropdown-select",21),e.qZA(),e.TgZ(42,"div",20)(43,"label",13),e._uU(44,"Monetary value of funding application"),e.qZA(),e._UZ(45,"input",22),e.qZA()(),e.TgZ(46,"div",11)(47,"div",20)(48,"label",13),e._uU(49,"Funding stream submitted to"),e.qZA(),e._UZ(50,"dropdown-select",23),e.qZA(),e.TgZ(51,"div",20)(52,"label",13),e._uU(53,"Funding stream name"),e.qZA(),e._UZ(54,"input",24),e.qZA()(),e.TgZ(55,"div",11)(56,"div",25)(57,"label",13),e._uU(58," RSS hubs involved in providing advice (other than Imperial College London and Partners) "),e.qZA(),e._UZ(59,"dropdown-multi-select",26),e.qZA()()(),e.TgZ(60,"div",27)(61,"div",28)(62,"label",13),e._uU(63,"Support Advisers"),e.qZA(),e.TgZ(64,"dropdown-multi-select",29),e.YNc(65,le,1,1,"ng-template",null,18,e.W1O)(67,se,1,1,"ng-template",null,19,e.W1O),e.qZA()()()(),e.TgZ(69,"div",11)(70,"div",20)(71,"label",13),e._uU(72,"Is a paid RSS staff member, who provided advice, the lead/co-lead for this application?"),e.qZA(),e._UZ(73,"dropdown-select",30),e.qZA(),e.TgZ(74,"div",20)(75,"label",13),e._uU(76,"Is a paid RSS staff member, who provided advice, a co-applicant for this application?"),e.qZA(),e._UZ(77,"dropdown-select",31),e.qZA()(),e._UZ(78,"hr"),e.TgZ(79,"h3"),e._uU(80,"For Clinical Trial Submissions"),e.qZA(),e.TgZ(81,"div",11)(82,"div",32)(83,"label",13),e._uU(84,"Project start date"),e.qZA(),e._UZ(85,"date-picker",33),e.qZA(),e.TgZ(86,"div",32)(87,"label",13),e._uU(88,"Recruitment target"),e.qZA(),e._UZ(89,"input",34),e.qZA(),e.TgZ(90,"div",32)(91,"label",13),e._uU(92,"Number of project sites"),e.qZA(),e._UZ(93,"input",35),e.qZA(),e.TgZ(94,"div",32)(95,"label",13),e._uU(96,"Is this an international multi-site study"),e.qZA(),e._UZ(97,"dropdown-select",36),e.qZA()(),e.YNc(98,ce,7,0,"div",37)(99,pe,4,1,"div",37),e.qZA(),e.TgZ(100,"p")(101,"span"),e._uU(102),e.ALo(103,"date"),e.qZA()()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(7),e.Q6J("ngIf",i.projectStatus&&i.projectStatus.id!=i.form.value.statusId),e.xp6(),e.Q6J("dataSource",i.staticDataCache.projectStatus),e.xp6(4),e.Q6J("enableClear",!0),e.xp6(4),e.Q6J("dataSource",i.userApi)("enableClear",!0)("enableSearch",!0),e.xp6(9),e.Q6J("dataSource",i.staticDataCache.willStudyUseCTU),e.xp6(9),e.Q6J("dataSource",i.staticDataCache.fundingStream)("freeTextControl",i.form.controls.submittedFundingStreamFreeText),e.xp6(9),e.Q6J("dataSource",i.staticDataCache.rssHub),e.xp6(5),e.Q6J("dataSource",i.userApi)("verticalStack",!0)("enableSearch",!0),e.xp6(9),e.Q6J("dataSource",i.staticDataCache.isPaidRSSAdviserLead),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.isPaidRSSAdviserCoapplicant),e.xp6(20),e.Q6J("dataSource",i.staticDataCache.isInternationalMultiSiteStudy),e.xp6(),e.Q6J("ngIf",!i.locked),e.xp6(),e.Q6J("ngIf",i.locked),e.xp6(3),e.hij("Created ",e.xi3(103,22,i.item.createdAt,"dd MMM yy"),"."))},dependencies:[p.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,c.rH,g.B,N.O,Z.L,b,p.uU],encapsulation:2})}return o})();var j=s(7816),me=s(910);function _e(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!1))}),e._uU(2,"Save"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!0))}),e._uU(4,"Save & Close"),e.qZA(),e.TgZ(5,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(6,"Cancel"),e.qZA()()}}function fe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.unlock())}),e._uU(1,"Unlock"),e.qZA()}}function he(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31),e.YNc(1,fe,2,0,"button",34),e.TgZ(2,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(3,"Close"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.canUnlock())}}let ge=(()=>{class o extends A{constructor(t,n){super(),this.formService=t,this.configurationService=n,this.form=new r.cw({id:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),title:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),isFellowshipId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),nihrApplicationId:new r.NI("",{nonNullable:!0}),proposedFundingStreamName:new r.NI("",{nonNullable:!0}),targetSubmissionDate:new r.NI(null),experienceOfResearchAwards:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),isTeamMembersConsultedId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),isResubmissionId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),briefDescription:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),supportRequested:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),applicationStageId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),applicationStageFreeText:new r.NI("",{nonNullable:!0}),proposedFundingStreamId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),proposedFundingCallTypeId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),howDidYouFindUsId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),howDidYouFindUsFreeText:new r.NI("",{nonNullable:!0}),whoElseIsOnTheStudyTeam:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),isCTUAlreadyInvolvedId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),isCTUAlreadyInvolvedFreeText:new r.NI("",{nonNullable:!0}),professionalBackgroundIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),professionalBackgroundFreeText:new r.NI("",{nonNullable:!0})})}ngOnInit(){super.ngOnInit()}canUnlock(){return this.configurationService.hasClaim(t=>t.claims.canUnlockProjects)}reset(t){super.reset(t),this.form.patchValue(t),this.form.markAsPristine()}applyLock(){this.form.disable()}clearLock(){this.form.enable()}save(t){this.formService.hasErrors(this.form)||this.projectApi.updateRequest(this.form.getRawValue(),{successGrowl:"Project Updated"}).subscribe(n=>{this.reset(n),t&&this.router.navigate(["project/project-list"])})}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(q.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-request"]],features:[e.qOj],decls:88,vars:19,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-12"],[1,"label"],["type","text","placeholder","required","formControlName","title",1,"input"],[1,"field","is-6"],["placeholder","required","formControlName","applicationStageId",3,"dataSource","freeTextControl"],["placeholder","required","formControlName","isFellowshipId",3,"dataSource"],["placeholder","required","formControlName","proposedFundingStreamId",3,"dataSource"],["type","text","placeholder","optional","formControlName","proposedFundingStreamName",1,"input"],["placeholder","required","formControlName","proposedFundingCallTypeId",3,"dataSource"],["type","text","placeholder","optional","formControlName","nihrApplicationId","maxlength","64",1,"input"],["placeholder","optional","formControlName","targetSubmissionDate"],["placeholder","required","formControlName","isTeamMembersConsultedId",3,"dataSource"],["placeholder","required","formControlName","isResubmissionId",3,"dataSource"],["freeTextPlaceholder","Please specify which CTU is already involved...","placeholder","required","formControlName","isCTUAlreadyInvolvedId",3,"dataSource","freeTextControl"],["placeholder","required","formControlName","howDidYouFindUsId",3,"dataSource","freeTextControl"],["formControlName","experienceOfResearchAwards","placeholder","required"],["formControlName","briefDescription","placeholder","required"],["formControlName","supportRequested","placeholder","required"],["formControlName","whoElseIsOnTheStudyTeam","placeholder","required","maxlength","2000"],["placeholder","required","formControlName","professionalBackgroundIds",3,"dataSource","enableClear","freeTextControl"],["class","floating-buttons",4,"ngIf"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],["class","button is-warning",3,"click",4,"ngIf"],[1,"button","is-warning",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()()(),e._UZ(15,"project-tabs"),e.TgZ(16,"form",8)(17,"div",9)(18,"div",10)(19,"label",11),e._uU(20,"Working title of the project"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"div",13)(23,"label",11),e._uU(24,"Stage of application"),e.qZA(),e._UZ(25,"dropdown-select",14),e.qZA(),e.TgZ(26,"div",13)(27,"label",11),e._uU(28,"Is this application for a fellowship?"),e.qZA(),e._UZ(29,"dropdown-select",15),e.qZA(),e.TgZ(30,"div",13)(31,"label",11),e._uU(32,"Proposed funding stream"),e.qZA(),e._UZ(33,"dropdown-select",16),e.qZA(),e.TgZ(34,"div",13)(35,"label",11),e._uU(36,"Funding stream name / specialist call if known"),e.qZA(),e._UZ(37,"input",17),e.qZA(),e.TgZ(38,"div",13)(39,"label",11),e._uU(40,"Type of call"),e.qZA(),e._UZ(41,"dropdown-select",18),e.qZA(),e.TgZ(42,"div",13)(43,"label",11),e._uU(44,"NIHR application ID if known"),e.qZA(),e._UZ(45,"input",19),e.qZA(),e.TgZ(46,"div",13)(47,"label",11),e._uU(48,"Target submission date (if known)"),e.qZA(),e._UZ(49,"date-picker",20),e.qZA(),e.TgZ(50,"div",13)(51,"label",11),e._uU(52,"Have your team members been consulted for support?"),e.qZA(),e._UZ(53,"dropdown-select",21),e.qZA(),e.TgZ(54,"div",13)(55,"label",11),e._uU(56,"Has the application or similar been submitted to a funder before?"),e.qZA(),e._UZ(57,"dropdown-select",22),e.qZA(),e.TgZ(58,"div",13)(59,"label",11),e._uU(60,"Have you already got a CTU involved and if so which one?"),e.qZA(),e._UZ(61,"dropdown-select",23),e.qZA(),e.TgZ(62,"div",13)(63,"label",11),e._uU(64,"How did you hear about our hub?"),e.qZA(),e._UZ(65,"dropdown-select",24),e.qZA(),e.TgZ(66,"div",10)(67,"label",11),e._uU(68,"What is your (or the CIs) experience of securing funding awards?"),e.qZA(),e._UZ(69,"text-area",25),e.qZA(),e.TgZ(70,"div",10)(71,"label",11),e._uU(72," Please add a brief description of your proposed study. Where possible include an outline of research question, aims, need and methods (including analysis), potential impact. [max 500 words] "),e.qZA(),e._UZ(73,"text-area",26),e.qZA(),e.TgZ(74,"div",10)(75,"label",11),e._uU(76," What support are you looking for from RSS? Eg funding advice, methods advice, PPIE and EDI advice, CTU support, training in methods for grants? "),e.qZA(),e._UZ(77,"text-area",27),e.qZA(),e.TgZ(78,"div",10)(79,"label",11),e._uU(80," Who else is on your study team and what is their expertise? "),e.qZA(),e._UZ(81,"text-area",28),e.qZA(),e.TgZ(82,"div",10)(83,"label",11),e._uU(84,"What is the professional background of all team/applicants? (select all that apply)"),e.qZA(),e._UZ(85,"dropdown-multi-select",29),e.qZA()(),e.YNc(86,_e,7,0,"div",30)(87,he,4,1,"div",30),e.qZA()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("dataSource",i.staticDataCache.applicationStage)("freeTextControl",i.form.controls.applicationStageFreeText),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.isFellowship),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.fundingStream),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.fundingCallType),e.xp6(12),e.Q6J("dataSource",i.staticDataCache.isTeamMembersConsulted),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.isResubmission),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.isCTUAlreadyInvolved)("freeTextControl",i.form.controls.isCTUAlreadyInvolvedFreeText),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.howDidYouFindUs)("freeTextControl",i.form.controls.howDidYouFindUsFreeText),e.xp6(20),e.Q6J("dataSource",i.staticDataCache.professionalBackground)("enableClear",!0)("freeTextControl",i.form.controls.professionalBackgroundFreeText),e.xp6(),e.Q6J("ngIf",!i.locked),e.xp6(),e.Q6J("ngIf",i.locked))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,c.rH,me.U,g.B,N.O,Z.L,b],encapsulation:2})}return o})();var ve=s(1993),P=s(8819),m=s(7333),T=s(5230);function Ze(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function be(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function Ae(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function je(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function Ce(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function Te(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}let Q=(()=>{class o extends m.M{open(t){return this._open(Se,t,{width:"1000px",disableClose:!0})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),Se=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSupportApi=n,this.userApi=i,this.staticDataCache=l,this.form=new r.cw({projectId:new r.NI("",{nonNullable:!0}),date:new r.NI(null),teamIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),adviserIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),supportProvidedIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),description:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),workTimeInHours:new r.NI(null,{validators:[r.kI.required,r.kI.min(0),r.kI.max(8)],nonNullable:!0}),supportRequestedTeamId:new r.NI(null),isPrePostAwardId:new r.NI(C.a0.PreAward,{nonNullable:!0})}),this.form.patchValue({projectId:this.data.projectId})}save(){this.formService.hasErrors(this.form)||this.projectSupportApi.create(this.form.getRawValue(),{successGrowl:"Project Support Added"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(T._),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["create-project-support-dialog"]],features:[e.qOj],decls:55,vars:8,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"flex"],[1,"field","is-6"],[1,"label"],["placeholder","optional (defaults to today)","formControlName","date"],["type","number","min","0","max","8","formControlName","workTimeInHours","placeholder","required",1,"input"],["placeholder","required","formControlName","isPrePostAwardId",3,"dataSource"],["placeholder","required","formControlName","teamIds",3,"dataSource"],["optionTemplate",""],["pickedTemplate",""],["placeholder","required","formControlName","adviserIds",3,"dataSource"],["placeholder","required","formControlName","supportProvidedIds",3,"dataSource","closeOnSelect"],[1,"field","is-12"],["formControlName","description","placeholder","required",1,"textarea",2,"height","200px"],[1,"field"],["placeholder","optional","formControlName","supportRequestedTeamId",3,"dataSource","enableClear"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Add Project Support "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Date of support"),e.qZA(),e._UZ(9,"date-picker",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",6),e._uU(12,"Time in hours per adviser (0 - 8)"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",5)(15,"label",6),e._uU(16,"Pre/Post Award"),e.qZA(),e._UZ(17,"dropdown-select",9),e.qZA(),e.TgZ(18,"div",5)(19,"label",6),e._uU(20,"Teams (include all teams providing support)"),e.qZA(),e.TgZ(21,"dropdown-multi-select",10),e.YNc(22,Ze,1,1,"ng-template",null,11,e.W1O)(24,be,1,1,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(26,"div",5)(27,"label",6),e._uU(28,"Advisers (include all advisers providing support)"),e.qZA(),e.TgZ(29,"dropdown-multi-select",13),e.YNc(30,Ae,1,1,"ng-template",null,11,e.W1O)(32,je,1,1,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(34,"div",5)(35,"label",6),e._uU(36,"Support provided (include all types of support provided)"),e.qZA(),e._UZ(37,"dropdown-multi-select",14),e.qZA(),e.TgZ(38,"div",15)(39,"label",6),e._uU(40,"Description of support provided/requested"),e.qZA(),e._UZ(41,"textarea",16),e.qZA(),e.TgZ(42,"div",17)(43,"label",6),e._uU(44,"Request additional support from another team"),e.qZA(),e.TgZ(45,"dropdown-select",18),e.YNc(46,Ce,1,1,"ng-template",null,11,e.W1O)(48,Te,1,1,"ng-template",null,12,e.W1O),e.qZA()()()()(),e.TgZ(50,"div",19)(51,"button",20),e.NdJ("click",function(){return i.save()}),e._uU(52,"Add"),e.qZA(),e.TgZ(53,"button",21),e.NdJ("click",function(){return i.cancel()}),e._uU(54,"Cancel"),e.qZA()()()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(17),e.Q6J("dataSource",i.staticDataCache.isPrePostAward),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.supportTeam),e.xp6(8),e.Q6J("dataSource",i.userApi),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.supportProvided)("closeOnSelect",!1),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.supportTeam)("enableClear",!0))},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.qQ,r.Fd,r.sg,r.u,g.B,N.O,Z.L],encapsulation:2})}return o})();function qe(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function Ne(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function Ie(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function Ue(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.fullName," ")}function we(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}function ke(o,a){1&o&&e._uU(0),2&o&&e.hij(" ",a.$implicit.name," ")}let M=(()=>{class o extends m.M{open(t){return this._open(Pe,t,{width:"1000px",disableClose:!0})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),Pe=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSupportApi=n,this.userApi=i,this.staticDataCache=l,this.form=new r.cw({id:new r.NI("",{nonNullable:!0}),date:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),teamIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),adviserIds:new r.NI([],{validators:[j.Q.minArrayLength(1)],nonNullable:!0}),supportProvidedIds:new r.NI([],{nonNullable:!0}),description:new r.NI("",{nonNullable:!0}),workTimeInHours:new r.NI(null,{validators:[r.kI.required,r.kI.min(0),r.kI.max(8)],nonNullable:!0}),supportRequestedTeamId:new r.NI(null),isPrePostAwardId:new r.NI(C.a0.PreAward,{nonNullable:!0})}),this.form.patchValue(this.data.projectSupport)}save(){this.formService.hasErrors(this.form)||this.projectSupportApi.update(this.form.getRawValue(),{successGrowl:"Project Support Updated"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(T._),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["update-project-support-dialog"]],features:[e.qOj],decls:55,vars:8,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"flex"],[1,"field","is-6"],[1,"label"],["placeholder","required","formControlName","date"],["type","number","min","0","max","8","formControlName","workTimeInHours","placeholder","required",1,"input"],["placeholder","required","formControlName","isPrePostAwardId",3,"dataSource"],["placeholder","required","formControlName","teamIds",3,"dataSource"],["optionTemplate",""],["pickedTemplate",""],["placeholder","required","formControlName","adviserIds",3,"dataSource"],["placeholder","required","formControlName","supportProvidedIds",3,"dataSource","closeOnSelect"],[1,"field","is-12"],["formControlName","description","placeholder","required",1,"textarea",2,"height","200px"],[1,"field"],["placeholder","optional","formControlName","supportRequestedTeamId",3,"dataSource","enableClear"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Update Project Support "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Date of support"),e.qZA(),e._UZ(9,"date-picker",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",6),e._uU(12,"Time in hours per adviser (0 - 8)"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",5)(15,"label",6),e._uU(16,"Pre/Post Award"),e.qZA(),e._UZ(17,"dropdown-select",9),e.qZA(),e.TgZ(18,"div",5)(19,"label",6),e._uU(20,"Teams (include all teams providing support)"),e.qZA(),e.TgZ(21,"dropdown-multi-select",10),e.YNc(22,qe,1,1,"ng-template",null,11,e.W1O)(24,Ne,1,1,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(26,"div",5)(27,"label",6),e._uU(28,"Advisers (include all advisers providing support)"),e.qZA(),e.TgZ(29,"dropdown-multi-select",13),e.YNc(30,Ie,1,1,"ng-template",null,11,e.W1O)(32,Ue,1,1,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(34,"div",5)(35,"label",6),e._uU(36,"Support provided (include all types of support provided)"),e.qZA(),e._UZ(37,"dropdown-multi-select",14),e.qZA(),e.TgZ(38,"div",15)(39,"label",6),e._uU(40,"Description of support provided/requested"),e.qZA(),e._UZ(41,"textarea",16),e.qZA(),e.TgZ(42,"div",17)(43,"label",6),e._uU(44,"Request additional support from another team"),e.qZA(),e.TgZ(45,"dropdown-select",18),e.YNc(46,we,1,1,"ng-template",null,11,e.W1O)(48,ke,1,1,"ng-template",null,12,e.W1O),e.qZA()()()()(),e.TgZ(50,"div",19)(51,"button",20),e.NdJ("click",function(){return i.save()}),e._uU(52,"Save"),e.qZA(),e.TgZ(53,"button",21),e.NdJ("click",function(){return i.cancel()}),e._uU(54,"Cancel"),e.qZA()()()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(17),e.Q6J("dataSource",i.staticDataCache.isPrePostAward),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.supportTeam),e.xp6(8),e.Q6J("dataSource",i.userApi),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.supportProvided)("closeOnSelect",!1),e.xp6(8),e.Q6J("dataSource",i.staticDataCache.supportTeam)("enableClear",!0))},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.qQ,r.Fd,r.sg,r.u,g.B,N.O,Z.L],encapsulation:2})}return o})();function xe(o,a){1&o&&(e.TgZ(0,"td",10),e._UZ(1,"i",11),e.qZA())}function ye(o,a){1&o&&(e.TgZ(0,"td",12),e._UZ(1,"i",13),e.qZA())}function De(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,xe,2,0,"td",8)(4,ye,2,0,"td",9),e.qZA()),2&o){const t=a.$implicit,n=e.oxw();e.xp6(2),e.hij(" ",t.name," "),e.xp6(),e.Q6J("ngIf",!n.containsCategory(t)),e.xp6(),e.Q6J("ngIf",n.containsCategory(t))}}let G=(()=>{class o extends m.M{open(t){return this._open(Je,t,{width:"1000px"})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),Je=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSupportApi=n,this.userApi=i,this.staticDataCache=l,this.items=[],this.categories=[],this.items=this.data.items,this.staticDataCache.supportProvided.query({skip:0,take:100}).subscribe(u=>this.categories=u.items)}cancel(){this._cancelDialog()}containsCategory(t){return I.Z.some(this.items||[],n=>I.Z.some(n.supportProvidedIds,i=>i==t.id))}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(T._),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["summarise-project-support-dialog"]],features:[e.qOj],decls:15,vars:1,consts:[[1,"dialog"],[1,"dialog-head"],[1,"dialog-body"],[1,"project-support-summary","table"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"dialog-buttons"],["type","button",3,"click"],["class","inactive",4,"ngIf"],["class","active",4,"ngIf"],[1,"inactive"],[1,"far","fa-fw","fa-times"],[1,"active"],[1,"fas","fa-fw","fa-check"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Summarise Project Support "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"table")(6,"thead")(7,"tr")(8,"th",4),e._uU(9,"Support Provided"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,De,5,3,"tr",5),e.qZA()()()(),e.TgZ(12,"div",6)(13,"button",7),e.NdJ("click",function(){return i.cancel()}),e._uU(14,"Close"),e.qZA()()()),2&n&&(e.xp6(11),e.Q6J("ngForOf",i.categories))},dependencies:[p.sg,p.O5],encapsulation:2})}return o})(),H=(()=>{class o extends m.M{open(t){return this._open(Fe,t,{width:"1000px"})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),Fe=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSupportApi=n,this.userApi=i,this.staticDataCache=l,this.form=new r.cw({id:new r.NI("",{nonNullable:!0}),supportRequestedCompletedNotes:new r.NI("",{nonNullable:!0})}),this.form.patchValue(this.data.projectSupport)}save(){this.formService.hasErrors(this.form)||this.projectSupportApi.complete(this.form.getRawValue(),{successGrowl:"Project Support Completed"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(T._),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["complete-project-support-dialog"]],features:[e.qOj],decls:17,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"flex"],[1,"field","is-12"],[1,"label"],["formControlName","supportRequestedCompletedNotes","placeholder","required",1,"textarea",2,"height","200px"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Mark team support request as completed "),e.qZA(),e.TgZ(3,"div",2)(4,"p"),e._uU(5,"Please ensure you have recorded all support provided by your team."),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),e._uU(10,"Notes"),e.qZA(),e._UZ(11,"textarea",7),e.qZA()()()(),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return i.save()}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return i.cancel()}),e._uU(16,"Cancel"),e.qZA()()()),2&n&&e.Q6J("formGroup",i.form)},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],encapsulation:2})}return o})();function Re(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",13)(2,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.summariseProjectSupport())}),e._uU(3,"View Summary"),e.qZA(),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addProjectSupport())}),e._uU(5,"Add Support"),e.qZA()()()}}function Le(o,a){1&o&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"Loading..."),e.qZA()())}function Ye(o,a){1&o&&(e.TgZ(0,"div")(1,"div",15),e._uU(2," No support events have been recorded for this project. "),e.qZA()())}const x=o=>({id:o});function Oe(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"async"),e.qZA()),2&o){const t=a.$implicit,n=e.oxw(3);let i;e.xp6(),e.hij("\xa0|\xa0",null==(i=e.lcZ(2,1,n.staticDataCache.supportTeam.get(e.VKq(3,x,t))))?null:i.name,"")}}function Qe(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.AsE("",t.workTimeInHours," hour",1==t.workTimeInHours?"":"s"," |")}}function Me(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"\xa0|\xa0"),e.qZA())}function Ge(o,a){if(1&o&&(e.TgZ(0,"span"),e.YNc(1,Me,2,0,"span",9),e._uU(2),e.ALo(3,"async"),e.qZA()),2&o){const t=a.$implicit,n=a.index,i=e.oxw(3);e.xp6(),e.Q6J("ngIf",n>0),e.xp6(),e.Oqu(e.lcZ(3,2,i.userService.formatUser(t)))}}function He(o,a){if(1&o&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"async"),e.qZA()),2&o){const t=a.$implicit,n=e.oxw(3);let i;e.xp6(),e.Oqu(null==(i=e.lcZ(2,1,n.staticDataCache.supportProvided.get(e.VKq(3,x,t))))?null:i.name)}}function Ee(o,a){if(1&o&&(e.TgZ(0,"pre",28),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.Oqu(t.description)}}function We(o,a){1&o&&(e.TgZ(0,"div",31),e._uU(1,"open"),e.qZA())}function $e(o,a){1&o&&(e.TgZ(0,"div",32),e._uU(1,"complete"),e.qZA())}function Ve(o,a){if(1&o&&(e.TgZ(0,"div",22),e.YNc(1,We,2,0,"div",29)(2,$e,2,0,"div",30),e.TgZ(3,"b"),e._uU(4),e.ALo(5,"async"),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);let i;e.xp6(),e.Q6J("ngIf",null===t.supportRequestedCompletedAt),e.xp6(),e.Q6J("ngIf",null!==t.supportRequestedCompletedAt),e.xp6(2),e.hij("Support requested from team: ",null==(i=e.lcZ(5,3,n.staticDataCache.supportTeam.get(e.VKq(5,x,t.supportRequestedTeamId))))?null:i.name,"")}}function Ke(o,a){if(1&o&&(e.TgZ(0,"pre",28),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.Oqu(t.supportRequestedCompletedNotes)}}function Be(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.completeProjectSupport(i))}),e._uU(1,"mark as complete"),e.qZA()}}function Xe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",33),e.YNc(1,Be,2,0,"button",34),e.TgZ(2,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.editProjectSupport(i))}),e._uU(3,"edit"),e.qZA(),e.TgZ(4,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.deleteProjectSupport(i))}),e._uU(5,"delete"),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(),e.Q6J("ngIf",null!==t.supportRequestedTeamId&&null===t.supportRequestedCompletedAt)}}const ze=o=>({"is-warning":o});function et(o,a){if(1&o&&(e.TgZ(0,"div",18)(1,"div",19)(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,Oe,3,5,"span",20),e.TgZ(6,"span",21),e.YNc(7,Qe,2,2,"span",9),e._uU(8),e.qZA()(),e.TgZ(9,"div",22),e.YNc(10,Ge,4,4,"span",20),e.qZA(),e.TgZ(11,"div",22),e.YNc(12,He,3,5,"span",23),e.qZA(),e.YNc(13,Ee,2,1,"pre",24)(14,Ve,6,7,"div",25)(15,Ke,2,1,"pre",24)(16,Xe,6,1,"div",26),e.qZA()),2&o){const t=a.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.VKq(14,ze,n.isOpen(t))),e.xp6(3),e.Oqu(e.xi3(4,11,t.date,"dd-MMM-yy")),e.xp6(2),e.Q6J("ngForOf",t.teamIds),e.xp6(2),e.Q6J("ngIf",t.workTimeInHours),e.xp6(),e.hij(" ",t.isPrePostAwardId==n.IsPrePostAwardEnum.PreAward?"Pre-Award":"Post-Award"," "),e.xp6(2),e.Q6J("ngForOf",t.adviserIds),e.xp6(2),e.Q6J("ngForOf",t.supportProvidedIds),e.xp6(),e.Q6J("ngIf",t.description),e.xp6(),e.Q6J("ngIf",null!==t.supportRequestedTeamId),e.xp6(),e.Q6J("ngIf",t.supportRequestedCompletedNotes),e.xp6(),e.Q6J("ngIf",!n.locked)}}function tt(o,a){if(1&o&&(e.TgZ(0,"div",16),e.YNc(1,et,17,16,"div",17),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.items)}}let ot=(()=>{class o extends A{constructor(t,n,i,l,u,S,D,J){super(),this.formService=t,this.userService=n,this.confirmDeleteDialog=i,this.createProjectSupportDialog=l,this.updateProjectSupportDialog=u,this.summariseProjectSupportDialog=S,this.completeProjectSupportDialog=D,this.projectSupportApi=J,this.destroyRef=(0,e.f3M)(e.ktI),this.form=new r.cw({}),this.IsPrePostAwardEnum=C.a0,this.items=null}ngOnInit(){super.ngOnInit(),this.loadProjectSupport(),this.projectSupportApi.changed.pipe((0,ve.sL)(this.destroyRef)).subscribe(()=>this.loadProjectSupport())}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}isOpen(t){return null!==t.supportRequestedTeamId&&null===t.supportRequestedCompletedAt}loadProjectSupport(){this.projectSupportApi.query({projectId:this.item.id,skip:0,take:100}).subscribe(t=>{this.items=t.items})}addProjectSupport(){this.locked||this.createProjectSupportDialog.open({projectId:this.item.id})}editProjectSupport(t){this.locked||this.updateProjectSupportDialog.open({projectSupport:t})}deleteProjectSupport(t){this.locked||this.confirmDeleteDialog.open({title:"Project Support"}).subscribe(()=>{this.projectSupportApi.delete({id:t.id},{successGrowl:"Project Support Deleted"}).subscribe()})}summariseProjectSupport(){this.summariseProjectSupportDialog.open({items:this.items})}completeProjectSupport(t){this.completeProjectSupportDialog.open({projectSupport:t}).subscribe(()=>{this.projectSupportApi.changed.next(null)})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(U.K),e.Y36(P.h),e.Y36(Q),e.Y36(M),e.Y36(G),e.Y36(H),e.Y36(T._))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-support"]],features:[e.qOj],decls:23,vars:6,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["class","column",4,"ngIf"],[4,"ngIf"],["class","project-support-list",4,"ngIf"],[1,"floating-buttons"],[1,"button",3,"click"],[1,"header-buttons"],[1,"button","is-primary",3,"click"],[1,"message","is-primary"],[1,"project-support-list"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],[1,"card-title",2,"font-weight","bold"],[4,"ngFor","ngForOf"],[2,"flex-grow","1","text-align","right"],[1,"card-title"],["class","tag",4,"ngFor","ngForOf"],["class","card-narrative",4,"ngIf"],["class","card-title",4,"ngIf"],["class","card-buttons",4,"ngIf"],[1,"tag"],[1,"card-narrative"],["class","tag is-warning is-small",4,"ngIf"],["class","tag is-success is-small",4,"ngIf"],[1,"tag","is-warning","is-small"],[1,"tag","is-success","is-small"],[1,"card-buttons"],["class","button is-small is-primary",3,"click",4,"ngIf"],[1,"button","is-small","is-primary",3,"click"],[1,"button","is-small","is-danger",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()(),e.YNc(15,Re,6,0,"div",8),e.qZA(),e._UZ(16,"project-tabs"),e.YNc(17,Le,3,0,"div",9)(18,Ye,3,0,"div",9)(19,tt,2,1,"div",10),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){return i.cancel()}),e._uU(22,"Close"),e.qZA()()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(),e.Q6J("ngIf",!i.locked),e.xp6(2),e.Q6J("ngIf",null===i.items),e.xp6(),e.Q6J("ngIf",null!==i.items&&0==i.items.length),e.xp6(),e.Q6J("ngIf",null!==i.items&&i.items.length>0))},dependencies:[p.mk,p.sg,p.O5,c.rH,b,p.Ov,p.uU],encapsulation:2})}return o})();var y=s(5298);let E=(()=>{class o extends m.M{open(t){return this._open(rt,t,{width:"1000px"})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),rt=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSubmissionApi=n,this.userApi=i,this.staticDataCache=l,this.form=new r.cw({projectId:new r.NI("",{nonNullable:!0}),submissionDate:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),nihrReference:new r.NI("",{nonNullable:!0}),submissionStageId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),submissionOutcomeId:new r.NI(null),fundingAmountOnSubmission:new r.NI(null,{validators:[r.kI.required,r.kI.min(0),r.kI.max(999999999)],nonNullable:!0})}),this.form.patchValue({projectId:this.data.projectId})}save(){this.formService.hasErrors(this.form)||this.projectSubmissionApi.create(this.form.getRawValue(),{successGrowl:"Project Submission Added"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(y.F),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["create-project-submission-dialog"]],features:[e.qOj],decls:30,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["placeholder","required","formControlName","submissionDate"],["type","text","placeholder","optional","formControlName","nihrReference",1,"input"],["placeholder","required","formControlName","submissionStageId",3,"dataSource"],["placeholder","optional","formControlName","submissionOutcomeId",3,"dataSource"],["type","number","placeholder","optional","formControlName","fundingAmountOnSubmission",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Add Project Submission "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Submission date"),e.qZA(),e._UZ(8,"date-picker",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"NIHR reference"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",4)(14,"label",5),e._uU(15,"Submission stage"),e.qZA(),e._UZ(16,"dropdown-select",8),e.qZA(),e.TgZ(17,"div",4)(18,"label",5),e._uU(19,"Submission outcome"),e.qZA(),e._UZ(20,"dropdown-select",9),e.qZA(),e.TgZ(21,"div",4)(22,"label",5),e._uU(23,"Funding amount on submission"),e.qZA(),e._UZ(24,"input",10),e.qZA()()(),e.TgZ(25,"div",11)(26,"button",12),e.NdJ("click",function(){return i.save()}),e._uU(27,"Add"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return i.cancel()}),e._uU(29,"Cancel"),e.qZA()()()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(16),e.Q6J("dataSource",i.staticDataCache.submissionStage),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.submissionOutcome))},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,g.B,Z.L],encapsulation:2})}return o})(),W=(()=>{class o extends m.M{open(t){return this._open(it,t,{width:"1000px"})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.n5z(o)))(i||o)}})();static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})(),it=(()=>{class o extends m.X{constructor(t,n,i,l){super(),this.formService=t,this.projectSubmissionApi=n,this.userApi=i,this.staticDataCache=l,this.form=new r.cw({id:new r.NI("",{nonNullable:!0}),submissionDate:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),nihrReference:new r.NI("",{nonNullable:!0}),submissionStageId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),submissionOutcomeId:new r.NI(null),fundingAmountOnSubmission:new r.NI(null,{validators:[r.kI.required,r.kI.min(0),r.kI.max(999999999)],nonNullable:!0})}),this.form.patchValue(this.data.projectSubmission)}save(){this.formService.hasErrors(this.form)||this.projectSubmissionApi.update(this.form.getRawValue(),{successGrowl:"Project Submission Updated"}).subscribe(t=>{this._closeDialog(t)})}cancel(){this._cancelDialog()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(y.F),e.Y36(h.W),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["update-project-submission-dialog"]],features:[e.qOj],decls:30,vars:3,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid"],[1,"field"],[1,"label"],["placeholder","required","formControlName","submissionDate"],["type","text","placeholder","optional","formControlName","nihrReference",1,"input"],["placeholder","required","formControlName","submissionStageId",3,"dataSource"],["placeholder","optional","formControlName","submissionOutcomeId",3,"dataSource"],["type","number","placeholder","optional","formControlName","fundingAmountOnSubmission",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0)(1,"div",1),e._uU(2," Update Project Submission "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Submission date"),e.qZA(),e._UZ(8,"date-picker",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"NIHR reference"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",4)(14,"label",5),e._uU(15,"Submission stage"),e.qZA(),e._UZ(16,"dropdown-select",8),e.qZA(),e.TgZ(17,"div",4)(18,"label",5),e._uU(19,"Submission outcome"),e.qZA(),e._UZ(20,"dropdown-select",9),e.qZA(),e.TgZ(21,"div",4)(22,"label",5),e._uU(23,"Funding amount on submission"),e.qZA(),e._UZ(24,"input",10),e.qZA()()(),e.TgZ(25,"div",11)(26,"button",12),e.NdJ("click",function(){return i.save()}),e._uU(27,"Save"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return i.cancel()}),e._uU(29,"Cancel"),e.qZA()()()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(16),e.Q6J("dataSource",i.staticDataCache.submissionStage),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.submissionOutcome))},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,g.B,Z.L],encapsulation:2})}return o})();var nt=s(8219);function at(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.add())}),e._uU(3,"Add Submission"),e.qZA()()()}}let lt=(()=>{class o extends A{constructor(t,n,i,l,u){super(),this.formService=t,this.createProjectSubmissionDialog=n,this.updateProjectSubmissionDialog=i,this.confirmDeleteDialog=l,this.projectSubmissionApi=u,this.form=new r.cw({})}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}filter(t){t.projectId=this.item.id}add(){this.locked||this.createProjectSubmissionDialog.open({projectId:this.item.id})}edit(t){this.locked||this.updateProjectSubmissionDialog.open({projectSubmission:t})}delete(t){this.locked||this.confirmDeleteDialog.open({title:"Project Submission"}).subscribe(n=>{this.projectSubmissionApi.delete({id:t.id},{successGrowl:"Project Submission Deleted"}).subscribe()})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(E),e.Y36(W),e.Y36(P.h),e.Y36(y.F))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-submission"]],features:[e.qOj],decls:27,vars:9,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["class","column",4,"ngIf"],[3,"dataSource","filter"],["name","submissionDate"],["name","nihrReference","label","NIHR Reference"],["name","submissionStageId","label","Stage",3,"dataSource"],["name","fundingAmountOnSubmission","label","Funding Amount","prefix","\xa3"],["name","submissionOutcomeId","label","Outcome",3,"dataSource"],[3,"canAdd","canEdit","canDelete","edit","delete"],[1,"floating-buttons"],[1,"button",3,"click"],[1,"header-buttons"],[1,"button","is-primary",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()(),e.YNc(15,at,4,0,"div",8),e.qZA(),e._UZ(16,"project-tabs"),e.TgZ(17,"grid",9),e.NdJ("filter",function(u){return i.filter(u)}),e._UZ(18,"grid-date-column",10)(19,"grid-column",11)(20,"grid-reference-column",12)(21,"grid-number-column",13)(22,"grid-reference-column",14),e.TgZ(23,"grid-action-column",15),e.NdJ("edit",function(u){return i.edit(u)})("delete",function(u){return i.delete(u)}),e.qZA()(),e.TgZ(24,"div",16)(25,"button",17),e.NdJ("click",function(){return i.cancel()}),e._uU(26,"Close"),e.qZA()()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(),e.Q6J("ngIf",!i.locked),e.xp6(2),e.Q6J("dataSource",i.projectSubmissionApi),e.xp6(3),e.Q6J("dataSource",i.staticDataCache.submissionStage),e.xp6(2),e.Q6J("dataSource",i.staticDataCache.submissionOutcome),e.xp6(),e.Q6J("canAdd",!1)("canEdit",!i.locked)("canDelete",!i.locked))},dependencies:[p.O5,c.rH,w.M,k.I,L.k,Y.K,nt.x,O.a,b],encapsulation:2})}return o})();var st=s(4204);let ct=(()=>{class o extends A{constructor(t,n){super(),this.formService=t,this.confirmDeleteDialog=n,this.destroyRef=(0,e.f3M)(e.ktI),this.form=new r.cw({})}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(P.h))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-files"]],features:[e.qOj],decls:17,vars:4,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[3,"fileStorageGroupId","locked"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()()(),e._UZ(15,"project-tabs")(16,"file-browser",8),e.qZA()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(2),e.Q6J("fileStorageGroupId",i.item.fileStorageGroupId)("locked",i.locked))},dependencies:[c.rH,st.u,b],encapsulation:2})}return o})();var ut=s(324),pt=s(9616);function dt(o,a){if(1&o&&(e._uU(0),e.ALo(1,"async")),2&o){const t=a.$implicit,n=e.oxw();e.hij(" ",e.lcZ(1,1,n.userService.formatUser(t.createdByUserId))," ")}}function mt(o,a){if(1&o&&(e.TgZ(0,"pre",15),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(),e.Oqu(t.message)}}let _t=(()=>{class o{constructor(t,n,i,l,u,S){this.route=t,this.router=n,this.formService=i,this.projectChangeLogApi=l,this.staticDataCache=u,this.userService=S,this.destroyRef=(0,e.f3M)(e.ktI),this.form=new r.cw({})}ngOnInit(){this.reset(this.route.snapshot.data.project)}reset(t){this.item=t}filter(t){t.projectId=this.item.id}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(d.o),e.Y36(ut.j),e.Y36(f.U),e.Y36(U.K))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-history"]],decls:27,vars:3,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[3,"dataSource","filter"],["name","createdAt"],["name","createdBy"],["itemTemplate",""],["name","message"],[1,"floating-buttons"],[1,"button",3,"click"],[1,"grid-pre"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()()(),e._UZ(15,"project-tabs"),e.TgZ(16,"grid",8),e.NdJ("filter",function(u){return i.filter(u)}),e._UZ(17,"grid-datetime-column",9),e.TgZ(18,"grid-column",10),e.YNc(19,dt,2,3,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(21,"grid-column",12),e.YNc(22,mt,2,1,"ng-template",null,11,e.W1O),e.qZA()(),e.TgZ(24,"div",13)(25,"button",14),e.NdJ("click",function(){return i.cancel()}),e._uU(26,"Close"),e.qZA()()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(2),e.Q6J("dataSource",i.projectChangeLogApi))},dependencies:[c.rH,w.M,k.I,pt.W,b,p.Ov],encapsulation:2})}return o})();var ft=s(649);function ht(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!1))}),e._uU(2,"Save"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save(!0))}),e._uU(4,"Save & Close"),e.qZA(),e.TgZ(5,"button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(6,"Cancel"),e.qZA()()}}function gt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.unlock())}),e._uU(1,"Unlock"),e.qZA()}}function vt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",43),e.YNc(1,gt,2,0,"button",46),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(3,"Close"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.canUnlock())}}let Zt=(()=>{class o extends A{constructor(t,n){super(),this.formService=t,this.configurationService=n,this.form=new r.cw({id:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),teamContactTitle:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),teamContactFirstName:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),teamContactLastName:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),teamContactEmail:new r.NI("",{validators:[r.kI.required,r.kI.email],nonNullable:!0}),teamContactRoleId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),teamContactRoleFreeText:new r.NI("",{nonNullable:!0}),teamContactMailingPermission:new r.NI(!1,{validators:[r.kI.requiredTrue],nonNullable:!0}),teamContactPrivacyStatementRead:new r.NI(!1,{validators:[r.kI.requiredTrue],nonNullable:!0}),leadApplicantTitle:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantFirstName:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantLastName:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantEmail:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantJobRole:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantCareerStage:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantOrganisationTypeId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),leadApplicantOrganisation:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantDepartment:new r.NI("",{nonNullable:!0}),leadApplicantAddressLine1:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantAddressLine2:new r.NI("",{nonNullable:!0}),leadApplicantAddressTown:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantAddressCounty:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantAddressCountry:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantAddressPostcode:new r.NI("",{validators:[r.kI.required],nonNullable:!0}),leadApplicantORCID:new r.NI("",{nonNullable:!0}),isLeadApplicantNHSId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),leadApplicantAgeRangeId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),leadApplicantGenderId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0}),leadApplicantEthnicityId:new r.NI(null,{validators:[r.kI.required],nonNullable:!0})})}ngOnInit(){super.ngOnInit()}canUnlock(){return this.configurationService.hasClaim(t=>t.claims.canUnlockProjects)}reset(t){super.reset(t),this.form.patchValue(t),this.form.markAsPristine()}applyLock(){this.form.disable()}clearLock(){this.form.enable()}save(t){this.formService.hasErrors(this.form)||this.projectApi.updateResearcher(this.form.getRawValue(),{successGrowl:"Project Updated"}).subscribe(n=>{this.reset(n),t&&this.router.navigate(["project/project-list"])})}cancel(){this.reset(this.item),this.router.navigate(["project/project-list"])}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d.o),e.Y36(q.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["project-researcher"]],features:[e.qOj],decls:147,vars:18,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/project/project-list"],[3,"routerLink"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-4"],[1,"label"],["placeholder","required","formControlName","teamContactTitle",3,"dataSource"],["type","text","placeholder","required","formControlName","teamContactFirstName",1,"input"],["type","text","placeholder","required","formControlName","teamContactLastName",1,"input"],["type","text","placeholder","required","formControlName","teamContactEmail",1,"input"],["placeholder","required","formControlName","teamContactRoleId",3,"dataSource","freeTextControl"],[1,"field","is-12"],[1,"checkbox"],["type","checkbox","formControlName","teamContactMailingPermission"],["type","checkbox","formControlName","teamContactPrivacyStatementRead"],["placeholder","required","formControlName","leadApplicantTitle",3,"dataSource"],["type","text","placeholder","required","formControlName","leadApplicantFirstName",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantLastName",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantEmail","maxlength","64",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantJobRole",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantCareerStage","maxlength","64",1,"input"],["placeholder","required","formControlName","leadApplicantOrganisationTypeId",3,"dataSource"],["type","text","placeholder","required","formControlName","leadApplicantOrganisation",1,"input"],["type","text","placeholder","optional","formControlName","leadApplicantDepartment",1,"input"],["type","text","placeholder","optional","formControlName","leadApplicantORCID",1,"input"],["placeholder","required","formControlName","isLeadApplicantNHSId",3,"dataSource"],[1,"is-6"],["type","text","placeholder","required","formControlName","leadApplicantAddressLine1",1,"input"],["type","text","placeholder","optional","formControlName","leadApplicantAddressLine2",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantAddressTown",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantAddressCounty",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantAddressCountry",1,"input"],["type","text","placeholder","required","formControlName","leadApplicantAddressPostcode",1,"input"],["placeholder","required","formControlName","leadApplicantAgeRangeId",3,"dataSource"],["placeholder","required","formControlName","leadApplicantGenderId",3,"dataSource"],["placeholder","required","formControlName","leadApplicantEthnicityId",3,"dataSource"],["class","floating-buttons",4,"ngIf"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"],["class","button is-warning",3,"click",4,"ngIf"],[1,"button","is-warning",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ul",0)(1,"li")(2,"a",1),e._uU(3,"Home"),e.qZA()(),e.TgZ(4,"li")(5,"a",2),e._uU(6,"Projects"),e.qZA()(),e.TgZ(7,"li")(8,"a",3),e._uU(9,"Project"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e._uU(14),e.qZA()()(),e._UZ(15,"project-tabs"),e.TgZ(16,"form",8)(17,"h2"),e._uU(18,"Contact Details"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10)(21,"label",11),e._uU(22,"Title"),e.qZA(),e._UZ(23,"dropdown-text-input",12),e.qZA(),e.TgZ(24,"div",10)(25,"label",11),e._uU(26,"First name"),e.qZA(),e._UZ(27,"input",13),e.qZA(),e.TgZ(28,"div",10)(29,"label",11),e._uU(30,"Last name"),e.qZA(),e._UZ(31,"input",14),e.qZA(),e.TgZ(32,"div",10)(33,"label",11),e._uU(34,"Email"),e.qZA(),e._UZ(35,"input",15),e.qZA(),e.TgZ(36,"div",10)(37,"label",11),e._uU(38,"Role in application"),e.qZA(),e._UZ(39,"dropdown-select",16),e.qZA(),e.TgZ(40,"div",17)(41,"div",18)(42,"label"),e._UZ(43,"input",19),e._uU(44," Please tick this checkbox to confirm you give us permission to contact you via email."),e.qZA()()(),e.TgZ(45,"div",17)(46,"div",18)(47,"label"),e._UZ(48,"input",20),e._uU(49," Please tick this checkbox to confirm you have read our privacy statement."),e.qZA()()()(),e.TgZ(50,"h2"),e._uU(51,"Chief Investigator Details"),e.qZA(),e.TgZ(52,"div",9)(53,"div",10)(54,"label",11),e._uU(55,"Title"),e.qZA(),e._UZ(56,"dropdown-text-input",21),e.qZA(),e.TgZ(57,"div",10)(58,"label",11),e._uU(59,"First name"),e.qZA(),e._UZ(60,"input",22),e.qZA(),e.TgZ(61,"div",10)(62,"label",11),e._uU(63,"Last name"),e.qZA(),e._UZ(64,"input",23),e.qZA(),e.TgZ(65,"div",10)(66,"label",11),e._uU(67,"Email"),e.qZA(),e._UZ(68,"input",24),e.qZA(),e.TgZ(69,"div",10)(70,"label",11),e._uU(71,"Job Role"),e.qZA(),e._UZ(72,"input",25),e.qZA(),e.TgZ(73,"div",10)(74,"label",11),e._uU(75,"Career Stage"),e.qZA(),e._UZ(76,"input",26),e.qZA(),e.TgZ(77,"div",10)(78,"label",11),e._uU(79,"Organisation Type"),e.qZA(),e._UZ(80,"dropdown-select",27),e.qZA(),e.TgZ(81,"div",10)(82,"label",11),e._uU(83,"Organisation"),e.qZA(),e._UZ(84,"input",28),e.qZA(),e.TgZ(85,"div",10)(86,"label",11),e._uU(87,"Department"),e.qZA(),e._UZ(88,"input",29),e.qZA(),e.TgZ(89,"div",10)(90,"label",11),e._uU(91,"ORCID"),e.qZA(),e._UZ(92,"input",30),e.qZA(),e.TgZ(93,"div",17)(94,"label",11),e._uU(95," Is the chief investigator an NHS employee seeking RSS support for the first time?\xa0 "),e.qZA(),e._UZ(96,"dropdown-select",31),e.qZA()(),e.TgZ(97,"div",9)(98,"div",32)(99,"h3"),e._uU(100,"Work Address"),e.qZA(),e.TgZ(101,"div",9)(102,"div",17)(103,"label",11),e._uU(104,"Line 1"),e.qZA(),e._UZ(105,"input",33),e.qZA(),e.TgZ(106,"div",17)(107,"label",11),e._uU(108,"Line 2"),e.qZA(),e._UZ(109,"input",34),e.qZA(),e.TgZ(110,"div",17)(111,"label",11),e._uU(112,"Town/City"),e.qZA(),e._UZ(113,"input",35),e.qZA(),e.TgZ(114,"div",17)(115,"label",11),e._uU(116,"County"),e.qZA(),e._UZ(117,"input",36),e.qZA(),e.TgZ(118,"div",17)(119,"label",11),e._uU(120,"Country"),e.qZA(),e._UZ(121,"input",37),e.qZA(),e.TgZ(122,"div",17)(123,"label",11),e._uU(124,"Postcode"),e.qZA(),e._UZ(125,"input",38),e.qZA()()(),e.TgZ(126,"div",32)(127,"h3"),e._uU(128,"Enthnicity, Diversity & Inclusion"),e.qZA(),e.TgZ(129,"div",9)(130,"div",17)(131,"label",11),e._uU(132,"Age Range"),e.qZA(),e._UZ(133,"dropdown-select",39),e.qZA(),e.TgZ(134,"div",17)(135,"label",11),e._uU(136,"Gender"),e.qZA(),e._UZ(137,"dropdown-select",40),e.qZA(),e.TgZ(138,"div",17)(139,"label",11),e._uU(140,"Ethnicity"),e.qZA(),e._UZ(141,"dropdown-select",41),e.qZA()()()(),e.YNc(142,ht,7,0,"div",42)(143,vt,4,1,"div",42),e.qZA(),e.TgZ(144,"p"),e._uU(145),e.ALo(146,"date"),e.qZA()()),2&n&&(e.xp6(8),e.MGl("routerLink","/project/project-item/",i.item.id,""),e.xp6(6),e.hij("Project ",i.item.prefixedNumber,""),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(7),e.Q6J("dataSource",i.staticDataCache.title),e.xp6(16),e.Q6J("dataSource",i.staticDataCache.researcherRole)("freeTextControl",i.form.controls.teamContactRoleFreeText),e.xp6(17),e.Q6J("dataSource",i.staticDataCache.title),e.xp6(24),e.Q6J("dataSource",i.staticDataCache.researcherOrganisationType),e.xp6(16),e.Q6J("dataSource",i.staticDataCache.isLeadApplicantNHS),e.xp6(37),e.Q6J("dataSource",i.staticDataCache.ageRange),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.gender),e.xp6(4),e.Q6J("dataSource",i.staticDataCache.ethnicity),e.xp6(),e.Q6J("ngIf",!i.locked),e.xp6(),e.Q6J("ngIf",i.locked),e.xp6(2),e.hij("Created ",e.xi3(146,15,i.item.createdAt,"dd MMM yy HH:mm"),""))},dependencies:[p.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.nD,r.sg,r.u,c.rH,g.B,ft._,b,p.uU],encapsulation:2})}return o})();const bt=[{path:"project-list",component:oe,data:{activeSideMenu:"Projects"}},{path:"project-item/:id",component:de,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-request/:id",component:ge,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-researcher/:id",component:Zt,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-support/:id",component:ot,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-submission/:id",component:lt,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-files/:id",component:ct,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}},{path:"project-history/:id",component:_t,resolve:{project:_.U.projectResolver("id")},canDeactivate:[v.u.isPristine()],data:{activeSideMenu:"Projects"}}];let At=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(bt),c.Bz]})}return o})(),jt=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({providers:[Q,E,M,W,G,H],imports:[p.ez,$.m,At]})}return o})()}}]);