"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[797],{8797:(z,F,r)=>{r.r(F),r.d(F,{ConfigurationModule:()=>K});var u=r(177),I=r(2896),s=r(4722),e=r(4438),M=r(8651);function G(t,m){if(1&t&&(e.j41(0,"a",8),e.nrm(1,"i"),e.j41(2,"label"),e.EFF(3),e.k0s()()),2&t){const i=m.$implicit;e.Y8G("routerLink",i.action),e.R7$(),e.HbH(i.icon||"fas fa-database"),e.R7$(2),e.JRh(i.name)}}function U(t,m){if(1&t&&(e.j41(0,"div",6),e.DNE(1,G,4,4,"a",7),e.nI1(2,"async"),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,i.configuration).settingsMenu.children)}}function X(t,m){if(1&t&&(e.j41(0,"div")(1,"h2"),e.EFF(2,"Settings"),e.k0s(),e.DNE(3,U,3,3,"div",5),e.nI1(4,"async"),e.k0s()),2&t){const i=e.XpG();e.R7$(3),e.Y8G("ngIf",null!==e.bMT(4,1,i.configuration))}}function _(t,m){if(1&t&&(e.j41(0,"a",8),e.nrm(1,"i"),e.j41(2,"label"),e.EFF(3),e.k0s()()),2&t){const i=m.$implicit;e.Y8G("routerLink",i.action),e.R7$(),e.HbH(i.icon||"fas fa-database"),e.R7$(2),e.JRh(i.name)}}function N(t,m){if(1&t&&(e.j41(0,"div",6),e.DNE(1,_,4,4,"a",7),e.nI1(2,"async"),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,i.configuration).staticDataMenu.children)}}function L(t,m){if(1&t&&(e.j41(0,"div")(1,"h2"),e.EFF(2,"Static Data"),e.k0s(),e.DNE(3,N,3,3,"div",5),e.nI1(4,"async"),e.k0s()),2&t){const i=e.XpG();e.R7$(3),e.Y8G("ngIf",null!==e.bMT(4,1,i.configuration))}}let S=(()=>{class t{constructor(i,n,o){this.route=i,this.router=n,this.configurationService=o,this.configuration=o.configuration}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.nX),e.rXU(s.Ix),e.rXU(M.s))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["configuration-menu"]],decls:14,vars:6,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],[1,"container"],[4,"ngIf"],["class","icon-menu",4,"ngIf"],[1,"icon-menu"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()()(),e.j41(7,"div",3)(8,"h1"),e.EFF(9,"Configuration"),e.k0s(),e.DNE(10,X,5,3,"div",4),e.nI1(11,"async"),e.DNE(12,L,5,3,"div",4),e.nI1(13,"async"),e.k0s()),2&n&&(e.R7$(10),e.Y8G("ngIf",e.bMT(11,2,o.configuration).settingsMenu.children),e.R7$(2),e.Y8G("ngIf",e.bMT(13,4,o.configuration).staticDataMenu.children))},dependencies:[u.Sq,u.bT,s.Wk,u.Jj],encapsulation:2})}}return t})();var a=r(4341),p=r(8933),d=r(8829),f=r(6850),b=r(3548),R=r(2571);let J=(()=>{class t{constructor(i,n,o,l,c,T,v){this.route=i,this.router=n,this.confirmDialog=o,this.confirmDeleteDialog=l,this.formService=c,this.emailTemplateApi=T,this.staticDataCache=v,this.form=new a.gE({id:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),sendTo:new a.MJ("",{nonNullable:!0}),sendCc:new a.MJ("",{nonNullable:!0}),sendBcc:new a.MJ("",{nonNullable:!0}),sentBy:new a.MJ("",{nonNullable:!0}),replyTo:new a.MJ("",{nonNullable:!0}),subject:new a.MJ("",{nonNullable:!0}),htmlTemplate:new a.MJ("",{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.emailTemplate)}reset(i){this.item=i,this.form.patchValue(i),this.form.markAsPristine()}save(i){this.formService.hasErrors(this.form)||this.emailTemplateApi.update(this.form.getRawValue(),{successGrowl:"Email Template Updated"}).subscribe(n=>{this.reset(n),i&&this.router.navigate(["configuration/email-template-list"])})}cancel(){this.reset(this.item),this.router.navigate(["configuration/email-template-list"])}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.nX),e.rXU(s.Ix),e.rXU(p.T),e.rXU(p.T),e.rXU(d.u),e.rXU(f.r),e.rXU(b.t))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["email-template-item"]],decls:56,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/email-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-4"],[1,"label"],["type","text","formControlName","name","placeholder","required",1,"input"],["type","text","formControlName","sentBy","placeholder","optional",1,"input"],["type","text","formControlName","replyTo","placeholder","optional",1,"input"],["type","text","formControlName","sendTo","placeholder","optional",1,"input"],["type","text","formControlName","sendCc","placeholder","optional",1,"input"],["type","text","formControlName","sendBcc","placeholder","optional",1,"input"],[1,"field","is-12"],["type","text","formControlName","subject","placeholder","optional",1,"input"],["formControlName","htmlTemplate","placeholder","optional"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Email Template"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"Email Template"),e.k0s()()(),e.j41(15,"form",8)(16,"div",9)(17,"div",10)(18,"label",11),e.EFF(19,"Name"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div",10)(22,"label",11),e.EFF(23,"Sent By"),e.k0s(),e.nrm(24,"input",13),e.k0s(),e.j41(25,"div",10)(26,"label",11),e.EFF(27,"Reply To"),e.k0s(),e.nrm(28,"input",14),e.k0s(),e.j41(29,"div",10)(30,"label",11),e.EFF(31,"Send To"),e.k0s(),e.nrm(32,"input",15),e.k0s(),e.j41(33,"div",10)(34,"label",11),e.EFF(35,"Send Cc"),e.k0s(),e.nrm(36,"input",16),e.k0s(),e.j41(37,"div",10)(38,"label",11),e.EFF(39,"Send Bcc"),e.k0s(),e.nrm(40,"input",17),e.k0s(),e.j41(41,"div",18)(42,"label",11),e.EFF(43,"Subject"),e.k0s(),e.nrm(44,"input",19),e.k0s(),e.j41(45,"div",18)(46,"label",11),e.EFF(47,"Template"),e.k0s(),e.nrm(48,"text-area",20),e.k0s()()(),e.j41(49,"div",21)(50,"button",22),e.bIt("click",function(){return o.save(!1)}),e.EFF(51,"Save"),e.k0s(),e.j41(52,"button",22),e.bIt("click",function(){return o.save(!0)}),e.EFF(53,"Save & Close"),e.k0s(),e.j41(54,"button",23),e.bIt("click",function(){return o.cancel()}),e.EFF(55,"Cancel"),e.k0s()()()),2&n&&(e.R7$(15),e.Y8G("formGroup",o.form))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,s.Wk,R.Q],encapsulation:2})}}return t})();var g=r(7520);let k=(()=>{class t extends g.u{open(){return this._open(w,void 0)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(t)))(o||t)}})()}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})(),w=(()=>{class t extends g.V{constructor(i,n){super(),this.formService=i,this.emailTemplateApi=n,this.form=new a.gE({name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.emailTemplateApi.create(this.form.getRawValue()).subscribe(i=>{this._closeDialog(i)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(d.u),e.rXU(f.r))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["create-email-template-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid","has-columns-3"],[1,"field","column-span-3"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create Email Template "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return o.save()}),e.EFF(11,"Add"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return o.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&n&&e.Y8G("formGroup",o.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return t})();var C=r(1062),E=r(1435),j=r(3376);let $=(()=>{class t{constructor(i,n,o,l){this.router=i,this.activatedRoute=n,this.emailTemplateApi=o,this.createEmailTemplateDialog=l}add(){this.createEmailTemplateDialog.open()}edit(i){this.router.navigate(["configuration/email-template-item",i.id])}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.Ix),e.rXU(s.nX),e.rXU(f.r),e.rXU(k))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["email-template-list"]],decls:18,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/email-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["stateKey","EmailTemplateList",3,"dataSource"],["name","name"],[3,"add","edit","canDelete"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Email Templates"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"Email Templates"),e.k0s()()(),e.j41(15,"grid",8),e.nrm(16,"grid-column",9),e.j41(17,"grid-action-column",10),e.bIt("add",function(){return o.add()})("edit",function(c){return o.edit(c)}),e.k0s()()()),2&n&&(e.R7$(15),e.Y8G("dataSource",o.emailTemplateApi),e.R7$(2),e.Y8G("canDelete",!1))},dependencies:[s.Wk,C._,E.C,j.y],encapsulation:2})}}return t})();var B=r(6628);let x=(()=>{class t{constructor(i,n){this.router=i,this.activatedRoute=n,this.globalFileStorageGroupId="17c28098-375c-4a1a-bc41-43813786ab84"}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.Ix),e.rXU(s.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["global-file-list"]],decls:18,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/global-file-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"message"],[3,"fileStorageGroupId"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"File Library"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"File Library"),e.k0s(),e.j41(15,"div",8),e.EFF(16,"Files added to this file group will be available to attach to outgoing emails."),e.k0s(),e.nrm(17,"file-browser",9),e.k0s()()()),2&n&&(e.R7$(17),e.Y8G("fileStorageGroupId",o.globalFileStorageGroupId))},dependencies:[s.Wk,B.w],encapsulation:2})}}return t})();var h=r(6434),V=r(5820);let A=(()=>{class t{constructor(i,n,o,l,c,T,v){this.route=i,this.router=n,this.confirmDialog=o,this.confirmDeleteDialog=l,this.formService=c,this.triageTemplateApi=T,this.staticDataCache=v,this.form=new a.gE({id:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),subject:new a.MJ("",{nonNullable:!0}),htmlTemplate:new a.MJ("",{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.triageTemplate)}reset(i){this.item=i,this.form.patchValue(i),this.form.markAsPristine()}save(i){this.formService.hasErrors(this.form)||this.triageTemplateApi.update(this.form.getRawValue(),{successGrowl:"Triage Template Updated"}).subscribe(n=>{this.reset(n),i&&this.router.navigate(["configuration/triage-template-list"])})}cancel(){this.reset(this.item),this.router.navigate(["configuration/triage-template-list"])}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.nX),e.rXU(s.Ix),e.rXU(p.T),e.rXU(p.T),e.rXU(d.u),e.rXU(h.H),e.rXU(b.t))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["triage-template-item"]],decls:34,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/triage-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-4"],[1,"label"],["type","text","formControlName","name","placeholder","required",1,"input"],[1,"field","is-12"],["type","text","formControlName","subject","placeholder","optional",1,"input"],["formControlName","htmlTemplate","placeholder","required",3,"height"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Triage Template"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"Triage Template"),e.k0s()()(),e.j41(15,"form",8)(16,"div",9)(17,"div",10)(18,"label",11),e.EFF(19,"Name"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div",13)(22,"label",11),e.EFF(23,"Subject"),e.k0s(),e.nrm(24,"input",14),e.k0s(),e.j41(25,"div",13)(26,"label",11),e.EFF(27,"Template"),e.k0s(),e.nrm(28,"html-editor",15),e.k0s()()(),e.j41(29,"div",16)(30,"button",17),e.bIt("click",function(){return o.save(!1)}),e.EFF(31,"Save (and sanitize HTML)"),e.k0s(),e.j41(32,"button",18),e.bIt("click",function(){return o.cancel()}),e.EFF(33,"Close"),e.k0s()()()),2&n&&(e.R7$(15),e.Y8G("formGroup",o.form),e.R7$(13),e.Y8G("height",600))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,s.Wk,V.S],encapsulation:2})}}return t})(),y=(()=>{class t extends g.u{open(){return this._open(H,void 0)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(t)))(o||t)}})()}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})(),H=(()=>{class t extends g.V{constructor(i,n){super(),this.formService=i,this.triageTemplateApi=n,this.form=new a.gE({name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.triageTemplateApi.create(this.form.getRawValue()).subscribe(i=>{this._closeDialog(i)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(d.u),e.rXU(h.H))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["create-triage-template-dialog"]],features:[e.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid","has-columns-3"],[1,"field","column-span-3"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"form",0)(1,"div",1),e.EFF(2," Create Triage Template "),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Name"),e.k0s(),e.nrm(8,"input",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return o.save()}),e.EFF(11,"Add"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return o.cancel()}),e.EFF(13,"Cancel"),e.k0s()()()),2&n&&e.Y8G("formGroup",o.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return t})();var Y=r(4247);let O=(()=>{class t{constructor(i,n,o,l,c){this.router=i,this.activatedRoute=n,this.triageTemplateApi=o,this.createTriageTemplateDialog=l,this.confirmDeleteDialog=c}add(){this.createTriageTemplateDialog.open()}edit(i){this.router.navigate(["configuration/triage-template-item",i.id])}delete(i){this.confirmDeleteDialog.open({title:"Triage Tempplate"}).subscribe(()=>{this.triageTemplateApi.delete({id:i.id},{successGrowl:"Triage Template Deleted"}).subscribe()})}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(s.Ix),e.rXU(s.nX),e.rXU(h.H),e.rXU(y),e.rXU(Y.K))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["triage-template-list"]],decls:19,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/triage-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["stateKey","TriageTemplateList",3,"dataSource"],["name","name"],["name","subject"],[3,"add","edit","delete"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li")(2,"a",1),e.EFF(3,"Home"),e.k0s()(),e.j41(4,"li")(5,"a",2),e.EFF(6,"Configuration"),e.k0s()(),e.j41(7,"li")(8,"a",3),e.EFF(9,"Triage Templates"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),e.EFF(14,"Triage Templates"),e.k0s()()(),e.j41(15,"grid",8),e.nrm(16,"grid-column",9)(17,"grid-column",10),e.j41(18,"grid-action-column",11),e.bIt("add",function(){return o.add()})("edit",function(c){return o.edit(c)})("delete",function(c){return o.delete(c)}),e.k0s()()()),2&n&&(e.R7$(15),e.Y8G("dataSource",o.triageTemplateApi))},dependencies:[s.Wk,C._,E.C,j.y],encapsulation:2})}}return t})();var D=r(1725);const W=[{path:"configuration-menu",component:S,data:{activeSideMenu:"Configuration"}},{path:"global-file-list",component:x,data:{activeSideMenu:"Configuration"}},{path:"email-template-list",component:$,data:{activeSideMenu:"Configuration"}},{path:"email-template-item/:id",component:J,data:{activeSideMenu:"Configuration"},resolve:{emailTemplate:f.r.emailTemplateResolver("id")},canDeactivate:[D.S.isPristine()]},{path:"triage-template-list",component:O,data:{activeSideMenu:"Configuration"}},{path:"triage-template-item/:id",component:A,data:{activeSideMenu:"Configuration"},resolve:{triageTemplate:h.H.triageTemplateResolver("id")},canDeactivate:[D.S.isPristine()]}];let P=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[s.iI.forChild(W),s.iI]})}}return t})(),K=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({providers:[k,y],imports:[u.MD,I.G,P]})}}return t})()}}]);