"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[797],{8797:(K,F,r)=>{r.r(F),r.d(F,{ConfigurationModule:()=>P});var u=r(177),D=r(2896),l=r(4722),t=r(4438),G=r(8651);function M(e,c){if(1&e&&(t.j41(0,"a",8),t.nrm(1,"i"),t.j41(2,"label"),t.EFF(3),t.k0s()()),2&e){const i=c.$implicit;t.Y8G("routerLink",i.action),t.R7$(),t.HbH(i.icon||"fas fa-database"),t.R7$(2),t.JRh(i.name)}}function U(e,c){if(1&e&&(t.j41(0,"div",6),t.DNE(1,M,4,4,"a",7),t.nI1(2,"async"),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,i.configuration).settingsMenu.children)}}function X(e,c){if(1&e&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Settings"),t.k0s(),t.DNE(3,U,3,3,"div",5),t.nI1(4,"async"),t.k0s()),2&e){const i=t.XpG();t.R7$(3),t.Y8G("ngIf",null!==t.bMT(4,1,i.configuration))}}function N(e,c){if(1&e&&(t.j41(0,"a",8),t.nrm(1,"i"),t.j41(2,"label"),t.EFF(3),t.k0s()()),2&e){const i=c.$implicit;t.Y8G("routerLink",i.action),t.R7$(),t.HbH(i.icon||"fas fa-database"),t.R7$(2),t.JRh(i.name)}}function S(e,c){if(1&e&&(t.j41(0,"div",6),t.DNE(1,N,4,4,"a",7),t.nI1(2,"async"),t.k0s()),2&e){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,i.configuration).staticDataMenu.children)}}function _(e,c){if(1&e&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Static Data"),t.k0s(),t.DNE(3,S,3,3,"div",5),t.nI1(4,"async"),t.k0s()),2&e){const i=t.XpG();t.R7$(3),t.Y8G("ngIf",null!==t.bMT(4,1,i.configuration))}}let L=(()=>{class e{constructor(i,n,o){this.route=i,this.router=n,this.configurationService=o,this.configuration=o.configuration}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.nX),t.rXU(l.Ix),t.rXU(G.s))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["configuration-menu"]],decls:14,vars:6,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],[1,"container"],[4,"ngIf"],["class","icon-menu",4,"ngIf"],[1,"icon-menu"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()()(),t.j41(7,"div",3)(8,"h1"),t.EFF(9,"Configuration"),t.k0s(),t.DNE(10,X,5,3,"div",4),t.nI1(11,"async"),t.DNE(12,_,5,3,"div",4),t.nI1(13,"async"),t.k0s()),2&n&&(t.R7$(10),t.Y8G("ngIf",t.bMT(11,2,o.configuration).settingsMenu.children),t.R7$(2),t.Y8G("ngIf",t.bMT(13,4,o.configuration).staticDataMenu.children))},dependencies:[u.Sq,u.bT,l.Wk,u.Jj],encapsulation:2})}}return e})();var a=r(4341),p=r(8933),d=r(8829),f=r(6850),k=r(3548),R=r(2571);let J=(()=>{class e{constructor(i,n,o,s,m,v,T){this.route=i,this.router=n,this.confirmDialog=o,this.confirmDeleteDialog=s,this.formService=m,this.emailTemplateApi=v,this.staticDataCache=T,this.form=new a.gE({id:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),sendTo:new a.MJ("",{nonNullable:!0}),sendCc:new a.MJ("",{nonNullable:!0}),sendBcc:new a.MJ("",{nonNullable:!0}),sentBy:new a.MJ("",{nonNullable:!0}),replyTo:new a.MJ("",{nonNullable:!0}),subject:new a.MJ("",{nonNullable:!0}),htmlTemplate:new a.MJ("",{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.emailTemplate)}reset(i){this.item=i,this.form.patchValue(i),this.form.markAsPristine()}save(i){this.formService.hasErrors(this.form)||this.emailTemplateApi.update(this.form.getRawValue(),{successGrowl:"Email Template Updated"}).subscribe(n=>{this.reset(n),i&&this.router.navigate(["configuration/email-template-list"])})}cancel(){this.reset(this.item),this.router.navigate(["configuration/email-template-list"])}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.nX),t.rXU(l.Ix),t.rXU(p.T),t.rXU(p.T),t.rXU(d.u),t.rXU(f.r),t.rXU(k.t))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["email-template-item"]],decls:56,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/email-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-4"],[1,"label"],["type","text","formControlName","name","placeholder","required",1,"input"],["type","text","formControlName","sentBy","placeholder","optional",1,"input"],["type","text","formControlName","replyTo","placeholder","optional",1,"input"],["type","text","formControlName","sendTo","placeholder","optional",1,"input"],["type","text","formControlName","sendCc","placeholder","optional",1,"input"],["type","text","formControlName","sendBcc","placeholder","optional",1,"input"],[1,"field","is-12"],["type","text","formControlName","subject","placeholder","optional",1,"input"],["formControlName","htmlTemplate","placeholder","optional"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()(),t.j41(7,"li")(8,"a",3),t.EFF(9,"Email Template"),t.k0s()()(),t.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),t.EFF(14,"Email Template"),t.k0s()()(),t.j41(15,"form",8)(16,"div",9)(17,"div",10)(18,"label",11),t.EFF(19,"Name"),t.k0s(),t.nrm(20,"input",12),t.k0s(),t.j41(21,"div",10)(22,"label",11),t.EFF(23,"Sent By"),t.k0s(),t.nrm(24,"input",13),t.k0s(),t.j41(25,"div",10)(26,"label",11),t.EFF(27,"Reply To"),t.k0s(),t.nrm(28,"input",14),t.k0s(),t.j41(29,"div",10)(30,"label",11),t.EFF(31,"Send To"),t.k0s(),t.nrm(32,"input",15),t.k0s(),t.j41(33,"div",10)(34,"label",11),t.EFF(35,"Send Cc"),t.k0s(),t.nrm(36,"input",16),t.k0s(),t.j41(37,"div",10)(38,"label",11),t.EFF(39,"Send Bcc"),t.k0s(),t.nrm(40,"input",17),t.k0s(),t.j41(41,"div",18)(42,"label",11),t.EFF(43,"Subject"),t.k0s(),t.nrm(44,"input",19),t.k0s(),t.j41(45,"div",18)(46,"label",11),t.EFF(47,"Template"),t.k0s(),t.nrm(48,"text-area",20),t.k0s()()(),t.j41(49,"div",21)(50,"button",22),t.bIt("click",function(){return o.save(!1)}),t.EFF(51,"Save"),t.k0s(),t.j41(52,"button",22),t.bIt("click",function(){return o.save(!0)}),t.EFF(53,"Save & Close"),t.k0s(),t.j41(54,"button",23),t.bIt("click",function(){return o.cancel()}),t.EFF(55,"Cancel"),t.k0s()()()),2&n&&(t.R7$(15),t.Y8G("formGroup",o.form))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,l.Wk,R.Q],encapsulation:2})}}return e})();var g=r(7520);let b=(()=>{class e extends g.u{open(){return this._open($,void 0)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),$=(()=>{class e extends g.V{constructor(i,n){super(),this.formService=i,this.emailTemplateApi=n,this.form=new a.gE({name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.emailTemplateApi.create(this.form.getRawValue()).subscribe(i=>{this._closeDialog(i)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(d.u),t.rXU(f.r))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["create-email-template-dialog"]],features:[t.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid","has-columns-3"],[1,"field","column-span-3"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"form",0)(1,"div",1),t.EFF(2," Create Email Template "),t.k0s(),t.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7,"Name"),t.k0s(),t.nrm(8,"input",6),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return o.save()}),t.EFF(11,"Add"),t.k0s(),t.j41(12,"button",9),t.bIt("click",function(){return o.cancel()}),t.EFF(13,"Cancel"),t.k0s()()()),2&n&&t.Y8G("formGroup",o.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return e})();var C=r(1062),E=r(1435),j=r(3376);let w=(()=>{class e{constructor(i,n,o,s){this.router=i,this.activatedRoute=n,this.emailTemplateApi=o,this.createEmailTemplateDialog=s}add(){this.createEmailTemplateDialog.open()}edit(i){this.router.navigate(["configuration/email-template-item",i.id])}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.Ix),t.rXU(l.nX),t.rXU(f.r),t.rXU(b))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["email-template-list"]],decls:18,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/email-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["stateKey","EmailTemplateList",3,"dataSource"],["name","name"],[3,"add","edit","canDelete"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()(),t.j41(7,"li")(8,"a",3),t.EFF(9,"Email Templates"),t.k0s()()(),t.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),t.EFF(14,"Email Templates"),t.k0s()()(),t.j41(15,"grid",8),t.nrm(16,"grid-column",9),t.j41(17,"grid-action-column",10),t.bIt("add",function(){return o.add()})("edit",function(m){return o.edit(m)}),t.k0s()()()),2&n&&(t.R7$(15),t.Y8G("dataSource",o.emailTemplateApi),t.R7$(2),t.Y8G("canDelete",!1))},dependencies:[l.Wk,C._,E.C,j.y],encapsulation:2})}}return e})();var x=r(6628);let B=(()=>{class e{constructor(i,n){this.router=i,this.activatedRoute=n,this.globalFileStorageGroupId="17c28098-375c-4a1a-bc41-43813786ab84"}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.Ix),t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["global-file-list"]],decls:18,vars:1,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/global-file-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"message"],[3,"fileStorageGroupId"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()(),t.j41(7,"li")(8,"a",3),t.EFF(9,"Global Files"),t.k0s()()(),t.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),t.EFF(14,"Global Files"),t.k0s(),t.j41(15,"div",8),t.EFF(16,"Files added to this file group will be available to attach to outgoing emails."),t.k0s(),t.nrm(17,"file-browser",9),t.k0s()()()),2&n&&(t.R7$(17),t.Y8G("fileStorageGroupId",o.globalFileStorageGroupId))},dependencies:[l.Wk,x.w],encapsulation:2})}}return e})();var h=r(6434),V=r(5820);let Y=(()=>{class e{constructor(i,n,o,s,m,v,T){this.route=i,this.router=n,this.confirmDialog=o,this.confirmDeleteDialog=s,this.formService=m,this.triageTemplateApi=v,this.staticDataCache=T,this.form=new a.gE({id:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0}),subject:new a.MJ("",{nonNullable:!0}),htmlTemplate:new a.MJ("",{nonNullable:!0})})}ngOnInit(){this.reset(this.route.snapshot.data.triageTemplate)}reset(i){this.item=i,this.form.patchValue(i),this.form.markAsPristine()}save(i){this.formService.hasErrors(this.form)||this.triageTemplateApi.update(this.form.getRawValue(),{successGrowl:"Triage Template Updated"}).subscribe(n=>{this.reset(n),i&&this.router.navigate(["configuration/triage-template-list"])})}cancel(){this.reset(this.item),this.router.navigate(["configuration/triage-template-list"])}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.nX),t.rXU(l.Ix),t.rXU(p.T),t.rXU(p.T),t.rXU(d.u),t.rXU(h.H),t.rXU(k.t))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["triage-template-item"]],decls:34,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/triage-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],[1,"form",3,"formGroup"],[1,"flex"],[1,"field","is-4"],[1,"label"],["type","text","formControlName","name","placeholder","required",1,"input"],[1,"field","is-12"],["type","text","formControlName","subject","placeholder","optional",1,"input"],["formControlName","htmlTemplate","placeholder","required",3,"height"],[1,"floating-buttons"],[1,"button","is-success",3,"click"],[1,"button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()(),t.j41(7,"li")(8,"a",3),t.EFF(9,"Triage Template"),t.k0s()()(),t.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),t.EFF(14,"Triage Template"),t.k0s()()(),t.j41(15,"form",8)(16,"div",9)(17,"div",10)(18,"label",11),t.EFF(19,"Name"),t.k0s(),t.nrm(20,"input",12),t.k0s(),t.j41(21,"div",13)(22,"label",11),t.EFF(23,"Subject"),t.k0s(),t.nrm(24,"input",14),t.k0s(),t.j41(25,"div",13)(26,"label",11),t.EFF(27,"Template"),t.k0s(),t.nrm(28,"html-editor",15),t.k0s()()(),t.j41(29,"div",16)(30,"button",17),t.bIt("click",function(){return o.save(!1)}),t.EFF(31,"Save (and sanitize HTML)"),t.k0s(),t.j41(32,"button",18),t.bIt("click",function(){return o.cancel()}),t.EFF(33,"Close"),t.k0s()()()),2&n&&(t.R7$(15),t.Y8G("formGroup",o.form),t.R7$(13),t.Y8G("height",600))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,l.Wk,V.S],encapsulation:2})}}return e})(),y=(()=>{class e extends g.u{open(){return this._open(H,void 0)}static{this.\u0275fac=(()=>{let i;return function(o){return(i||(i=t.xGo(e)))(o||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),H=(()=>{class e extends g.V{constructor(i,n){super(),this.formService=i,this.triageTemplateApi=n,this.form=new a.gE({name:new a.MJ("",{validators:[a.k0.required],nonNullable:!0})})}save(){this.formService.hasErrors(this.form)||this.triageTemplateApi.create(this.form.getRawValue()).subscribe(i=>{this._closeDialog(i)})}cancel(){this._cancelDialog()}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(d.u),t.rXU(h.H))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["create-triage-template-dialog"]],features:[t.Vt3],decls:14,vars:1,consts:[[1,"form","dialog",3,"formGroup"],[1,"dialog-head"],[1,"dialog-body"],[1,"grid","has-columns-3"],[1,"field","column-span-3"],[1,"label"],["type","text","placeholder","required","formControlName","name",1,"input"],[1,"dialog-buttons"],["type","submit",1,"is-success",3,"click"],["type","button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"form",0)(1,"div",1),t.EFF(2," Create Triage Template "),t.k0s(),t.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7,"Name"),t.k0s(),t.nrm(8,"input",6),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return o.save()}),t.EFF(11,"Add"),t.k0s(),t.j41(12,"button",9),t.bIt("click",function(){return o.cancel()}),t.EFF(13,"Cancel"),t.k0s()()()),2&n&&t.Y8G("formGroup",o.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return e})(),A=(()=>{class e{constructor(i,n,o,s){this.router=i,this.activatedRoute=n,this.triageTemplateApi=o,this.createTriageTemplateDialog=s}add(){this.createTriageTemplateDialog.open()}edit(i){this.router.navigate(["configuration/triage-template-item",i.id])}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(l.Ix),t.rXU(l.nX),t.rXU(h.H),t.rXU(y))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["triage-template-list"]],decls:19,vars:2,consts:[[1,"breadcrumbs"],["routerLink","/home"],["routerLink","/configuration/configuration-menu"],["routerLink","/configuration/triage-template-list"],[1,"container"],[1,"columns"],[1,"column"],[1,"title"],["stateKey","TriageTemplateList",3,"dataSource"],["name","name"],["name","subject"],[3,"add","edit","canDelete"]],template:function(n,o){1&n&&(t.j41(0,"ul",0)(1,"li")(2,"a",1),t.EFF(3,"Home"),t.k0s()(),t.j41(4,"li")(5,"a",2),t.EFF(6,"Configuration"),t.k0s()(),t.j41(7,"li")(8,"a",3),t.EFF(9,"Triage Templates"),t.k0s()()(),t.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"h1",7),t.EFF(14,"Triage Templates"),t.k0s()()(),t.j41(15,"grid",8),t.nrm(16,"grid-column",9)(17,"grid-column",10),t.j41(18,"grid-action-column",11),t.bIt("add",function(){return o.add()})("edit",function(m){return o.edit(m)}),t.k0s()()()),2&n&&(t.R7$(15),t.Y8G("dataSource",o.triageTemplateApi),t.R7$(3),t.Y8G("canDelete",!1))},dependencies:[l.Wk,C._,E.C,j.y],encapsulation:2})}}return e})();var I=r(1725);const O=[{path:"configuration-menu",component:L,data:{activeSideMenu:"Configuration"}},{path:"global-file-list",component:B,data:{activeSideMenu:"Configuration"}},{path:"email-template-list",component:w,data:{activeSideMenu:"Configuration"}},{path:"email-template-item/:id",component:J,data:{activeSideMenu:"Configuration"},resolve:{emailTemplate:f.r.emailTemplateResolver("id")},canDeactivate:[I.S.isPristine()]},{path:"triage-template-list",component:A,data:{activeSideMenu:"Configuration"}},{path:"triage-template-item/:id",component:Y,data:{activeSideMenu:"Configuration"},resolve:{triageTemplate:h.H.triageTemplateResolver("id")},canDeactivate:[I.S.isPristine()]}];let W=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(O),l.iI]})}}return e})(),P=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[b,y],imports:[u.MD,D.G,W]})}}return e})()}}]);