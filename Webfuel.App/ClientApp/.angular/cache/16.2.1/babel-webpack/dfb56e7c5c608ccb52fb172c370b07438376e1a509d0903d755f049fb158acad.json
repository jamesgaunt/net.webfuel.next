{"ast":null,"code":"var _class;\nimport { DestroyRef, forwardRef, inject } from '@angular/core';\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { debounceTime, noop, tap } from 'rxjs';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class NumberInputComponent {\n  constructor() {\n    this.formControl = new FormControl(null);\n    this.destroyRef = inject(DestroyRef);\n    this.placeholder = \"\";\n    // ControlValueAccessor API\n    this.onChange = noop;\n    this.onTouched = noop;\n  }\n  ngOnInit() {\n    this.formControl.valueChanges.pipe(debounceTime(200), tap(value => this.onChange(value)), takeUntilDestroyed(this.destroyRef)).subscribe();\n  }\n  onBlur() {\n    this.onTouched();\n  }\n  writeValue(value) {\n    this.formControl.setValue(value, {\n      emitEvent: false\n    });\n  }\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    isDisabled ? this.formControl.disable() : this.formControl.enable();\n  }\n}\n_class = NumberInputComponent;\n_class.ɵfac = function NumberInputComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"number-input\"]],\n  inputs: {\n    placeholder: \"placeholder\"\n  },\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => _class),\n    multi: true\n  }])],\n  decls: 1,\n  vars: 2,\n  consts: [[\"type\", \"number\", 3, \"placeholder\", \"formControl\"]],\n  template: function NumberInputComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"input\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"placeholder\", ctx.placeholder)(\"formControl\", ctx.formControl);\n    }\n  },\n  dependencies: [i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.FormControlDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});","map":{"version":3,"names":["DestroyRef","forwardRef","inject","FormControl","NG_VALUE_ACCESSOR","debounceTime","noop","tap","takeUntilDestroyed","NumberInputComponent","constructor","formControl","destroyRef","placeholder","onChange","onTouched","ngOnInit","valueChanges","pipe","value","subscribe","onBlur","writeValue","setValue","emitEvent","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","disable","enable","selectors","inputs","features","i0","ɵɵProvidersFeature","provide","useExisting","multi","decls","vars","consts","template","NumberInputComponent_Template","rf","ctx","ɵɵelement","ɵɵproperty"],"sources":["C:\\Repo\\net.webfuel.next\\Webfuel.App\\ClientApp\\src\\app\\shared\\form\\number-input\\number-input.component.ts","C:\\Repo\\net.webfuel.next\\Webfuel.App\\ClientApp\\src\\app\\shared\\form\\number-input\\number-input.component.html"],"sourcesContent":["import { ChangeDetectionStrategy, Component, DestroyRef, forwardRef, inject, Input, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { debounceTime, noop, tap } from 'rxjs';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\n\r\n@Component({\r\n  selector: 'number-input',\r\n  templateUrl: './number-input.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => NumberInputComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class NumberInputComponent implements ControlValueAccessor, OnInit {\r\n\r\n  formControl: FormControl = new FormControl<number | null>(null);\r\n\r\n  destroyRef: DestroyRef = inject(DestroyRef);\r\n\r\n  constructor(\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.formControl.valueChanges\r\n      .pipe(\r\n        debounceTime(200),\r\n        tap(value => this.onChange(value)),\r\n        takeUntilDestroyed(this.destroyRef),\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  @Input()\r\n  placeholder = \"\";\r\n\r\n  public onBlur(): void {\r\n    this.onTouched();\r\n  }\r\n\r\n  // ControlValueAccessor API\r\n\r\n  onChange: (value: string) => void = noop;\r\n\r\n  onTouched: () => void = noop;\r\n\r\n  public writeValue(value: string): void {\r\n    this.formControl.setValue(value, { emitEvent: false });\r\n  }\r\n\r\n  public registerOnChange(fn: (value: string) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  public setDisabledState?(isDisabled: boolean): void {\r\n    isDisabled ? this.formControl.disable() : this.formControl.enable();\r\n  }\r\n}\r\n","\r\n\r\n\r\n<input type=\"number\" [placeholder]=\"placeholder\" [formControl]=\"formControl\" />\r\n\r\n"],"mappings":";AAAA,SAA6CA,UAAU,EAAEC,UAAU,EAAEC,MAAM,QAAuB,eAAe;AACjH,SAA+BC,WAAW,EAAEC,iBAAiB,QAAQ,gBAAgB;AACrF,SAASC,YAAY,EAAEC,IAAI,EAAEC,GAAG,QAAQ,MAAM;AAC9C,SAASC,kBAAkB,QAAQ,4BAA4B;;;AAc/D,OAAM,MAAOC,oBAAoB;EAM/BC,YAAA;IAJA,KAAAC,WAAW,GAAgB,IAAIR,WAAW,CAAgB,IAAI,CAAC;IAE/D,KAAAS,UAAU,GAAeV,MAAM,CAACF,UAAU,CAAC;IAiB3C,KAAAa,WAAW,GAAG,EAAE;IAMhB;IAEA,KAAAC,QAAQ,GAA4BR,IAAI;IAExC,KAAAS,SAAS,GAAeT,IAAI;EAvB5B;EAEAU,QAAQA,CAAA;IACN,IAAI,CAACL,WAAW,CAACM,YAAY,CAC1BC,IAAI,CACHb,YAAY,CAAC,GAAG,CAAC,EACjBE,GAAG,CAACY,KAAK,IAAI,IAAI,CAACL,QAAQ,CAACK,KAAK,CAAC,CAAC,EAClCX,kBAAkB,CAAC,IAAI,CAACI,UAAU,CAAC,CACpC,CACAQ,SAAS,EAAE;EAChB;EAKOC,MAAMA,CAAA;IACX,IAAI,CAACN,SAAS,EAAE;EAClB;EAQOO,UAAUA,CAACH,KAAa;IAC7B,IAAI,CAACR,WAAW,CAACY,QAAQ,CAACJ,KAAK,EAAE;MAAEK,SAAS,EAAE;IAAK,CAAE,CAAC;EACxD;EAEOC,gBAAgBA,CAACC,EAA2B;IACjD,IAAI,CAACZ,QAAQ,GAAGY,EAAE;EACpB;EAEOC,iBAAiBA,CAACD,EAAc;IACrC,IAAI,CAACX,SAAS,GAAGW,EAAE;EACrB;EAEOE,gBAAgBA,CAAEC,UAAmB;IAC1CA,UAAU,GAAG,IAAI,CAAClB,WAAW,CAACmB,OAAO,EAAE,GAAG,IAAI,CAACnB,WAAW,CAACoB,MAAM,EAAE;EACrE;;SA/CWtB,oBAAoB;;mBAApBA,MAAoB;AAAA;;QAApBA,MAAoB;EAAAuB,SAAA;EAAAC,MAAA;IAAApB,WAAA;EAAA;EAAAqB,QAAA,GAAAC,EAAA,CAAAC,kBAAA,CARpB,CACT;IACEC,OAAO,EAAEjC,iBAAiB;IAC1BkC,WAAW,EAAErC,UAAU,CAAC,MAAMQ,MAAoB,CAAC;IACnD8B,KAAK,EAAE;GACR,CACF;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZHV,EAAA,CAAAY,SAAA,eAA+E;;;MAA1DZ,EAAA,CAAAa,UAAA,gBAAAF,GAAA,CAAAjC,WAAA,CAA2B,gBAAAiC,GAAA,CAAAnC,WAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}