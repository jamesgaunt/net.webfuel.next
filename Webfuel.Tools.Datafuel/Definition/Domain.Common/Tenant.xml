<?xml version="1.0" encoding="utf-8" ?>

<Schema>

  <Entity Name="Tenant">
    <Key Name="Id" Type="guid" />
    <Property Name="Name" Type="meta:name" />
    <Property Name="Live" Type="boolean" Default="false" />

    <Index Unique="true">
      <Member Name="Name" />
    </Index>

    <Data>
      <Row Id="ff4bffc5-658f-494f-8414-767fee33a3e0" Name="Tenant A" Live="true" />
    </Data>

  </Entity>


  <Entity Name="TenantDomain">
    <Key Name="Id" Type="guid" />
    <Reference Name="TenantId" Type="Tenant" CascadeDelete="true" />
    <Property Name="Domain" Type="meta:name" />
    <Property Name="RedirectTo" Type="meta:name" />

    <Index Unique="true">
      <Member Name="Domain" />
    </Index>
    <Index Unique="false">
      <Member Name="TenantId" />
    </Index>

  </Entity>

</Schema>
