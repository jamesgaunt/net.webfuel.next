<?xml version="1.0" encoding="utf-8" ?>

<Schema>

  <Entity Name="User">
    <Key Name="Id" Type="guid" />
    
    <Property Name="Email" Type="meta:email" />

    <Property Name="FirstName" Type="meta:name" />
    <Property Name="LastName" Type="meta:name" />

    <Property Name="PasswordHash" Type="string[256]" JsonIgnore="true" />
    <Property Name="PasswordSalt" Type="string[256]" JsonIgnore="true" />
    <Property Name="PasswordResetAt" Type="Utc" JsonIgnore="true" />
    <Property Name="PasswordResetToken" Type="guid" JsonIgnore="true" />
    <Property Name="PasswordResetValidUntil" Type="Utc" JsonIgnore="true" />

    <Property Name="Developer" Type="boolean" />
    
    <Index Unique="true">
      <Member Name="Email" />
    </Index>
  </Entity>

  <Entity Name="UserListView" ReadOnly="true">
    <Key Name="Id" Type="guid"  />
    <Property Name="Email" Type="meta:email" />
    <View>
      <Sql>
        <![CDATA[
        SELECT [Id], [Email]
        FROM [User]
        ]]>
      </Sql>
    </View>
  </Entity>

  <Entity Name="UserGroup">
    <Key Name="Id" Type="guid" />
    <Property Name="Name" Type="meta:name" />
    
  </Entity>

  <Entity Name="UserGroupListView" ReadOnly="true">
    <Key Name="Id" Type="guid"  />
    <Property Name="Name" Type="meta:name" />
    <View>
      <Sql>
        <![CDATA[
        SELECT [Id], [Name]
        FROM [UserGroup]
        ]]>
      </Sql>
    </View>
  </Entity>


</Schema>
